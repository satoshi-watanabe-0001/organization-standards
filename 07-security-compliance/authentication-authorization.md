# èªè¨¼ãƒ»èªå¯æ¨™æº–
## Authentication & Authorization Standards

**æœ€çµ‚æ›´æ–°æ—¥**: 2025-10-23  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**å¯¾è±¡**: å…¨é–‹ç™ºè€…ãƒ»Devin AI  

---

## ç›®æ¬¡

1. [åŸºæœ¬åŸå‰‡](#1-åŸºæœ¬åŸå‰‡)
2. [èªè¨¼æ–¹å¼](#2-èªè¨¼æ–¹å¼)
3. [èªå¯ãƒ¢ãƒ‡ãƒ«](#3-èªå¯ãƒ¢ãƒ‡ãƒ«)
4. [ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†](#4-ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†)
5. [ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†](#5-ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†)
6. [ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼](#6-ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼)
7. [å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰](#7-å¤šè¦ç´ èªè¨¼mfa)
8. [APIèªè¨¼](#8-apièªè¨¼)
9. [å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](#9-å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³)
10. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#10-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)

---

## 1. åŸºæœ¬åŸå‰‡

### 1.1 ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆåŸå‰‡

**åŸºæœ¬æ€æƒ³**: ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç–‘ã„ã€å¸¸ã«æ¤œè¨¼

**å®Ÿè£…æ–¹é‡**:
- ğŸš« **Never Trust**: å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚‚ä¿¡é ¼ã—ãªã„
- âœ… **Always Verify**: ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’èªè¨¼ãƒ»èªå¯
- ğŸ”’ **Least Privilege**: æœ€å°æ¨©é™ã®åŸå‰‡ã‚’å³æ ¼é©ç”¨
- ğŸ“Š **Continuous Monitoring**: ç¶™ç¶šçš„ãªç›£è¦–ã¨æ¤œè¨¼

### 1.2 èªè¨¼ vs èªå¯

| é …ç›® | èªè¨¼ï¼ˆAuthenticationï¼‰ | èªå¯ï¼ˆAuthorizationï¼‰ |
|------|----------------------|---------------------|
| **å•ã„** | ã‚ãªãŸã¯èª°ã§ã™ã‹ï¼Ÿ | ã‚ãªãŸã¯ä½•ãŒã§ãã¾ã™ã‹ï¼Ÿ |
| **ç›®çš„** | ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥ | ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ |
| **å®Ÿè£…** | ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ | æ¨©é™ãƒã‚§ãƒƒã‚¯ã€ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ |
| **ã‚¿ã‚¤ãƒŸãƒ³ã‚°** | æœ€åˆã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ | ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹æ¯ |
| **ä¾‹** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª | ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯ |

### 1.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

**å¿…é ˆè¦ä»¶**:
- âœ… ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§èªè¨¼å¿…é ˆï¼ˆãƒ‘ãƒ–ãƒªãƒƒã‚¯APIé™¤ãï¼‰
- âœ… ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã§èªå¯ãƒã‚§ãƒƒã‚¯
- âœ… æ©Ÿå¯†æƒ…å ±ã®æš—å·åŒ–ä¿å­˜
- âœ… HTTPSé€šä¿¡å¿…é ˆ
- âœ… è©³ç´°ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°è¨˜éŒ²

---

## 2. èªè¨¼æ–¹å¼

### 2.1 JWTï¼ˆJSON Web Tokenï¼‰èªè¨¼ã€æ¨å¥¨ã€‘

#### **æ¦‚è¦**
- **ç”¨é€”**: Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã€SPA
- **æ–¹å¼**: ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹èªè¨¼
- **ãƒˆãƒ¼ã‚¯ãƒ³ç¨®é¡**: ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ + ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³

#### **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client   â”‚                 â”‚  Server  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                            â”‚
     â”‚ 1. Login (ID/PW)           â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                            â”‚ 2. Verify
     â”‚                            â”‚    Credentials
     â”‚                            â”‚
     â”‚ 3. JWT (Access + Refresh)  â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                            â”‚
     â”‚ 4. Request + Access Token  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                            â”‚ 5. Verify Token
     â”‚                            â”‚
     â”‚ 6. Response                â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

#### **ãƒˆãƒ¼ã‚¯ãƒ³æ§‹é€ **
```json
// Access Token (æœ‰åŠ¹æœŸé™: 15åˆ†)
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "user_id": "user-123",
    "email": "user@example.com",
    "roles": ["user", "editor"],
    "permissions": ["read:articles", "write:articles"],
    "iat": 1698000000,
    "exp": 1698000900
  },
  "signature": "..."
}

// Refresh Token (æœ‰åŠ¹æœŸé™: 7æ—¥)
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "user_id": "user-123",
    "token_id": "refresh-token-456",
    "iat": 1698000000,
    "exp": 1698604800
  },
  "signature": "..."
}
```

#### **å®Ÿè£…è¦ä»¶**
- âœ… ç½²åã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ : HS256 (HMAC) ã¾ãŸã¯ RS256 (RSA)
- âœ… ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™: 15åˆ†
- âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™: 7æ—¥
- âœ… ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæä¾›
- âœ… ãƒˆãƒ¼ã‚¯ãƒ³å¤±åŠ¹ï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰æ©Ÿèƒ½
- âœ… `jti`ï¼ˆJWT IDï¼‰ã§ãƒˆãƒ¼ã‚¯ãƒ³ä¸€æ„æ€§ç¢ºä¿

---

### 2.2 OAuth 2.0ã€å¤–éƒ¨é€£æºã€‘

#### **æ¦‚è¦**
- **ç”¨é€”**: ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£é€£æºï¼ˆGoogleã€GitHubç­‰ï¼‰
- **æ–¹å¼**: å§”è­²èªè¨¼
- **ãƒ•ãƒ­ãƒ¼**: Authorization Code Flowï¼ˆæ¨å¥¨ï¼‰

#### **å®Ÿè£…è¦ä»¶**
- âœ… PKCEï¼ˆProof Key for Code Exchangeï¼‰å¿…é ˆ
- âœ… stateãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§CSRFå¯¾ç­–
- âœ… ã‚¹ã‚³ãƒ¼ãƒ—ã®æœ€å°åŒ–
- âœ… ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®å®‰å…¨ãªä¿å­˜

---

### 2.3 ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ã€ãƒ¬ã‚¬ã‚·ãƒ¼ã€‘

#### **æ¦‚è¦**
- **ç”¨é€”**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®äº’æ›æ€§ç¶­æŒ
- **æ–¹å¼**: ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«èªè¨¼
- **æ¨å¥¨**: æ–°è¦é–‹ç™ºã§ã¯éæ¨å¥¨

#### **å®Ÿè£…è¦ä»¶ï¼ˆæ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã®ã¿ï¼‰**
- âœ… HTTPOnly Cookieä½¿ç”¨
- âœ… Secure Cookieï¼ˆHTTPSå¿…é ˆï¼‰
- âœ… SameSiteå±æ€§è¨­å®šï¼ˆStrict ã¾ãŸã¯ Laxï¼‰
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30åˆ†
- âœ… å†èªè¨¼è¦æ±‚: é‡è¦æ“ä½œæ™‚

---

## 3. èªå¯ãƒ¢ãƒ‡ãƒ«

### 3.1 RBACï¼ˆRole-Based Access Controlï¼‰ã€æ¨å¥¨ã€‘

#### **æ¦‚è¦**
- **æ–¹å¼**: ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **ç”¨é€”**: æ¨™æº–çš„ãªæ¨©é™ç®¡ç†

#### **ãƒ­ãƒ¼ãƒ«éšå±¤**
```
super_admin (æœ€é«˜æ¨©é™)
  â”œâ”€ admin (ç®¡ç†è€…)
  â”‚   â”œâ”€ content_manager (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†)
  â”‚   â””â”€ user_manager (ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†)
  â”œâ”€ editor (ç·¨é›†è€…)
  â”‚   â””â”€ contributor (å¯„ç¨¿è€…)
  â””â”€ user (ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼)
      â””â”€ guest (ã‚²ã‚¹ãƒˆ)
```

#### **æ¨™æº–ãƒ­ãƒ¼ãƒ«å®šç¾©**

| ãƒ­ãƒ¼ãƒ« | æ¨©é™ | ç”¨é€” |
|--------|------|------|
| `super_admin` | å…¨æ¨©é™ | ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€… |
| `admin` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€è¨­å®šå¤‰æ›´ | çµ„ç¹”ç®¡ç†è€… |
| `editor` | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆãƒ»ç·¨é›†ãƒ»å…¬é–‹ | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç·¨é›†è€… |
| `contributor` | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆãƒ»ç·¨é›†ï¼ˆå…¬é–‹ä¸å¯ï¼‰ | å¯„ç¨¿è€… |
| `user` | åŸºæœ¬æ©Ÿèƒ½åˆ©ç”¨ | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| `guest` | é–²è¦§ã®ã¿ | ã‚²ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ |

#### **ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³å®šç¾©**
```
ãƒªã‚½ãƒ¼ã‚¹:ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å½¢å¼

ä¾‹:
- users:read          # ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±èª­ã¿å–ã‚Š
- users:write         # ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç·¨é›†
- users:delete        # ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤
- articles:read       # è¨˜äº‹é–²è¦§
- articles:write      # è¨˜äº‹ä½œæˆãƒ»ç·¨é›†
- articles:publish    # è¨˜äº‹å…¬é–‹
- settings:read       # è¨­å®šé–²è¦§
- settings:write      # è¨­å®šå¤‰æ›´
```

#### **ãƒ­ãƒ¼ãƒ«ãƒ»ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒãƒƒãƒ”ãƒ³ã‚°**
```json
{
  "super_admin": ["*:*"],
  "admin": [
    "users:*",
    "articles:*",
    "settings:read",
    "settings:write"
  ],
  "editor": [
    "users:read",
    "articles:read",
    "articles:write",
    "articles:publish"
  ],
  "contributor": [
    "users:read",
    "articles:read",
    "articles:write"
  ],
  "user": [
    "articles:read",
    "profile:read",
    "profile:write"
  ],
  "guest": [
    "articles:read"
  ]
}
```

---

### 3.2 ABACï¼ˆAttribute-Based Access Controlï¼‰ã€é«˜åº¦ã€‘

#### **æ¦‚è¦**
- **æ–¹å¼**: å±æ€§ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **ç”¨é€”**: è¤‡é›‘ãªæ¨©é™ç®¡ç†ï¼ˆçµ„ç¹”ã€åœ°åŸŸã€æ™‚é–“ç­‰ï¼‰

#### **å®Ÿè£…ä¾‹**
```javascript
// ãƒãƒªã‚·ãƒ¼å®šç¾©
{
  "resource": "document",
  "action": "read",
  "conditions": {
    "user.department": "document.department",
    "user.clearance_level": ">=document.classification_level",
    "current_time": "within document.access_hours"
  }
}

// è©•ä¾¡
function canAccess(user, document, action) {
  // éƒ¨é–€ä¸€è‡´ãƒã‚§ãƒƒã‚¯
  if (user.department !== document.department) return false;
  
  // ã‚¯ãƒªã‚¢ãƒ©ãƒ³ã‚¹ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯
  if (user.clearance_level < document.classification_level) return false;
  
  // æ™‚é–“å¸¯ãƒã‚§ãƒƒã‚¯
  const now = new Date();
  if (!isWithinAccessHours(now, document.access_hours)) return false;
  
  return true;
}
```

---

## 4. ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

### 4.1 ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³

**ä»•æ§˜**:
- **å½¢å¼**: JWT
- **æœ‰åŠ¹æœŸé™**: 15åˆ†
- **ä¿å­˜å ´æ‰€**: ãƒ¡ãƒ¢ãƒªï¼ˆæ¨å¥¨ï¼‰ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **æ›´æ–°**: æœ‰åŠ¹æœŸé™å‰ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã§æ›´æ–°

**ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰**:
```json
{
  "user_id": "string",
  "email": "string",
  "roles": ["string"],
  "permissions": ["string"],
  "iat": "number",
  "exp": "number",
  "jti": "string"  // JWT IDï¼ˆä¸€æ„æ€§ç¢ºä¿ï¼‰
}
```

### 4.2 ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³

**ä»•æ§˜**:
- **å½¢å¼**: JWT ã¾ãŸã¯ UUID
- **æœ‰åŠ¹æœŸé™**: 7æ—¥
- **ä¿å­˜å ´æ‰€**: HTTPOnly Cookieï¼ˆæ¨å¥¨ï¼‰
- **å›è»¢**: ä½¿ç”¨æ¯ã«æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œï¼ˆæ¨å¥¨ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ï¼ˆå¤±åŠ¹ç®¡ç†ï¼‰
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã€ãƒ‡ãƒã‚¤ã‚¹IDç´ä»˜ã‘
- âœ… ä½¿ç”¨å¾Œã¯å³åº§ã«å¤±åŠ¹ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ç•°å¸¸æ¤œçŸ¥æ™‚ã®å…¨ãƒˆãƒ¼ã‚¯ãƒ³å¤±åŠ¹

### 4.3 ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client   â”‚                 â”‚  Server  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                            â”‚
     â”‚ 1. Refresh Token           â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                            â”‚ 2. Verify
     â”‚                            â”‚    Refresh Token
     â”‚                            â”‚
     â”‚                            â”‚ 3. Revoke Old
     â”‚                            â”‚    Refresh Token
     â”‚                            â”‚
     â”‚ 4. New Access + Refresh    â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

### 4.4 ãƒˆãƒ¼ã‚¯ãƒ³å¤±åŠ¹

**å¤±åŠ¹ç†ç”±**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´
- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–
- ç•°å¸¸ã‚¢ã‚¯ã‚»ã‚¹æ¤œçŸ¥
- ç®¡ç†è€…ã«ã‚ˆã‚‹å¼·åˆ¶ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

**å®Ÿè£…æ–¹å¼**:
1. **ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆæ–¹å¼**ï¼ˆæ¨å¥¨ï¼‰
   - å¤±åŠ¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’Redisç­‰ã«ä¿å­˜
   - TTLã‚’ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ã«è¨­å®š
   - ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼æ™‚ã«ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆãƒã‚§ãƒƒã‚¯

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†**
   - ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã‚’DBä¿å­˜
   - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ™‚ã«DBå‰Šé™¤
   - ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼æ™‚ã«DBç¢ºèª

---

## 5. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

### 5.1 ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¨®é¡ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ç”¨é€” |
|--------------|------------|------|
| **ä¸€èˆ¬ã‚»ãƒƒã‚·ãƒ§ãƒ³** | 30åˆ†ï¼ˆç„¡æ“ä½œæ™‚ï¼‰ | é€šå¸¸åˆ©ç”¨ |
| **ç®¡ç†ã‚»ãƒƒã‚·ãƒ§ãƒ³** | 15åˆ†ï¼ˆç„¡æ“ä½œæ™‚ï¼‰ | ç®¡ç†ç”»é¢ |
| **APIã‚»ãƒƒã‚·ãƒ§ãƒ³** | 15åˆ†ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ï¼‰ | APIåˆ©ç”¨ |
| **è¨˜æ†¶ã‚»ãƒƒã‚·ãƒ§ãƒ³** | 30æ—¥ | "ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒ"æ©Ÿèƒ½ |

### 5.2 ã‚»ãƒƒã‚·ãƒ§ãƒ³å›ºå®šæ”»æ’ƒå¯¾ç­–

**å¯¾ç­–**:
- âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³IDå†ç”Ÿæˆ
- âœ… æ¨©é™æ˜‡æ ¼æ™‚ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³IDå†ç”Ÿæˆ
- âœ… HTTPOnly Cookieä½¿ç”¨
- âœ… Secure Cookieï¼ˆHTTPSï¼‰ä½¿ç”¨

### 5.3 åŒæ™‚ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¶å¾¡

**å®Ÿè£…æ–¹å¼**:
- **å˜ä¸€ã‚»ãƒƒã‚·ãƒ§ãƒ³**: 1ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿
- **è¤‡æ•°ã‚»ãƒƒã‚·ãƒ§ãƒ³**: åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ã§ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½

**æ¨å¥¨è¨­å®š**:
- ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼: æœ€å¤§5ã‚»ãƒƒã‚·ãƒ§ãƒ³
- ç®¡ç†è€…: æœ€å¤§3ã‚»ãƒƒã‚·ãƒ§ãƒ³
- è¶…éæ™‚: æœ€å¤ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•å¤±åŠ¹

---

## 6. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼

### 6.1 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¦ä»¶

**å¿…é ˆè¦ä»¶**:
- âœ… æœ€å°é•·: 12æ–‡å­—ï¼ˆæ¨å¥¨: 16æ–‡å­—ï¼‰
- âœ… æ–‡å­—ç¨®: å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»æ•°å­—ãƒ»è¨˜å·ã‚’å«ã‚€
- âœ… è¾æ›¸æ”»æ’ƒå¯¾ç­–: ã‚ˆãã‚ã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¦æ­¢
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å«æœ‰ç¦æ­¢: åå‰ãƒ»ãƒ¡ãƒ¼ãƒ«ç­‰

**ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- é€£ç¶šæ–‡å­—: `123456`, `abcdef`
- ç¹°ã‚Šè¿”ã—: `aaaaaa`, `111111`
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰é…åˆ—: `qwerty`, `asdfgh`
- ã‚ˆãã‚ã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `password`, `admin123`

### 6.2 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿å­˜

**å¿…é ˆè¦ä»¶**:
- âœ… ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ : bcryptï¼ˆæ¨å¥¨ï¼‰ã€Argon2ã€PBKDF2
- âœ… ã‚½ãƒ«ãƒˆ: ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¯
- âœ… ã‚³ã‚¹ãƒˆä¿‚æ•°: bcrypt rounds=12ä»¥ä¸Š

**âŒ ç¦æ­¢**:
- å¹³æ–‡ä¿å­˜
- MD5ã€SHA-1ãƒãƒƒã‚·ãƒ¥
- ã‚½ãƒ«ãƒˆãªã—ãƒãƒƒã‚·ãƒ¥
- ãƒªãƒãƒ¼ã‚·ãƒ–ãƒ«æš—å·åŒ–

**å®Ÿè£…ä¾‹ï¼ˆbcryptï¼‰**:
```javascript
// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
const bcrypt = require('bcrypt');
const saltRounds = 12;

async function hashPassword(plainPassword) {
  const hash = await bcrypt.hash(plainPassword, saltRounds);
  return hash;  // ä¾‹: $2b$12$KIX...
}

// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
async function verifyPassword(plainPassword, hash) {
  const match = await bcrypt.compare(plainPassword, hash);
  return match;  // true or false
}
```

### 6.3 ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ

**ãƒ•ãƒ­ãƒ¼**:
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªã‚»ãƒƒãƒˆè¦æ±‚
2. ä¸€æ™‚ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆï¼ˆæœ‰åŠ¹æœŸé™: 1æ™‚é–“ï¼‰
3. ãƒ¡ãƒ¼ãƒ«ã§ãƒªã‚»ãƒƒãƒˆãƒªãƒ³ã‚¯é€ä¿¡
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ–°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š
5. ãƒˆãƒ¼ã‚¯ãƒ³å¤±åŠ¹ã€æ–°ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§æ›´æ–°

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- âœ… ãƒˆãƒ¼ã‚¯ãƒ³ã¯æš—å·å­¦çš„ã«å®‰å…¨ãªä¹±æ•°
- âœ… ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™: 1æ™‚é–“
- âœ… ä½¿ç”¨å¾Œå³åº§ã«å¤±åŠ¹
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™: åŒä¸€ãƒ¦ãƒ¼ã‚¶ãƒ¼1æ™‚é–“ã«3å›ã¾ã§

---

## 7. å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰

### 7.1 MFAæ–¹å¼

#### **TOTPï¼ˆTime-based One-Time Passwordï¼‰ã€æ¨å¥¨ã€‘**
- **å®Ÿè£…**: Google Authenticatorã€Authyç­‰
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: é«˜
- **åˆ©ä¾¿æ€§**: é«˜

#### **SMSèªè¨¼**
- **å®Ÿè£…**: SMSçµŒç”±ã§ã‚³ãƒ¼ãƒ‰é€ä¿¡
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ä¸­ï¼ˆSIMã‚¹ãƒ¯ãƒƒãƒ”ãƒ³ã‚°ãƒªã‚¹ã‚¯ï¼‰
- **åˆ©ä¾¿æ€§**: é«˜

#### **Emailèªè¨¼**
- **å®Ÿè£…**: EmailçµŒç”±ã§ã‚³ãƒ¼ãƒ‰é€ä¿¡
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ä¸­
- **åˆ©ä¾¿æ€§**: é«˜

### 7.2 MFAæœ‰åŠ¹åŒ–ãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒMFAè¨­å®šç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
   â†“
2. QRã‚³ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆTOTP secretã‚’å«ã‚€ï¼‰
   â†“
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒAuthenticatorã‚¢ãƒ—ãƒªã§ã‚¹ã‚­ãƒ£ãƒ³
   â†“
4. 6æ¡ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã§æ¤œè¨¼
   â†“
5. MFAæœ‰åŠ¹åŒ–å®Œäº†
   â†“
6. ãƒªã‚«ãƒãƒªãƒ¼ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»è¡¨ç¤ºï¼ˆ10å€‹ï¼‰
```

### 7.3 MFAãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
   â†“
2. ç¬¬1è¦ç´ æ¤œè¨¼æˆåŠŸ
   â†“
3. MFAè¦æ±‚ç”»é¢è¡¨ç¤º
   â†“
4. 6æ¡ã‚³ãƒ¼ãƒ‰å…¥åŠ›
   â†“
5. ç¬¬2è¦ç´ æ¤œè¨¼æˆåŠŸ
   â†“
6. ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†
```

### 7.4 ãƒªã‚«ãƒãƒªãƒ¼ã‚³ãƒ¼ãƒ‰

**ä»•æ§˜**:
- **ç”Ÿæˆæ•°**: 10å€‹
- **å½¢å¼**: 8-16æ¡ã®è‹±æ•°å­—
- **ä½¿ç”¨**: 1å›ã®ã¿ï¼ˆä½¿ç”¨å¾Œå¤±åŠ¹ï¼‰
- **ä¿å­˜**: ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã¦DBä¿å­˜

**åˆ©ç”¨ã‚·ãƒ¼ãƒ³**:
- Authenticatorã‚¢ãƒ—ãƒªã‚’ç´›å¤±
- ãƒ‡ãƒã‚¤ã‚¹æ©Ÿç¨®å¤‰æ›´
- ç·Šæ€¥ãƒ­ã‚°ã‚¤ãƒ³å¿…è¦æ™‚

---

## 8. APIèªè¨¼

### 8.1 API Keyèªè¨¼

**ç”¨é€”**: ã‚µãƒ¼ãƒãƒ¼é–“é€šä¿¡ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£é€£æº

**å®Ÿè£…**:
```
Authorization: Bearer api_key_abc123xyz...
```

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- âœ… APIã‚­ãƒ¼é•·: 32æ–‡å­—ä»¥ä¸Š
- âœ… æš—å·å­¦çš„ã«å®‰å…¨ãªä¹±æ•°ç”Ÿæˆ
- âœ… ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã¦DBä¿å­˜
- âœ… ã‚¹ã‚³ãƒ¼ãƒ—åˆ¶é™ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ç­‰ï¼‰
- âœ… IPåˆ¶é™ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™

### 8.2 JWT Bearer Token

**ç”¨é€”**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã€SPA

**å®Ÿè£…**:
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**æ¤œè¨¼ãƒ•ãƒ­ãƒ¼**:
```javascript
// ç–‘ä¼¼ã‚³ãƒ¼ãƒ‰
function authenticateRequest(req) {
  // 1. Authorizationãƒ˜ãƒƒãƒ€ãƒ¼å–å¾—
  const authHeader = req.headers['authorization'];
  if (!authHeader) return unauthorized();
  
  // 2. Bearer TokenæŠ½å‡º
  const token = authHeader.split(' ')[1];
  if (!token) return unauthorized();
  
  // 3. JWTæ¤œè¨¼
  try {
    const decoded = jwt.verify(token, SECRET_KEY);
    
    // 4. æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯
    if (decoded.exp < Date.now() / 1000) {
      return unauthorized('Token expired');
    }
    
    // 5. ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆãƒã‚§ãƒƒã‚¯
    if (await isTokenBlacklisted(decoded.jti)) {
      return unauthorized('Token revoked');
    }
    
    // 6. ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ä»˜ä¸
    req.user = decoded;
    return next();
    
  } catch (error) {
    return unauthorized('Invalid token');
  }
}
```

---

## 9. å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 9.1 èªè¨¼ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### **POST /api/auth/login**
```javascript
// Request
{
  "email": "user@example.com",
  "password": "SecurePassword123!",
  "remember_me": false
}

// Response (Success)
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 900,  // 15åˆ†ï¼ˆç§’ï¼‰
  "user": {
    "id": "user-123",
    "email": "user@example.com",
    "roles": ["user", "editor"],
    "mfa_enabled": false
  }
}

// Response (MFA Required)
{
  "mfa_required": true,
  "mfa_token": "temp-token-for-mfa",
  "mfa_methods": ["totp", "sms"]
}

// Response (Error)
{
  "error": "invalid_credentials",
  "error_description": "Invalid email or password"
}
```

#### **POST /api/auth/logout**
```javascript
// Request
{
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}

// Response
{
  "message": "Logout successful"
}
```

#### **POST /api/auth/refresh**
```javascript
// Request
{
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}

// Response
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",  // æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³
  "token_type": "Bearer",
  "expires_in": 900
}
```

### 9.2 èªå¯ãƒã‚§ãƒƒã‚¯å®Ÿè£…

#### **ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ä¾‹ï¼ˆNode.js/Expressï¼‰**
```javascript
// èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
function authenticate(req, res, next) {
  const token = extractToken(req);
  if (!token) return res.status(401).json({ error: 'No token provided' });
  
  try {
    const decoded = jwt.verify(token, SECRET_KEY);
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({ error: 'Invalid token' });
  }
}

// ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹èªå¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
function requireRole(...allowedRoles) {
  return (req, res, next) => {
    if (!req.user) return res.status(401).json({ error: 'Not authenticated' });
    
    const hasRole = req.user.roles.some(role => allowedRoles.includes(role));
    if (!hasRole) {
      return res.status(403).json({ error: 'Insufficient permissions' });
    }
    
    next();
  };
}

// ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªå¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
function requirePermission(permission) {
  return (req, res, next) => {
    if (!req.user) return res.status(401).json({ error: 'Not authenticated' });
    
    if (!req.user.permissions.includes(permission)) {
      return res.status(403).json({ error: 'Insufficient permissions' });
    }
    
    next();
  };
}

// ä½¿ç”¨ä¾‹
app.get('/api/users', 
  authenticate, 
  requireRole('admin', 'user_manager'), 
  getUsersHandler
);

app.post('/api/articles', 
  authenticate, 
  requirePermission('articles:write'), 
  createArticleHandler
);
```

---

## 10. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 10.1 DOï¼ˆæ¨å¥¨ï¼‰

âœ… **èªè¨¼ãƒ»èªå¯**:
- ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§èªè¨¼ãƒã‚§ãƒƒã‚¯
- ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹æ¯ã«èªå¯ãƒã‚§ãƒƒã‚¯
- æœ€å°æ¨©é™ã®åŸå‰‡ã‚’é©ç”¨
- MFAæœ‰åŠ¹åŒ–ã‚’æ¨å¥¨ï¼ˆç®¡ç†è€…ã¯å¿…é ˆï¼‰

âœ… **ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†**:
- ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¯çŸ­å‘½ï¼ˆ15åˆ†ï¼‰
- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- HTTPOnly Cookieä½¿ç”¨
- ãƒˆãƒ¼ã‚¯ãƒ³å¤±åŠ¹æ©Ÿèƒ½å®Ÿè£…

âœ… **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**:
- bcryptï¼ˆrounds=12ä»¥ä¸Šï¼‰ã§ãƒãƒƒã‚·ãƒ¥åŒ–
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒãƒªã‚·ãƒ¼é©ç”¨
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å±¥æ­´ç®¡ç†ï¼ˆéå»5å€‹å†åˆ©ç”¨ç¦æ­¢ï¼‰

âœ… **é€šä¿¡**:
- HTTPSå¿…é ˆ
- HSTSï¼ˆHTTP Strict Transport Securityï¼‰æœ‰åŠ¹åŒ–
- æ©Ÿå¯†æƒ…å ±ã®ãƒ­ã‚°å‡ºåŠ›ç¦æ­¢

âœ… **ç›£è¦–ãƒ»ãƒ­ã‚°**:
- èªè¨¼è©¦è¡Œã®ãƒ­ã‚°è¨˜éŒ²
- ç•°å¸¸æ¤œçŸ¥ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ
- å®šæœŸçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

### 10.2 DON'Tï¼ˆç¦æ­¢ï¼‰

âŒ **èªè¨¼ãƒ»èªå¯**:
- èªè¨¼ãªã—ã§ãƒªã‚½ãƒ¼ã‚¹å…¬é–‹
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã¿ã§èªå¯åˆ¤æ–­
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ”¾ç½®

âŒ **ãƒˆãƒ¼ã‚¯ãƒ³**:
- ãƒˆãƒ¼ã‚¯ãƒ³ã‚’URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§é€ä¿¡
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«æ©Ÿå¯†æƒ…å ±ä¿å­˜
- ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ãªã—

âŒ **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**:
- å¹³æ–‡ä¿å­˜
- å¼±ã„ãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆMD5, SHA-1ï¼‰
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ­ã‚°å‡ºåŠ›

âŒ **é€šä¿¡**:
- HTTPé€šä¿¡ã§æ©Ÿå¯†æƒ…å ±é€ä¿¡
- è‡ªå·±ç½²åè¨¼æ˜æ›¸ã®æœ¬ç•ªåˆ©ç”¨
- SSL/TLSè¨­å®šã®ä¸å‚™

---

## 11. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 11.1 ã‚ˆãã‚ã‚‹å•é¡Œ

**å•é¡Œ**: ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™åˆ‡ã‚Œã‚¨ãƒ©ãƒ¼ãŒé »ç™º

**åŸå› **: ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ãŒçŸ­ã™ãã‚‹

**å¯¾ç­–**:
- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³è‡ªå‹•æ›´æ–°å®Ÿè£…
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§æœ‰åŠ¹æœŸé™ç®¡ç†
- æœ‰åŠ¹æœŸé™5åˆ†å‰ã«è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥

---

**å•é¡Œ**: CORS ã‚¨ãƒ©ãƒ¼ã§èªè¨¼ãƒ˜ãƒƒãƒ€ãƒ¼ãŒé€ä¿¡ã•ã‚Œãªã„

**åŸå› **: CORSã® `Access-Control-Allow-Headers` è¨­å®šä¸è¶³

**å¯¾ç­–**:
```javascript
app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', 'https://example.com');
  res.header('Access-Control-Allow-Headers', 'Authorization, Content-Type');
  res.header('Access-Control-Allow-Credentials', 'true');
  next();
});
```

---

## æ”¹è¨‚å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | å¤‰æ›´è€… |
|-----------|------|----------|--------|
| 1.0 | 2025-10-23 | åˆç‰ˆä½œæˆ | ã‚·ã‚¹ãƒ†ãƒ  |

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å…¨é–‹ç™ºè€…ãŒéµå®ˆã™ã¹ãã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¨™æº–ã§ã™ã€‚èªè¨¼ãƒ»èªå¯ã®é©åˆ‡ãªå®Ÿè£…ã¯ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§ã®åŸºç›¤ã§ã™ã€‚**
