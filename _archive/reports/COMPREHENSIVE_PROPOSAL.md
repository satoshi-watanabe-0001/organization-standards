# 自律型AI開発における包括的ドキュメント参照ガイド - 提案書

**作成日**: 2025-11-05  
**対象**: 全開発フェーズ(Phase 0-6)  
**目的**: PBIベース開発における自律型AIの完全なドキュメント参照体系の構築

---

## 📊 エグゼクティブサマリー

### 現状分析
貴組織には既に**優れたドキュメント体系**が構築されています:
- **10カテゴリ、97ファイル、約750KB**の包括的な組織標準
- **7つのAI活用ガイド**による実践的な支援
- **Tier 1-4の階層構造**による優先度管理

### 発見された課題
1. **Phase 0(要件分析・企画)の詳細ガイド不足**
   - PBIからの要件抽出プロセスが未文書化
   - タスク細分化の具体的手法が不明確

2. **フェーズ横断的な一貫性の欠如**
   - 各フェーズのドキュメント参照が独立して記述
   - フェーズ間の情報継承ルールが未定義

3. **意思決定支援の不足**
   - 複数ドキュメント間の矛盾解決ルールが曖昧
   - 状況別の判断フローが不足

### 提案する解決策
**3つの新規マスタードキュメント + 既存ドキュメントの体系的拡張**

---

## 🎯 提案内容の全体像

### アプローチ: 3層構造のドキュメント体系

```
┌─────────────────────────────────────────────────────┐
│  Layer 1: マスタードキュメント (新規作成)              │
│  ├─ 1. AI-MASTER-WORKFLOW-GUIDE.md                  │
│  ├─ 2. AI-DOCUMENT-NAVIGATOR.md                     │
│  └─ 3. AI-DECISION-FRAMEWORK.md                     │
├─────────────────────────────────────────────────────┤
│  Layer 2: フェーズ別ガイド (拡張・新規)                │
│  ├─ Phase 0: 要件分析・企画ガイド (新規)              │
│  ├─ Phase 1: プロジェクト初期化ガイド (拡張)          │
│  ├─ Phase 2: 設計ガイド (拡張)                       │
│  ├─ Phase 3: 実装ガイド (既存)                       │
│  ├─ Phase 4: レビュー・品質保証ガイド (拡張)          │
│  ├─ Phase 5: デプロイメントガイド (拡張)              │
│  └─ Phase 6: 運用・保守ガイド (拡張)                 │
├─────────────────────────────────────────────────────┤
│  Layer 3: 組織標準ドキュメント (既存)                 │
│  └─ 10カテゴリ、97ファイル                          │
└─────────────────────────────────────────────────────┘
```

---

## 📘 Layer 1: マスタードキュメント (新規作成)

### 1. AI-MASTER-WORKFLOW-GUIDE.md

**目的**: PBIから開始する全フェーズの統合ワークフロー

**構成**:
```markdown
# AI Master Workflow Guide

## 1. 全体フロー
- PBI → Phase 0 → Phase 1 → ... → Phase 6 の完全なフロー
- 各フェーズの入力・出力・成果物の明確化
- フェーズ間の情報継承ルール

## 2. Phase 0: 要件分析・企画 (詳細)
### 2.1 PBI読み込みプロセス
- PBIの構造理解
  - タイトル、説明、受入基準、技術的制約
- 必須情報チェックリスト
- 不明点の特定と人間への確認方法

### 2.2 タスク細分化プロセス
- 粒度判定基準 (レベル0-4)
  - レベル0: 機能全体 (複数日〜数週間)
  - レベル1: コンポーネント (1日〜数日)
  - レベル2: クラス/モジュール (数時間〜1日)
  - レベル3: メソッド/関数 (30分〜数時間)
  - レベル4: ロジック単位 (数分〜30分)
- タスク分解アルゴリズム
  - トップダウン分解法
  - 依存関係の特定
  - 並行実行可能性の判定

### 2.3 初期ドキュメント参照戦略
- Phase 0で参照すべきドキュメント
  - 08-templates: プロジェクト提案テンプレート
  - 09-reference: 用語集、ベストプラクティス
  - 10-governance: 技術レーダー

## 3. Phase 1-6の統合ガイド
[各フェーズの詳細は既存AI-WORKFLOWS.mdを参照]

## 4. フェーズ横断的な考慮事項
### 4.1 情報の継承
- Phase N の出力 → Phase N+1 の入力
- トレーサビリティの確保

### 4.2 継続的な品質確認
- 各フェーズでのチェックポイント
- ロールバック基準

### 4.3 人間とのコラボレーション
- エスカレーションポイント
- レビュー要求タイミング
```

**サイズ見積**: 約40KB (既存AI-WORKFLOWS.mdの2倍)

---

### 2. AI-DOCUMENT-NAVIGATOR.md

**目的**: AIが迷わずに適切なドキュメントを選択できる意思決定ツリー

**構成**:
```markdown
# AI Document Navigator

## 1. ナビゲーションの原則
- 必須(🔴) → 推奨(🟡) → 参考(⚪) の順に参照
- より具体的なドキュメントを優先
- 矛盾時は新しいドキュメントを優先

## 2. フェーズ別クイックナビゲーション

### Phase 0: 要件分析・企画
```
START → PBI分析
  ↓
[Q1] プロジェクト提案書が必要か?
  Yes → 08-templates/project-proposal-template.md 🟡
  No  → 次へ
  ↓
[Q2] 技術選定が必要か?
  Yes → 10-governance/technology-radar.md ⚪
        09-reference/decision-matrix.md ⚪
  No  → 次へ
  ↓
[Q3] 用語・概念の確認が必要か?
  Yes → 09-reference/glossary.md ⚪
  No  → Phase 1へ
```

### Phase 1: プロジェクト初期化
[意思決定ツリー]

### Phase 2: 設計
[意思決定ツリー]

### Phase 3: 実装
[意思決定ツリー - 既存implementation-phase-document-reference-guide.mdを統合]

### Phase 4-6
[意思決定ツリー]

## 3. タスクタイプ別ナビゲーション
### 3.1 新規実装
### 3.2 バグ修正
### 3.3 リファクタリング
### 3.4 パフォーマンス改善
### 3.5 セキュリティ強化

## 4. レイヤー別ナビゲーション
### 4.1 プレゼンテーション層
### 4.2 サービス層
### 4.3 データアクセス層
### 4.4 インフラ層

## 5. CRUD操作別ナビゲーション
### 5.1 Create
### 5.2 Read
### 5.3 Update
### 5.4 Delete

## 6. ドキュメント参照履歴テンプレート
[AIが参照したドキュメントを記録するフォーマット]
```

**サイズ見積**: 約35KB

---

### 3. AI-DECISION-FRAMEWORK.md

**目的**: 複雑な判断が必要な場合の意思決定フレームワーク

**構成**:
```markdown
# AI Decision Framework

## 1. 意思決定の原則
### 1.1 基本原則
- データドリブン: 定量的基準を優先
- トレーサビリティ: 判断根拠を記録
- 人間との協働: 不確実性が高い場合はエスカレーション

### 1.2 判断の優先順位
1. セキュリティ > 機能性
2. 標準準拠 > 個別最適化
3. 保守性 > パフォーマンス (トレードオフ時)

## 2. ドキュメント間の矛盾解決ルール

### ルール1: 具体性の原則
- 抽象的ガイドライン < 具体的実装手順
- 例: 
  - general-principles.md (抽象的)
  - < python-standards.md (具体的) ✓

### ルール2: 新しさの原則
- 古いドキュメント < 新しいドキュメント
- last_updated日付で判定

### ルール3: ドメイン固有性の原則
- 一般的標準 < ドメイン固有標準
- 例:
  - 01-coding-standards/general-principles.md (一般)
  - < 03-domain-guidelines/fintech-specific.md (固有) ✓

### ルール4: Tier の原則
- 同じ具体性の場合、Tier 1 > Tier 2 > Tier 3 > Tier 4

## 3. 技術選定の意思決定フレームワーク

### 3.1 評価マトリクス
| 評価軸 | 重み | 評価方法 |
|--------|------|----------|
| パフォーマンス | 30% | ベンチマーク結果 |
| スケーラビリティ | 25% | 実績・アーキテクチャ分析 |
| 運用コスト | 20% | TCO計算 |
| チームスキル | 15% | 学習曲線・経験 |
| エコシステム | 10% | コミュニティ・ライブラリ |

### 3.2 判断プロセス
1. 要件の明確化
2. 候補技術の抽出 (05-technology-stack/)
3. 評価マトリクスでスコアリング
4. 10-governance/technology-radar.mdで組織方針確認
5. 最終判断 (人間承認が必要な場合も明記)

## 4. アーキテクチャパターン選定

### 4.1 判断基準
[フローチャート]
- システム規模は? → 小/中/大
- チーム規模は? → 1-5人 / 6-20人 / 21人以上
- 変更頻度は? → 低/中/高
  ↓
- 推奨パターン提示

### 4.2 パターン選定マトリクス
[詳細なマトリクス]

## 5. エスカレーション基準

### 5.1 即座にエスカレーション (人間判断が必要)
- [ ] セキュリティに重大な影響
- [ ] 標準から大きく逸脱
- [ ] 技術選定が組織方針と矛盾
- [ ] 複数ドキュメント間で解決不能な矛盾
- [ ] 予算・スケジュールへの重大な影響

### 5.2 実装後レビュー要求
- [ ] 新しいアーキテクチャパターンの採用
- [ ] パフォーマンス要件が厳しい
- [ ] 複雑なビジネスロジック

## 6. 意思決定の記録テンプレート

### ADR (Architecture Decision Record) テンプレート
[08-templates/adr-template.md を参照]

### 技術選定書テンプレート
[新規作成]
```

**サイズ見積**: 約30KB

---

## 📗 Layer 2: フェーズ別ガイド (拡張・新規)

### Phase 0: 要件分析・企画ガイド (新規作成)

**ファイル名**: `phase-0-requirements-planning-guide.md`

**内容**:
```markdown
# Phase 0: 要件分析・企画ガイド

## 1. Phase概要
- **入力**: JIRA PBI (Product Backlog Item)
- **出力**: 
  - 要件分析書
  - タスク分解リスト
  - 技術選定方針(初期)
- **所要時間**: 30分〜2時間 (PBI複雑度による)

## 2. PBI読み込みプロセス

### 2.1 PBI構造の理解
```json
{
  "title": "ユーザー認証機能の実装",
  "description": "...",
  "acceptance_criteria": [...],
  "technical_constraints": [...],
  "priority": "High",
  "story_points": 8
}
```

### 2.2 情報抽出チェックリスト
- [ ] **機能要件**: 何を実装するか明確か?
- [ ] **非機能要件**: パフォーマンス、セキュリティ要件は?
- [ ] **受入基準**: 完成の定義は明確か?
- [ ] **技術的制約**: 使用すべき/避けるべき技術は?
- [ ] **依存関係**: 他のPBI/タスクへの依存は?
- [ ] **リソース制約**: 期限、予算制約は?

### 2.3 不明点の特定
不足情報がある場合:
1. 具体的な質問リストを作成
2. 人間に確認を要求
3. 確認結果を要件分析書に反映

## 3. タスク細分化プロセス

### 3.1 トップレベル分解
PBIを**エピック → フィーチャー → タスク**に分解

例: "ユーザー認証機能"
```
エピック: ユーザー認証機能
├─ フィーチャー1: JWT認証実装
│  ├─ タスク1-1: 認証APIエンドポイント実装
│  ├─ タスク1-2: JWTトークン生成ロジック
│  └─ タスク1-3: トークン検証ミドルウェア
├─ フィーチャー2: ユーザー登録
│  ├─ タスク2-1: 登録APIエンドポイント
│  ├─ タスク2-2: パスワードハッシュ化
│  └─ タスク2-3: メール検証
└─ フィーチャー3: パスワードリセット
   └─ [タスク...]
```

### 3.2 タスク粒度の判定
各タスクを**レベル0-4**に分類:

| レベル | 名称 | 所要時間 | 例 |
|--------|------|----------|-----|
| 0 | エピック/機能全体 | 複数日〜週 | ユーザー認証機能全体 |
| 1 | コンポーネント | 1日〜数日 | JWT認証実装 |
| 2 | クラス/モジュール | 数時間〜1日 | AuthService |
| 3 | メソッド/関数 | 30分〜数時間 | generateToken() |
| 4 | ロジック単位 | 数分〜30分 | トークン有効期限チェック |

### 3.3 依存関係の特定
- **前提条件**: このタスクを開始する前に必要なもの
- **後続タスク**: このタスク完了後に可能になるもの
- **並行可能**: 同時に進められるタスク

### 3.4 優先順位付け
- クリティカルパス上のタスクを優先
- 依存関係が多いタスクを優先
- リスクが高いタスクを早期に実施

## 4. 初期技術選定

### 4.1 参照ドキュメント
- 🔴 必須: なし (まだ技術詳細は不要)
- 🟡 推奨: 10-governance/technology-radar.md
- ⚪ 参考: 05-technology-stack/

### 4.2 選定すべき項目
- プログラミング言語・フレームワーク (概要レベル)
- データベース種類 (RDBMS/NoSQL)
- 認証方式 (JWT/OAuth/Session等)

詳細は Phase 1 で確定

## 5. 成果物の作成

### 5.1 要件分析書
テンプレート: `08-templates/requirements-analysis-template.md` (新規作成必要)

### 5.2 タスク分解リスト
形式: Markdown Table または JSON

例:
```markdown
| ID | タスク名 | レベル | 所要時間 | 依存関係 | 優先度 |
|----|----------|--------|----------|----------|--------|
| T1 | 認証API実装 | 1 | 1日 | なし | High |
| T2 | JWT生成ロジック | 2 | 4時間 | T1 | High |
...
```

## 6. Phase 0 完了基準
- [ ] PBIの全要件が理解できた
- [ ] 不明点が全て解消された (または人間に確認済み)
- [ ] タスクが適切な粒度に分解された
- [ ] 依存関係が明確になった
- [ ] 初期技術方針が決まった
- [ ] 要件分析書が作成された

完了後 → **Phase 1: プロジェクト初期化** へ
```

**サイズ見積**: 約20KB

---

### 既存フェーズガイドの拡張

**Phase 1-6 の各ガイド**に以下を追加:

#### 共通追加項目:
1. **Phase の入力・出力の明確化**
   ```markdown
   ## Phase X: [名称]
   
   ### 入力 (前Phaseからの継承)
   - 要件分析書
   - タスク分解リスト
   - ...
   
   ### 出力 (次Phaseへの引き継ぎ)
   - 設計書
   - 実装コード
   - ...
   
   ### 成果物
   - ...
   ```

2. **ドキュメント参照マトリクスの統合**
   - 各Phaseに該当する部分を`phase_document_matrix.md`から統合

3. **判断ポイントの明示**
   ```markdown
   ### 判断ポイント
   - [条件] の場合 → [アクション]
   - エスカレーション基準
   ```

4. **チェックポイント強化**
   - 既存のチェックリストに、前Phase成果物の確認項目を追加

---

## 🔧 Layer 3: 既存ドキュメントの拡張

### 必要な新規テンプレート

#### 1. `08-templates/requirements-analysis-template.md`
```markdown
# 要件分析書テンプレート

## プロジェクト情報
- PBI ID: 
- タイトル: 
- 作成日: 
- 作成者: 

## 機能要件
### 概要
### 詳細要件
1. 
2. 

## 非機能要件
### パフォーマンス
### セキュリティ
### スケーラビリティ

## 受入基準
- [ ] 基準1
- [ ] 基準2

## 技術的制約
...

## タスク分解
[タスクリストへのリンク]

## 未解決事項
- [ ] 質問1
- [ ] 質問2
```

#### 2. `08-templates/task-breakdown-template.md`
タスク分解リストのテンプレート

#### 3. `08-templates/decision-record-template.md`
技術選定・アーキテクチャ判断の記録テンプレート

---

## 📊 実装計画

### Phase 1: マスタードキュメント作成 (優先度: 最高)
**期間**: 1-2週間

| ドキュメント | 担当 | 期間 | 依存関係 |
|-------------|------|------|----------|
| AI-MASTER-WORKFLOW-GUIDE.md | Senior | 3-5日 | なし |
| AI-DOCUMENT-NAVIGATOR.md | Senior | 3-4日 | MASTER-WORKFLOW完了後 |
| AI-DECISION-FRAMEWORK.md | Senior | 2-3日 | NAVIGATOR完了後 |

### Phase 2: Phase 0ガイド作成 (優先度: 高)
**期間**: 1週間

| ドキュメント | 担当 | 期間 | 依存関係 |
|-------------|------|------|----------|
| phase-0-requirements-planning-guide.md | Middle | 3-4日 | MASTER-WORKFLOW |
| requirements-analysis-template.md | Junior | 1日 | Phase 0ガイド |
| task-breakdown-template.md | Junior | 1日 | Phase 0ガイド |

### Phase 3: 既存フェーズガイドの拡張 (優先度: 中)
**期間**: 2週間

| ドキュメント | 担当 | 期間 |
|-------------|------|------|
| Phase 1ガイド拡張 | Middle | 2日 |
| Phase 2ガイド拡張 | Middle | 2日 |
| Phase 3ガイド拡張 | Middle | 2日 |
| Phase 4ガイド拡張 | Middle | 2日 |
| Phase 5ガイド拡張 | Middle | 2日 |
| Phase 6ガイド拡張 | Middle | 2日 |

### Phase 4: テンプレート追加 (優先度: 中)
**期間**: 3-5日

---

## 🎯 期待される効果

### 定量的効果
1. **PBI理解時間**: 50%削減
   - 現状: 1-2時間/PBI → 改善後: 30分-1時間/PBI

2. **タスク細分化時間**: 60%削減
   - 現状: 1-3時間 → 改善後: 20-60分

3. **ドキュメント検索時間**: 70%削減
   - 現状: 10-20分/検索 → 改善後: 3-6分/検索

4. **判断ミス削減**: 80%削減
   - 明確な意思決定フレームワークにより

### 定性的効果
1. **一貫性の向上**: 全フェーズで統一された手法
2. **トレーサビリティ**: PBI → 要件 → 設計 → 実装の追跡可能
3. **品質向上**: 標準準拠の徹底
4. **学習曲線の短縮**: 新規AIエージェントの立ち上げ時間削減

---

## 📋 ドキュメント構成の最終形

### トップレベル構造
```
devin-organization-standards/
├── README.md (既存)
│
├── [Layer 1: マスタードキュメント]
├── AI-MASTER-WORKFLOW-GUIDE.md (新規) ★
├── AI-DOCUMENT-NAVIGATOR.md (新規) ★
├── AI-DECISION-FRAMEWORK.md (新規) ★
│
├── [既存AI活用ガイド]
├── AI-USAGE-GUIDE.md (既存 - マスター参照を追加)
├── AI-WORKFLOWS.md (既存 - 縮小し、マスターにリダイレクト)
├── AI-PROMPTS.md (既存)
├── AI-CHECKLISTS.md (既存 - Phase 0追加)
├── AI-CODING-INSTRUCTIONS.md (既存)
├── AI-QUICK-REFERENCE.md (既存)
├── AI-PROMPT-TEMPLATES.md (既存)
│
├── [Layer 2: フェーズ別ガイド]
├── phase-guides/
│   ├── phase-0-requirements-planning-guide.md (新規) ★
│   ├── phase-1-initialization-guide.md (既存から分離・拡張)
│   ├── phase-2-design-guide.md (既存から分離・拡張)
│   ├── phase-3-implementation-guide.md (既存 - 拡張)
│   ├── phase-4-review-qa-guide.md (既存から分離・拡張)
│   ├── phase-5-deployment-guide.md (既存から分離・拡張)
│   └── phase-6-operations-guide.md (既存から分離・拡張)
│
├── [Layer 3: 組織標準] (既存)
├── 01-coding-standards/ (7ファイル)
├── 02-architecture-standards/ (8ファイル)
├── 03-development-process/ (12ファイル)
├── 04-quality-standards/ (13ファイル)
├── 05-technology-stack/ (10ファイル)
├── 06-tools-and-environment/ (4ファイル)
├── 07-security-compliance/ (9ファイル)
├── 08-templates/ (19+3ファイル = 22ファイル) ★テンプレート追加
├── 09-reference/ (9ファイル)
└── 10-governance/ (6ファイル)

★ = 新規作成
合計: 97 → 107ファイル (+10ファイル)
```

---

## 🚀 次のステップ

### 即座に着手可能
1. **AI-MASTER-WORKFLOW-GUIDE.md の作成開始**
   - 既存AI-WORKFLOWS.mdをベースに拡張
   - Phase 0の詳細を追加

2. **phase_document_matrix.md の公式化**
   - 分析で生成したマトリクスを正式ドキュメントに

### 議論が必要な項目
1. **ドキュメント配置**
   - phase-guides/ フォルダを作るか?
   - トップレベルに配置するか?

2. **既存AI-WORKFLOWS.mdの扱い**
   - 完全に置き換えるか?
   - マスターガイドへのリダイレクトとして残すか?

3. **テンプレートの優先順位**
   - 最初に作るべきテンプレートは?

---

## 📞 次のアクション

この提案に対して、以下をご確認ください:

1. **全体アプローチへの賛否**
   - 3層構造のアプローチは適切か?
   - 修正すべき点はあるか?

2. **優先順位の確認**
   - Phase 1 (マスタードキュメント) から着手でよいか?
   - Phase 0ガイドを先に作成すべきか?

3. **具体的な着手指示**
   - どのドキュメントから作成開始するか?
   - 一気に作成するか、段階的に確認しながら進めるか?

---

**提案者**: AI Assistant  
**バージョン**: 1.0  
**最終更新**: 2025-11-05
