# è¨­è¨ˆæˆæœç‰©ç®¡ç†ã‚¬ã‚¤ãƒ‰ v2.0.0 - æ§‹é€ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«æ¯”è¼ƒ

## ğŸ“Š æ—§æ§‹é€  vs æ–°æ§‹é€ ã®æ¯”è¼ƒ

### âŒ æ—§æ§‹é€ ï¼ˆv1.0.0ï¼‰- Phaseåˆ¥åˆ†é¡

```
project-repository/
â”œâ”€â”€ src/
â”œâ”€â”€ tests/
â””â”€â”€ docs/
    â”œâ”€â”€ design/
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ phase-2.1/              â† Phaseç•ªå·ã§ã¯å†…å®¹ä¸æ˜ç¢º
    â”‚   â”‚   â”œâ”€â”€ architecture/
    â”‚   â”‚   â”‚   â””â”€â”€ architecture-design.md
    â”‚   â”‚   â”œâ”€â”€ api/
    â”‚   â”‚   â”‚   â””â”€â”€ api-specification.md
    â”‚   â”‚   â”œâ”€â”€ data-model/
    â”‚   â”‚   â”‚   â””â”€â”€ data-model-design.md
    â”‚   â”‚   â””â”€â”€ security/
    â”‚   â”‚       â””â”€â”€ security-design.md
    â”‚   â”‚
    â”‚   â”œâ”€â”€ phase-2.2/              â† åŒæ§˜ã«ä¸æ˜ç¢º
    â”‚   â”‚   â”œâ”€â”€ as-built/
    â”‚   â”‚   â”‚   â””â”€â”€ as-built-architecture.md
    â”‚   â”‚   â””â”€â”€ refinements/
    â”‚   â”‚       â”œâ”€â”€ design-improvements.md
    â”‚   â”‚       â””â”€â”€ technical-debt.md
    â”‚   â”‚
    â”‚   â””â”€â”€ diagrams/
    â”‚       â”œâ”€â”€ architecture/
    â”‚       â””â”€â”€ data-model/
    â”‚
    â””â”€â”€ adr/
        â”œâ”€â”€ 0001-database-choice.md
        â””â”€â”€ 0002-api-versioning.md
```

#### å•é¡Œç‚¹
1. ğŸ”´ **Phaseç•ªå·ã§ã¯å†…å®¹ãŒã‚ã‹ã‚‰ãªã„**
   - "phase-2.1" â†’ ä½•ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã‹ä¸æ˜
   - "phase-2.2" â†’ åŒæ§˜ã«ä¸æ˜

2. ğŸ”´ **2ç®‡æ‰€ã®ç¢ºèªãŒå¿…è¦**
   - å®Ÿè£…å‰è¨­è¨ˆ: `phase-2.1/architecture/`
   - å®Ÿè£…å¾Œè¨­è¨ˆ: `phase-2.2/as-built/`
   - APIè¨­è¨ˆã‚’æ¢ã™ã®ã«è¤‡æ•°ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèª

3. ğŸ”´ **ã‚³ãƒ¼ãƒ‰ãƒªãƒã‚¸ãƒˆãƒªã¨æ··åœ¨**
   - `src/` ã¨ `docs/` ãŒåŒå±…
   - è¨­è¨ˆã®ç‹¬ç«‹ç®¡ç†ãŒå›°é›£

---

### âœ… æ–°æ§‹é€ ï¼ˆv2.0.0ï¼‰- æˆæœç‰©ç¨®é¡ãƒ™ãƒ¼ã‚¹

```
å°‚ç”¨ãƒªãƒã‚¸ãƒˆãƒª: user-service-design/
â”‚
â”œâ”€â”€ README.md                          # ãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“ã®èª¬æ˜ãƒ»ç´¢å¼•
â”‚
â”œâ”€â”€ architecture/                      # âœ… ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ system-architecture.md             # ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”œâ”€â”€ component-design.md                # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
â”‚   â”œâ”€â”€ integration-design.md              # çµ±åˆãƒ»é€£æºè¨­è¨ˆ
â”‚   â””â”€â”€ diagrams/
â”‚       â”œâ”€â”€ system-context.puml
â”‚       â”œâ”€â”€ container-diagram.puml
â”‚       â””â”€â”€ component-diagram.puml
â”‚
â”œâ”€â”€ api/                               # âœ… APIè¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ specifications/
â”‚   â”‚   â”œâ”€â”€ openapi.yaml                   # OpenAPI 3.0 ä»•æ§˜
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ user-api.yaml
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ rest-api-contracts.md
â”‚   â”‚   â””â”€â”€ grpc-contracts.proto
â”‚   â””â”€â”€ versioning-strategy.md
â”‚
â”œâ”€â”€ data-model/                        # âœ… ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ entity-relationship.md
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ user-schema.sql
â”‚   â”‚   â””â”€â”€ migration-001-initial.sql
â”‚   â””â”€â”€ diagrams/
â”‚       â””â”€â”€ erd.puml
â”‚
â”œâ”€â”€ security/                          # âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ security-architecture.md
â”‚   â”œâ”€â”€ threat-model.md
â”‚   â”œâ”€â”€ authentication-design.md           # JWTèªè¨¼
â”‚   â””â”€â”€ authorization-design.md            # RBAC
â”‚
â”œâ”€â”€ infrastructure/                    # âœ… ã‚¤ãƒ³ãƒ•ãƒ©è¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ deployment-architecture.md
â”‚   â”œâ”€â”€ network-design.md
â”‚   â””â”€â”€ diagrams/
â”‚       â”œâ”€â”€ deployment-diagram.puml
â”‚       â””â”€â”€ network-topology.puml
â”‚
â”œâ”€â”€ performance/                       # âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆï¼ˆä¸€ç›®ç­ç„¶ï¼‰
â”‚   â”œâ”€â”€ performance-requirements.md
â”‚   â”œâ”€â”€ load-testing-strategy.md
â”‚   â””â”€â”€ caching-strategy.md
â”‚
â”œâ”€â”€ as-built/                          # âœ… å®Ÿè£…å¾Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ architecture-as-built.md           # å®Ÿè£…ã•ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”œâ”€â”€ api-as-built.md                    # å®Ÿè£…ã•ã‚ŒãŸAPI
â”‚   â”œâ”€â”€ deviation-reports/                 # è¨­è¨ˆã‹ã‚‰ã®å·®åˆ†
â”‚   â”‚   â”œâ”€â”€ 2024-01-architecture-changes.md
â”‚   â”‚   â””â”€â”€ 2024-02-security-updates.md
â”‚   â””â”€â”€ lessons-learned.md                 # æ•™è¨“
â”‚
â”œâ”€â”€ adr/                               # âœ… ADR
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ 0001-use-postgresql-for-primary-database.md
â”‚   â”œâ”€â”€ 0002-implement-jwt-authentication.md
â”‚   â”œâ”€â”€ 0003-adopt-rbac-for-authorization.md
â”‚   â””â”€â”€ 0004-use-redis-for-caching.md
â”‚
â”œâ”€â”€ improvements/                      # âœ… æ”¹å–„ææ¡ˆãƒ»æŠ€è¡“è² å‚µ
â”‚   â”œâ”€â”€ design-improvements.md
â”‚   â”œâ”€â”€ technical-debt.md
â”‚   â””â”€â”€ refactoring-proposals/
â”‚
â””â”€â”€ templates/                         # âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    â”œâ”€â”€ architecture-template.md
    â”œâ”€â”€ api-specification-template.md
    â””â”€â”€ adr-template.md
```

#### æ”¹å–„ç‚¹
1. âœ… **ãƒ•ã‚©ãƒ«ãƒ€åã‹ã‚‰å†…å®¹ãŒä¸€ç›®ç­ç„¶**
   - `architecture/` â†’ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
   - `api/` â†’ APIè¨­è¨ˆ
   - `data-model/` â†’ ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ
   - `security/` â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

2. âœ… **1ç®‡æ‰€ã§å®Œçµ**
   - APIè¨­è¨ˆã‚’æ¢ã™ â†’ `api/` ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¦‹ã‚‹
   - ã™ã¹ã¦ã®APIé–¢é€£æƒ…å ±ãŒã“ã“ã«ã‚ã‚‹
   - å®Ÿè£…å¾Œã®å·®åˆ†ã¯ `as-built/api-as-built.md` ã§ç¢ºèª

3. âœ… **å°‚ç”¨ãƒªãƒã‚¸ãƒˆãƒªã§ç‹¬ç«‹ç®¡ç†**
   - ã‚³ãƒ¼ãƒ‰ã¨è¨­è¨ˆã‚’åˆ†é›¢
   - è¨­è¨ˆã®ç‹¬ç«‹ã—ãŸãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
   - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®æŸ”è»Ÿæ€§

---

## ğŸ” ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ¯”è¼ƒ

### ã‚·ãƒŠãƒªã‚ª1: ã€ŒAPIè¨­è¨ˆã‚’ç¢ºèªã—ãŸã„ã€

#### æ—§æ§‹é€ ï¼ˆv1.0.0ï¼‰
```
ã‚¹ãƒ†ãƒƒãƒ—1: docs/design/phase-2.1/api/ ã‚’ç¢ºèª
         â†’ api-specification.md ã‚’ç™ºè¦‹

ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿè£…å¾Œã®å¤‰æ›´ã¯ï¼Ÿ
         â†’ docs/design/phase-2.2/as-built/ ã‚‚ç¢ºèªå¿…è¦

ã‚¹ãƒ†ãƒƒãƒ—3: 2ç®‡æ‰€ã®æƒ…å ±ã‚’çµ±åˆã—ã¦ç†è§£

æ‰€è¦æ™‚é–“: 5-10åˆ†
```

#### æ–°æ§‹é€ ï¼ˆv2.0.0ï¼‰
```
ã‚¹ãƒ†ãƒƒãƒ—1: api/ ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã
         â†’ ã™ã¹ã¦ã®APIé–¢é€£æƒ…å ±ãŒã“ã“ã«ã‚ã‚‹
         â†’ specifications/openapi.yaml
         â†’ contracts/rest-api-contracts.md
         â†’ versioning-strategy.md

ã‚¹ãƒ†ãƒƒãƒ—2: å®Ÿè£…å¾Œã®å·®åˆ†ç¢ºèª
         â†’ as-built/api-as-built.md ã‚’ç¢ºèª

æ‰€è¦æ™‚é–“: 1-2åˆ†
```

**æ”¹å–„**: â±ï¸ 60-80% æ™‚é–“çŸ­ç¸®

---

### ã‚·ãƒŠãƒªã‚ª2: ã€Œæ–°ãƒ¡ãƒ³ãƒãƒ¼ãŒã‚·ã‚¹ãƒ†ãƒ ã‚’ç†è§£ã—ãŸã„ã€

#### æ—§æ§‹é€ ï¼ˆv1.0.0ï¼‰
```
1. README.md ã‚’èª­ã‚€
2. phase-2.1/ ã‚’é †ç•ªã«ç¢ºèª
   - architecture/
   - api/
   - data-model/
   - security/
3. phase-2.2/ ã‚‚ç¢ºèª
   - as-built/
   - refinements/
4. adr/ ã‚‚ç¢ºèª

ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³: phase-2.1 ã¨ phase-2.2 ã‚’è¡Œãæ¥
ç†è§£ã¾ã§ã®æ™‚é–“: 2-3æ™‚é–“
```

#### æ–°æ§‹é€ ï¼ˆv2.0.0ï¼‰
```
1. README.md ã‚’èª­ã‚€ï¼ˆå…¨ä½“ç´¢å¼•ï¼‰
2. å¿…è¦ãªæƒ…å ±ã«ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚¢ã‚¯ã‚»ã‚¹
   - architecture/ â†’ ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ
   - api/ â†’ APIä»•æ§˜
   - data-model/ â†’ ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
   - security/ â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
   - as-built/ â†’ å®Ÿè£…ã®å®Ÿéš›
   - adr/ â†’ è¨­è¨ˆåˆ¤æ–­ã®ç†ç”±

ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³: ç›´æ„Ÿçš„ã€éšå±¤ãŒæµ…ã„
ç†è§£ã¾ã§ã®æ™‚é–“: 1-1.5æ™‚é–“
```

**æ”¹å–„**: â±ï¸ 40-50% æ™‚é–“çŸ­ç¸®

---

### ã‚·ãƒŠãƒªã‚ª3: ã€Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´ã®ADRã‚’æ›¸ããŸã„ã€

#### æ—§æ§‹é€ ï¼ˆv1.0.0ï¼‰
```
1. adr/ ãƒ•ã‚©ãƒ«ãƒ€ã§æ–°è¦ADRä½œæˆ
   â†’ 0005-change-database.md

2. é–¢é€£ã™ã‚‹è¨­è¨ˆæ›¸ã‚’ç¢ºèª
   â†’ docs/design/phase-2.1/architecture/architecture-design.md
   â†’ docs/design/phase-2.1/data-model/data-model-design.md

3. å®Ÿè£…å¾Œã®çŠ¶æ³ã‚’ç¢ºèª
   â†’ docs/design/phase-2.2/as-built/as-built-architecture.md

4. è¤‡æ•°ãƒ•ã‚©ãƒ«ãƒ€ã‚’è¡Œãæ¥ã—ãªãŒã‚‰ADRä½œæˆ

æ‰€è¦æ™‚é–“: 1-2æ™‚é–“
```

#### æ–°æ§‹é€ ï¼ˆv2.0.0ï¼‰
```
1. é–¢é€£ã™ã‚‹è¨­è¨ˆæ›¸ã‚’ç¢ºèª
   â†’ architecture/system-architecture.md
   â†’ data-model/entity-relationship.md
   â†’ as-built/architecture-as-built.md
   â†’ ã™ã¹ã¦é–¢é€£ãƒ•ã‚©ãƒ«ãƒ€å†…ã§å®Œçµ

2. adr/ ãƒ•ã‚©ãƒ«ãƒ€ã§æ–°è¦ADRä½œæˆ
   â†’ 0005-change-database.md

3. é–¢é€£è¨­è¨ˆæ›¸ã¸ã®å‚ç…§ãƒªãƒ³ã‚¯è¿½åŠ 
   â†’ ../architecture/system-architecture.md
   â†’ ../data-model/entity-relationship.md

æ‰€è¦æ™‚é–“: 30-60åˆ†
```

**æ”¹å–„**: â±ï¸ 50-70% æ™‚é–“çŸ­ç¸®

---

## ğŸ“ å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾‹

### ä¾‹1: User Serviceï¼ˆãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ï¼‰

```
user-service-design/
â”‚
â”œâ”€â”€ README.md
â”‚   # User Service è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: Approved
â”‚   # æœ€çµ‚æ›´æ–°: 2025-11-12
â”‚   # 
â”‚   # ## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦
â”‚   # - RESTful API + gRPC
â”‚   # - PostgreSQL + Redis
â”‚   # - Kubernetes ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
â”‚   #
â”‚   # ## ä¸»è¦ãªADR
â”‚   # - ADR-0001: PostgreSQLæ¡ç”¨
â”‚   # - ADR-0002: JWTèªè¨¼
â”‚   # - ADR-0003: RBACèªå¯
â”‚   # - ADR-0004: Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚
â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ system-architecture.md
â”‚   â”‚   # ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”‚   # 
â”‚   â”‚   # ## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   # - Layered Architecture
â”‚   â”‚   # - Controller â†’ Service â†’ Repository
â”‚   â”‚   #
â”‚   â”‚   # ## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
â”‚   â”‚   # - Language: Go 1.21
â”‚   â”‚   # - Framework: Gin
â”‚   â”‚   # - Database: PostgreSQL 15
â”‚   â”‚   # - Cache: Redis 7
â”‚   â”‚   # - Container: Docker
â”‚   â”‚   # - Orchestration: Kubernetes
â”‚   â”‚
â”‚   â”œâ”€â”€ component-design.md
â”‚   â”‚   # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ
â”‚   â”‚   # 
â”‚   â”‚   # ## ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   # 1. UserController: HTTP/gRPC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   # 2. UserService: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   # 3. UserRepository: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”‚   # 4. AuthenticationMiddleware: JWTæ¤œè¨¼
â”‚   â”‚   # 5. AuthorizationMiddleware: RBACæ¤œè¨¼
â”‚   â”‚   # 6. CacheManager: Redisçµ±åˆ
â”‚   â”‚
â”‚   â””â”€â”€ diagrams/
â”‚       â”œâ”€â”€ system-context.puml
â”‚       â”œâ”€â”€ container-diagram.puml
â”‚       â””â”€â”€ component-diagram.puml
â”‚
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ specifications/
â”‚   â”‚   â””â”€â”€ user-api.yaml
â”‚   â”‚       # openapi: 3.0.0
â”‚   â”‚       # info:
â”‚   â”‚       #   title: User Service API
â”‚   â”‚       #   version: 1.0.0
â”‚   â”‚       # 
â”‚   â”‚       # paths:
â”‚   â”‚       #   /api/v1/users:
â”‚   â”‚       #     get: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—
â”‚   â”‚       #     post: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
â”‚   â”‚       #   /api/v1/users/{userId}:
â”‚   â”‚       #     get: ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°å–å¾—
â”‚   â”‚       #     put: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°
â”‚   â”‚       #     delete: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤
â”‚   â”‚
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ rest-api-contracts.md
â”‚   â”‚   â”‚   # RESTful APIå¥‘ç´„
â”‚   â”‚   â”‚   # 
â”‚   â”‚   â”‚   # ## SLA
â”‚   â”‚   â”‚   # - å¯ç”¨æ€§: 99.9%
â”‚   â”‚   â”‚   # - ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ : < 200ms (p95)
â”‚   â”‚   â”‚   # - ãƒ¬ãƒ¼ãƒˆåˆ¶é™: 1000 req/min/client
â”‚   â”‚   â”‚   #
â”‚   â”‚   â”‚   # ## ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°
â”‚   â”‚   â”‚   # - URI Versioning: /api/v1/, /api/v2/
â”‚   â”‚   â”‚   # - å¾Œæ–¹äº’æ›æ€§: 1å¹´é–“ä¿è¨¼
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ grpc-contracts.proto
â”‚   â”‚       // syntax = "proto3";
â”‚   â”‚       // 
â”‚   â”‚       // service UserService {
â”‚   â”‚       //   rpc GetUser(GetUserRequest) returns (User);
â”‚   â”‚       //   rpc CreateUser(CreateUserRequest) returns (User);
â”‚   â”‚       //   rpc UpdateUser(UpdateUserRequest) returns (User);
â”‚   â”‚       //   rpc DeleteUser(DeleteUserRequest) returns (Empty);
â”‚   â”‚       // }
â”‚   â”‚
â”‚   â””â”€â”€ versioning-strategy.md
â”‚       # APIãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥
â”‚       # 
â”‚       # ## ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æ–¹å¼
â”‚       # - URI Versioningæ¡ç”¨
â”‚       # - ä¾‹: /api/v1/users, /api/v2/users
â”‚       #
â”‚       # ## éæ¨å¥¨åŒ–ãƒ—ãƒ­ã‚»ã‚¹
â”‚       # 1. æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒªãƒªãƒ¼ã‚¹
â”‚       # 2. 6ãƒ¶æœˆã®ç§»è¡ŒæœŸé–“
â”‚       # 3. æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³éæ¨å¥¨åŒ–
â”‚       # 4. 6ãƒ¶æœˆå¾Œã«æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‰Šé™¤
â”‚
â”œâ”€â”€ data-model/
â”‚   â”œâ”€â”€ entity-relationship.md
â”‚   â”‚   # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢ä¿‚è¨­è¨ˆ
â”‚   â”‚   # 
â”‚   â”‚   # ## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚   # 1. User: ãƒ¦ãƒ¼ã‚¶ãƒ¼åŸºæœ¬æƒ…å ±
â”‚   â”‚   # 2. Role: ãƒ­ãƒ¼ãƒ«å®šç¾©
â”‚   â”‚   # 3. Permission: æ¨©é™å®šç¾©
â”‚   â”‚   # 4. UserRole: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒ­ãƒ¼ãƒ«ã®é–¢é€£
â”‚   â”‚   #
â”‚   â”‚   # ## ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   # - User 1:N UserRole
â”‚   â”‚   # - Role 1:N UserRole
â”‚   â”‚   # - Role 1:N Permission
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ user-schema.sql
â”‚   â”‚   â”‚   -- CREATE TABLE users (
â”‚   â”‚   â”‚   --   id UUID PRIMARY KEY,
â”‚   â”‚   â”‚   --   email VARCHAR(255) UNIQUE NOT NULL,
â”‚   â”‚   â”‚   --   username VARCHAR(50) UNIQUE NOT NULL,
â”‚   â”‚   â”‚   --   password_hash VARCHAR(255) NOT NULL,
â”‚   â”‚   â”‚   --   created_at TIMESTAMP DEFAULT NOW(),
â”‚   â”‚   â”‚   --   updated_at TIMESTAMP DEFAULT NOW()
â”‚   â”‚   â”‚   -- );
â”‚   â”‚   â”‚   -- 
â”‚   â”‚   â”‚   -- CREATE INDEX idx_users_email ON users(email);
â”‚   â”‚   â”‚   -- CREATE INDEX idx_users_username ON users(username);
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ migration-001-initial-schema.sql
â”‚   â”‚       -- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³001: åˆæœŸã‚¹ã‚­ãƒ¼ãƒä½œæˆ
â”‚   â”‚
â”‚   â””â”€â”€ diagrams/
â”‚       â””â”€â”€ erd.puml
â”‚           @startuml
â”‚           entity User {
â”‚             * id: UUID
â”‚             * email: VARCHAR
â”‚             * username: VARCHAR
â”‚             * password_hash: VARCHAR
â”‚           }
â”‚           
â”‚           entity Role {
â”‚             * id: UUID
â”‚             * name: VARCHAR
â”‚           }
â”‚           
â”‚           User }o--|| UserRole
â”‚           Role }o--|| UserRole
â”‚           @enduml
â”‚
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ security-architecture.md
â”‚   â”‚   # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”‚   # 
â”‚   â”‚   # ## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”‚   # 1. API Gateway: WAF, DDoSå¯¾ç­–
â”‚   â”‚   # 2. Service Mesh: mTLS
â”‚   â”‚   # 3. Application: èªè¨¼ãƒ»èªå¯
â”‚   â”‚   # 4. Data: æš—å·åŒ–ï¼ˆè»¢é€æ™‚ãƒ»ä¿å­˜æ™‚ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ threat-model.md
â”‚   â”‚   # è„…å¨ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   # 
â”‚   â”‚   # ## STRIDEåˆ†æ
â”‚   â”‚   # - Spoofing: JWTç½²åæ¤œè¨¼
â”‚   â”‚   # - Tampering: HTTPSå¼·åˆ¶
â”‚   â”‚   # - Repudiation: ç›£æŸ»ãƒ­ã‚°
â”‚   â”‚   # - Information Disclosure: ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
â”‚   â”‚   # - Denial of Service: ãƒ¬ãƒ¼ãƒˆåˆ¶é™
â”‚   â”‚   # - Elevation of Privilege: RBAC
â”‚   â”‚
â”‚   â”œâ”€â”€ authentication-design.md
â”‚   â”‚   # èªè¨¼è¨­è¨ˆ
â”‚   â”‚   # 
â”‚   â”‚   # ## èªè¨¼ãƒ•ãƒ­ãƒ¼
â”‚   â”‚   # 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰é€ä¿¡
â”‚   â”‚   # 2. ã‚µãƒ¼ãƒãƒ¼ãŒæ¤œè¨¼
â”‚   â”‚   # 3. JWTç™ºè¡Œï¼ˆAccess Token + Refresh Tokenï¼‰
â”‚   â”‚   # 4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒJWTã‚’ä¿å­˜
â”‚   â”‚   # 5. ä»¥é™ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§JWTé€ä¿¡
â”‚   â”‚   #
â”‚   â”‚   # ## JWTè¨­è¨ˆ
â”‚   â”‚   # - Algorithm: RS256
â”‚   â”‚   # - Expiration: 15åˆ†ï¼ˆAccess Tokenï¼‰ã€7æ—¥ï¼ˆRefresh Tokenï¼‰
â”‚   â”‚   # - Claims: user_id, username, roles
â”‚   â”‚
â”‚   â””â”€â”€ authorization-design.md
â”‚       # èªå¯è¨­è¨ˆ
â”‚       # 
â”‚       # ## RBACï¼ˆãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰
â”‚       # - Admin: ã™ã¹ã¦ã®æ“ä½œ
â”‚       # - Manager: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€èª­ã¿å–ã‚Š
â”‚       # - User: è‡ªåˆ†ã®æƒ…å ±ã®ã¿
â”‚       #
â”‚       # ## æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼
â”‚       # 1. JWT ã‹ã‚‰ãƒ­ãƒ¼ãƒ«å–å¾—
â”‚       # 2. ãƒªã‚½ãƒ¼ã‚¹ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç‰¹å®š
â”‚       # 3. ãƒ­ãƒ¼ãƒ«-æ¨©é™ãƒãƒƒãƒ”ãƒ³ã‚°ã§æ¤œè¨¼
â”‚       # 4. è¨±å¯/æ‹’å¦
â”‚
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ deployment-architecture.md
â”‚   â”‚   # ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”‚   # 
â”‚   â”‚   # ## Kubernetesæ§‹æˆ
â”‚   â”‚   # - Namespace: user-service
â”‚   â”‚   # - Deployment: user-service-deployment
â”‚   â”‚   #   - Replicas: 3
â”‚   â”‚   #   - Container: user-service:1.0.0
â”‚   â”‚   # - Service: user-service-svc (ClusterIP)
â”‚   â”‚   # - Ingress: user-service-ingress
â”‚   â”‚   #
â”‚   â”‚   # ## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”‚   # - RDS for PostgreSQL
â”‚   â”‚   # - Multi-AZ: æœ‰åŠ¹
â”‚   â”‚   #
â”‚   â”‚   # ## ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”‚   # - ElastiCache for Redis
â”‚   â”‚   # - Cluster Mode: æœ‰åŠ¹
â”‚   â”‚
â”‚   â””â”€â”€ diagrams/
â”‚       â””â”€â”€ deployment-diagram.puml
â”‚
â”œâ”€â”€ performance/
â”‚   â”œâ”€â”€ performance-requirements.md
â”‚   â”‚   # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
â”‚   â”‚   # 
â”‚   â”‚   # ## ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ 
â”‚   â”‚   # - p50: < 50ms
â”‚   â”‚   # - p95: < 200ms
â”‚   â”‚   # - p99: < 500ms
â”‚   â”‚   #
â”‚   â”‚   # ## ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ
â”‚   â”‚   # - ç›®æ¨™: 1000 req/sec
â”‚   â”‚   # - æœ€å¤§: 5000 req/sec
â”‚   â”‚   #
â”‚   â”‚   # ## åŒæ™‚æ¥ç¶š
â”‚   â”‚   # - ç›®æ¨™: 10,000
â”‚   â”‚   # - æœ€å¤§: 50,000
â”‚   â”‚
â”‚   â””â”€â”€ caching-strategy.md
â”‚       # ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥
â”‚       # 
â”‚       # ## ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡
â”‚       # - Useræƒ…å ±: 5åˆ†
â”‚       # - Roleæƒ…å ±: 1æ™‚é–“
â”‚       # - Permissionæƒ…å ±: 1æ™‚é–“
â”‚       #
â”‚       # ## ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼è¨­è¨ˆ
â”‚       # - user:{userId}
â”‚       # - role:{roleId}
â”‚       # - user:roles:{userId}
â”‚       #
â”‚       # ## ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–
â”‚       # - Useræ›´æ–°æ™‚: user:{userId} ã‚’å‰Šé™¤
â”‚       # - Roleæ›´æ–°æ™‚: role:{roleId} ã¨é–¢é€£ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤
â”‚
â”œâ”€â”€ as-built/
â”‚   â”œâ”€â”€ architecture-as-built.md
â”‚   â”‚   # å®Ÿè£…ã•ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”‚   # 
â”‚   â”‚   # ## è¨­è¨ˆã¨ã®å·®åˆ†
â”‚   â”‚   # 
â”‚   â”‚   # ### å¤‰æ›´1: Redis Clusterè¿½åŠ 
â”‚   â”‚   # - ç†ç”±: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶é”æˆã®ãŸã‚
â”‚   â”‚   # - å½±éŸ¿: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ 3å€å‘ä¸Š
â”‚   â”‚   #
â”‚   â”‚   # ### å¤‰æ›´2: gRPCçµ±åˆå»¶æœŸ
â”‚   â”‚   # - ç†ç”±: å®Ÿè£…è¤‡é›‘æ€§ã€å„ªå…ˆåº¦ä½
â”‚   â”‚   # - å½±éŸ¿: Phase 2 ã§å®Ÿè£…äºˆå®š
â”‚   â”‚
â”‚   â””â”€â”€ lessons-learned.md
â”‚       # å®Ÿè£…ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸæ•™è¨“
â”‚       # 
â”‚       # ## ã†ã¾ãã„ã£ãŸç‚¹
â”‚       # - JWTèªè¨¼: ã‚¹ãƒ ãƒ¼ã‚ºã«å®Ÿè£…ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è‰¯å¥½
â”‚       # - RBAC: æ‹¡å¼µã—ã‚„ã™ã„è¨­è¨ˆ
â”‚       # - PostgreSQL: å®‰å®šæ€§é«˜ã„
â”‚       #
â”‚       # ## å›°é›£ã ã£ãŸç‚¹
â”‚       # - gRPCãƒ†ã‚¹ãƒˆ: ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã®å­¦ç¿’ã‚³ã‚¹ãƒˆé«˜
â”‚       # - Redisã‚­ãƒ£ãƒƒã‚·ãƒ¥: ç„¡åŠ¹åŒ–ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘
â”‚       #
â”‚       # ## æ¬¡å›ã¸ã®æ”¹å–„ç‚¹
â”‚       # - gRPC: æ—©æœŸã«ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰
â”‚       # - ã‚­ãƒ£ãƒƒã‚·ãƒ¥: è¨­è¨ˆæ®µéšã§ç„¡åŠ¹åŒ–æˆ¦ç•¥ã‚’è©³ç´°åŒ–
â”‚
â”œâ”€â”€ adr/
â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   # ADRã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
â”‚   â”‚   # 
â”‚   â”‚   # ## æ‰¿èªæ¸ˆã¿ADR
â”‚   â”‚   # - ADR-0001: PostgreSQLæ¡ç”¨
â”‚   â”‚   # - ADR-0002: JWTèªè¨¼
â”‚   â”‚   # - ADR-0003: RBACèªå¯
â”‚   â”‚   # - ADR-0004: Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”‚
â”‚   â”œâ”€â”€ 0001-use-postgresql-for-primary-database.md
â”‚   â”‚   # ADR-0001: PostgreSQLæ¡ç”¨
â”‚   â”‚   # 
â”‚   â”‚   # ## æ±ºå®š
â”‚   â”‚   # PostgreSQLã‚’ä¸»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦æ¡ç”¨ã™ã‚‹
â”‚   â”‚   #
â”‚   â”‚   # ## èƒŒæ™¯
â”‚   â”‚   # - ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   # - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¦ä»¶
â”‚   â”‚   # - JSONBå‹ã®ãƒ‹ãƒ¼ã‚º
â”‚   â”‚   #
â”‚   â”‚   # ## é¸æŠè‚¢
â”‚   â”‚   # 1. PostgreSQL
â”‚   â”‚   # 2. MySQL
â”‚   â”‚   # 3. MongoDB
â”‚   â”‚   #
â”‚   â”‚   # ## æ±ºå®šç†ç”±
â”‚   â”‚   # - JSONBå‹ã‚µãƒãƒ¼ãƒˆï¼ˆæŸ”è»Ÿãªã‚¹ã‚­ãƒ¼ãƒï¼‰
â”‚   â”‚   # - å¼·åŠ›ãªACIDä¿è¨¼
â”‚   â”‚   # - è±Šå¯Œãªæ‹¡å¼µæ©Ÿèƒ½
â”‚   â”‚   # - ãƒãƒ¼ãƒ ã®çµŒé¨“è±Šå¯Œ
â”‚   â”‚   #
â”‚   â”‚   # ## å½±éŸ¿
â”‚   â”‚   # - Pros: å®‰å®šæ€§ã€æ‹¡å¼µæ€§ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆ
â”‚   â”‚   # - Cons: MySQLæ¯”ã§ã‚„ã‚„è¤‡é›‘ã€æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒ«åˆ¶é™
â”‚   â”‚
â”‚   â”œâ”€â”€ 0002-implement-jwt-authentication.md
â”‚   â”‚   # ADR-0002: JWTèªè¨¼
â”‚   â”‚   # 
â”‚   â”‚   # ## æ±ºå®š
â”‚   â”‚   # JWTï¼ˆJSON Web Tokenï¼‰ã‚’èªè¨¼æ–¹å¼ã¨ã—ã¦æ¡ç”¨ã™ã‚‹
â”‚   â”‚   #
â”‚   â”‚   # ## èƒŒæ™¯
â”‚   â”‚   # - ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹èªè¨¼ã®å¿…è¦æ€§
â”‚   â”‚   # - ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã§ã®èªè¨¼æƒ…å ±å…±æœ‰
â”‚   â”‚   #
â”‚   â”‚   # ## é¸æŠè‚¢
â”‚   â”‚   # 1. JWT
â”‚   â”‚   # 2. ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼
â”‚   â”‚   # 3. OAuth 2.0ï¼ˆå¤–éƒ¨IdPï¼‰
â”‚   â”‚   #
â”‚   â”‚   # ## æ±ºå®šç†ç”±
â”‚   â”‚   # - ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ï¼ˆã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ï¼‰
â”‚   â”‚   # - ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¯¾å¿œ
â”‚   â”‚   # - æ¨™æº–åŒ–ã•ã‚Œã¦ã„ã‚‹
â”‚   â”‚   #
â”‚   â”‚   # ## å½±éŸ¿
â”‚   â”‚   # - Pros: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
â”‚   â”‚   # - Cons: ãƒˆãƒ¼ã‚¯ãƒ³å–ã‚Šæ¶ˆã—å›°é›£ã€ã‚µã‚¤ã‚ºå¤§
â”‚   â”‚
â”‚   â”œâ”€â”€ 0003-adopt-rbac-for-authorization.md
â”‚   â”‚   # ADR-0003: RBACèªå¯
â”‚   â”‚   # 
â”‚   â”‚   # ## æ±ºå®š
â”‚   â”‚   # RBACï¼ˆãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰ã‚’èªå¯æ–¹å¼ã¨ã—ã¦æ¡ç”¨ã™ã‚‹
â”‚   â”‚   #
â”‚   â”‚   # ## èƒŒæ™¯
â”‚   â”‚   # - è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«
â”‚   â”‚   # - æ¨©é™ç®¡ç†ã®ç°¡æ˜“åŒ–
â”‚   â”‚   #
â”‚   â”‚   # ## é¸æŠè‚¢
â”‚   â”‚   # 1. RBAC
â”‚   â”‚   # 2. ABACï¼ˆå±æ€§ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰
â”‚   â”‚   # 3. ACLï¼ˆã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒªã‚¹ãƒˆï¼‰
â”‚   â”‚   #
â”‚   â”‚   # ## æ±ºå®šç†ç”±
â”‚   â”‚   # - ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„
â”‚   â”‚   # - ç®¡ç†ãŒå®¹æ˜“
â”‚   â”‚   # - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«é©åˆ
â”‚   â”‚   #
â”‚   â”‚   # ## å½±éŸ¿
â”‚   â”‚   # - Pros: ã‚·ãƒ³ãƒ—ãƒ«ã€ç®¡ç†å®¹æ˜“
â”‚   â”‚   # - Cons: è¤‡é›‘ãªæ¨©é™è¦ä»¶ã«ã¯ä¸å‘ã
â”‚   â”‚
â”‚   â””â”€â”€ 0004-use-redis-for-caching.md
â”‚       # ADR-0004: Redis ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚       # 
â”‚       # ## æ±ºå®š
â”‚       # Redisã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¹ãƒˆã‚¢ã¨ã—ã¦æ¡ç”¨ã™ã‚‹
â”‚       #
â”‚       # ## èƒŒæ™¯
â”‚       # - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ï¼ˆ< 200ms p95ï¼‰
â”‚       # - é«˜é »åº¦ã‚¢ã‚¯ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿
â”‚       #
â”‚       # ## é¸æŠè‚¢
â”‚       # 1. Redis
â”‚       # 2. Memcached
â”‚       # 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚       #
â”‚       # ## æ±ºå®šç†ç”±
â”‚       # - é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
â”‚       # - ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚µãƒãƒ¼ãƒˆï¼ˆHash, Setç­‰ï¼‰
â”‚       # - Pub/Subæ©Ÿèƒ½
â”‚       # - ãƒãƒ¼ãƒ ã®çµŒé¨“
â”‚       #
â”‚       # ## å½±éŸ¿
â”‚       # - Pros: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã€æŸ”è»Ÿæ€§
â”‚       # - Cons: é‹ç”¨ã‚³ã‚¹ãƒˆã€è¤‡é›‘æ€§å¢—åŠ 
â”‚
â””â”€â”€ improvements/
    â”œâ”€â”€ design-improvements.md
    â”‚   # è¨­è¨ˆæ”¹å–„ææ¡ˆ
    â”‚   # 
    â”‚   # ## ææ¡ˆ1: GraphQLå¯¾å¿œæ¤œè¨
    â”‚   # - å„ªå…ˆåº¦: Medium
    â”‚   # - ç†ç”±: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æŸ”è»Ÿãªãƒ‡ãƒ¼ã‚¿å–å¾—
    â”‚   # - å®Ÿæ–½æ™‚æœŸ: Phase 2
    â”‚   #
    â”‚   # ## ææ¡ˆ2: Event Sourcingæ¤œè¨
    â”‚   # - å„ªå…ˆåº¦: Low
    â”‚   # - ç†ç”±: ç›£æŸ»è¨¼è·¡ã®å¼·åŒ–
    â”‚   # - å®Ÿæ–½æ™‚æœŸ: Phase 3
    â”‚
    â””â”€â”€ technical-debt.md
        # æŠ€è¡“è² å‚µãƒªã‚¹ãƒˆ
        # 
        # ## è² å‚µ1: gRPCã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æœªå®Ÿè£…
        # - å½±éŸ¿åº¦: Medium
        # - ç·Šæ€¥åº¦: Medium
        # - ç†ç”±: Phase 1 ã§æ™‚é–“ä¸è¶³
        # - è§£æ¶ˆè¨ˆç”»: Phase 2 Sprint 1
        #
        # ## è² å‚µ2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ãƒ­ã‚¸ãƒƒã‚¯æ”¹å–„
        # - å½±éŸ¿åº¦: Low
        # - ç·Šæ€¥åº¦: Low
        # - ç†ç”±: åˆæœŸå®Ÿè£…ã®å˜ç´”åŒ–
        # - è§£æ¶ˆè¨ˆç”»: Phase 2 Sprint 3
```

---

## ğŸ¯ ä¸»è¦ãªæ”¹å–„åŠ¹æœ

### 1. ç™ºè¦‹å¯èƒ½æ€§
- **æ—§**: Phaseç•ªå·ã‹ã‚‰å†…å®¹ã‚’æ¨æ¸¬ â†’ è¤‡æ•°ãƒ•ã‚©ãƒ«ãƒ€ç¢ºèª
- **æ–°**: ãƒ•ã‚©ãƒ«ãƒ€åã‹ã‚‰ç›´æ¥ç†è§£ â†’ 1ãƒ•ã‚©ãƒ«ãƒ€ã§å®Œçµ

### 2. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹ç‡
- **æ—§**: phase-2.1 â‡„ phase-2.2 ã‚’è¡Œãæ¥
- **æ–°**: æˆæœç‰©ç¨®é¡åˆ¥ã«æ•´ç†ã€ç›´ç·šçš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

### 3. æ–°ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- **æ—§**: 2-3æ™‚é–“ï¼ˆæ§‹é€ ç†è§£ + å†…å®¹ç†è§£ï¼‰
- **æ–°**: 1-1.5æ™‚é–“ï¼ˆç›´æ„Ÿçš„ãªæ§‹é€ ï¼‰

### 4. ä¿å®ˆæ€§
- **æ—§**: å®Ÿè£…å‰/å®Ÿè£…å¾Œã®2ç®‡æ‰€ç®¡ç†
- **æ–°**: æˆæœç‰©ç¨®é¡ã§çµ±ä¸€ã€as-built/ ã§å·®åˆ†ç®¡ç†

---

## ğŸ“Š åˆ©ç”¨çµ±è¨ˆäºˆæ¸¬

### ã‚¢ã‚¯ã‚»ã‚¹é »åº¦ã®é«˜ã„ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆäºˆæ¸¬ï¼‰

| ãƒ•ã‚©ãƒ«ãƒ€ | é€±é–“ã‚¢ã‚¯ã‚»ã‚¹ | ä¸»ãªåˆ©ç”¨è€… |
|---------|------------|----------|
| `architecture/` | 50å› | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€å…¨ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| `api/` | 80å› | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ |
| `data-model/` | 40å› | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€DBA |
| `security/` | 20å› | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ‹…å½“ã€å…¨ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |
| `as-built/` | 30å› | æ–°ãƒ¡ãƒ³ãƒãƒ¼ã€ä¿å®ˆãƒãƒ¼ãƒ  |
| `adr/` | 25å› | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ |

### æ™‚é–“ç¯€ç´„åŠ¹æœï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚ãŸã‚Šï¼‰

| ã‚¿ã‚¹ã‚¯ | æ—§æ§‹é€  | æ–°æ§‹é€  | ç¯€ç´„æ™‚é–“ |
|-------|-------|-------|---------|
| è¨­è¨ˆæ›¸æ¤œç´¢ | 5-10åˆ† | 1-2åˆ† | 80% |
| æ–°ãƒ¡ãƒ³ãƒãƒ¼ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | 2-3æ™‚é–“ | 1-1.5æ™‚é–“ | 50% |
| ADRä½œæˆ | 1-2æ™‚é–“ | 30-60åˆ† | 60% |
| è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æº–å‚™ | 30åˆ† | 15åˆ† | 50% |

**å¹´é–“ç¯€ç´„æ™‚é–“ï¼ˆ10äººãƒãƒ¼ãƒ ï¼‰**: ç´„200æ™‚é–“

---

**ä½œæˆæ—¥æ™‚**: 2025-11-12  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0  
**ç›®çš„**: æ–°æ§‹é€ ã®ç†è§£ä¿ƒé€²ã¨ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«æ¯”è¼ƒ
