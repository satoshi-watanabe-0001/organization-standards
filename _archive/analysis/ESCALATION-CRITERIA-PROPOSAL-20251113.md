# エスカレーション基準の詳細化提案

**作成日**: 2025-11-13  
**対象**: AI-MASTER-WORKFLOW-GUIDE.md および関連チェックリスト

## 📊 現状分析

### 現在のエスカレーション基準の記載状況

**AI-MASTER-WORKFLOW-GUIDE.md（1362行目）**:
- **即座にエスカレーション（人間判断が必要）**: 6項目
- **実装後レビュー要求**: 4項目

**Phase 0完了チェックリスト**:
- **即座にエスカレーション**: 4項目（GUIDE版より簡略化）
- **実装後レビュー要求**: 3項目

### 確認された問題点

1. **定量的閾値の欠如**
   - 「重大な影響」「大きく逸脱」「特に厳しい」などの表現が主観的
   - 数値的な判断基準が存在しない

2. **判断プロセスの不明確さ**
   - Step 0.2の不明点処理フロー: 「開発に影響するか?」の判断基準が曖昧
   - 「重要 vs 軽微」の区分基準が未定義

3. **ドキュメント間の整合性**
   - GUIDE版とチェックリスト版でエスカレーション項目数が異なる
   - どちらを正として参照すべきか不明確

4. **段階的エスカレーションパスの不在**
   - 「即座」「実装後」の2段階のみ
   - 中間的な判断や段階的エスカレーションの選択肢がない

---

## 🎯 提案する改善アプローチ

### 改善方針

1. **定量的な閾値の導入**: 可能な限り数値化・具体化
2. **判断マトリクスの作成**: 影響度×緊急度のマトリクス
3. **段階的エスカレーションパスの定義**: 3段階以上の階層化
4. **チェックリスト自己診断の追加**: AI自身が判断可能な基準

---

## 📐 提案1: エスカレーション判断マトリクス

### 影響度の定義（Impact Level）

| レベル | 定義 | 具体例 |
|--------|------|--------|
| **Critical (致命的)** | システム全体・セキュリティ・データ整合性に影響 | - 個人情報漏洩のリスク<br>- システム全体のダウンタイム<br>- データ損失の可能性<br>- 法的コンプライアンス違反 |
| **High (高)** | 複数モジュール・主要機能・アーキテクチャに影響 | - 主要APIの変更<br>- データベーススキーマの変更<br>- 3つ以上のモジュールへの影響<br>- パフォーマンス50%以上の低下 |
| **Medium (中)** | 単一モジュール・限定的な機能に影響 | - 単一サービスの機能追加<br>- 既存機能の改善<br>- 2つ以下のモジュールへの影響<br>- パフォーマンス20-50%の低下 |
| **Low (低)** | UI改善・ログ・ドキュメントなど非機能部分に影響 | - UI/UXの微調整<br>- ログメッセージの改善<br>- ドキュメント更新<br>- パフォーマンス20%未満の変動 |

### 緊急度の定義（Urgency Level）

| レベル | 定義 | 判断基準 |
|--------|------|----------|
| **Immediate (即座)** | 次のステップに進む前に解決必須 | - 設計・アーキテクチャの根本に影響<br>- 技術選定に直結<br>- Phase 1以降の全体設計に影響<br>- PBIの解釈が根本的に異なる可能性 |
| **Before Implementation (実装前)** | 実装開始前までに解決が望ましい | - 実装詳細には影響するが設計には影響小<br>- 複数の実装方法が考えられる<br>- Phase 2-3で方針転換が可能 |
| **Before Review (レビュー前)** | 実装完了後、レビュー前に確認 | - 実装は完了可能だが最適性を確認したい<br>- 新しいパターン・技術の採用<br>- ベストプラクティスの確認 |
| **After Deployment (デプロイ後)** | デプロイ後に確認・改善可能 | - 運用上の最適化<br>- パフォーマンスチューニング<br>- 監視・ログの改善 |

### エスカレーション判断マトリクス（Impact × Urgency）

|  | **Immediate** | **Before Implementation** | **Before Review** | **After Deployment** |
|---|---|---|---|---|
| **Critical** | 🔴 **即座に停止・エスカレーション**<br>作業を停止し、人間の判断を待つ | 🔴 **即座に停止・エスカレーション**<br>（Critical案件は緊急度に関わらず即座） | 🔴 **即座に停止・エスカレーション** | 🟠 **実装前エスカレーション**<br>（Critical案件は最低でも実装前） |
| **High** | 🔴 **即座に停止・エスカレーション**<br>Phase進行を待機 | 🟠 **実装前エスカレーション**<br>Phase 2.1前までに確認 | 🟡 **実装後レビュー要求**<br>Phase 4で重点レビュー | 🟡 **実装後レビュー要求** |
| **Medium** | 🟠 **実装前エスカレーション**<br>確認リクエスト作成 | 🟡 **実装後レビュー要求**<br>Phase 4で確認依頼 | 🟢 **記録して進行**<br>Phase 6で改善提案 | 🟢 **記録して進行** |
| **Low** | 🟡 **実装後レビュー要求**<br>確認事項リストに追加 | 🟢 **記録して進行**<br>標準的な想定で実装 | 🟢 **記録して進行** | 🟢 **記録して進行** |

### アクション定義

- 🔴 **即座に停止・エスカレーション**: 現在の作業を停止し、人間の判断を待つ。次のStepに進まない
- 🟠 **実装前エスカレーション**: 確認リクエストを作成し、Phase 2開始前に回答を得る。暫定的に進行可
- 🟡 **実装後レビュー要求**: 実装を完了し、Phase 4レビュー時に人間の確認を求める
- 🟢 **記録して進行**: 判断内容を記録し、標準的な想定で進行。Phase 6で改善提案として報告

---

## 📋 提案2: 具体的なエスカレーション閾値

### カテゴリ別の具体的閾値

#### 1. セキュリティ関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| データ種別 | - 個人情報（PII）の取扱変更<br>- クレジットカード情報<br>- 認証情報（パスワード・トークン） | - セッション管理方式の変更<br>- ログに含まれる情報の変更<br>- アクセス制御の追加 | - ログレベルの調整<br>- エラーメッセージの改善 |
| 認証・認可 | - 認証方式の新規導入/変更<br>- 多要素認証(MFA)の要否<br>- OAuth/SAML等の統合 | - 権限管理の粒度変更<br>- ロールベースアクセス制御(RBAC)の詳細 | - 権限チェックのログ追加<br>- セッションタイムアウト調整 |
| 通信 | - TLS/SSL設定の変更<br>- 暗号化方式の選定<br>- 外部API連携のセキュリティ | - HTTPSリダイレクト設定<br>- CORS設定の変更 | - セキュリティヘッダー追加 |

#### 2. アーキテクチャ・設計関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| 影響範囲 | - 3つ以上のマイクロサービスへの影響<br>- データベーススキーマの破壊的変更<br>- 主要APIの破壊的変更 | - 2つのサービス間の新規連携<br>- データベーススキーマの追加<br>- APIのバージョニング追加 | - 単一サービス内の機能追加<br>- 既存APIの拡張（後方互換） |
| 技術選定 | - 組織の承認技術リストにない技術の採用<br>- 新しいプログラミング言語の導入<br>- 新しいデータベースの導入 | - 既存技術の新バージョン採用<br>- 新しいライブラリ（メジャー） | - 新しいライブラリ（マイナー）<br>- ユーティリティツールの追加 |
| パターン変更 | - アーキテクチャパターンの根本変更<br>（モノリス↔マイクロサービス等） | - 新しいデザインパターンの初採用<br>- 状態管理パターンの変更 | - 既存パターンの適用<br>- リファクタリング |

#### 3. パフォーマンス関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| レスポンスタイム | - 要件で明示された閾値を超える懸念<br>- 50%以上の性能劣化の可能性 | - 20-50%の性能劣化の可能性<br>- 新しいキャッシュ戦略の導入 | - 20%未満の性能変動<br>- パフォーマンス監視の追加 |
| スケーラビリティ | - 同時接続数の上限に関わる設計<br>- データ増加に対するスケール戦略 | - 負荷分散方式の選定<br>- キューイング方式の選定 | - 既存スケール設定の調整 |
| リソース使用量 | - メモリ使用量が2倍以上増加<br>- ストレージ使用量が組織上限に接近 | - メモリ使用量が50-100%増加<br>- 新しいリソース種別の使用 | - 30%未満のリソース変動 |

#### 4. ビジネスロジック関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| データ整合性 | - トランザクション境界の変更<br>- データ削除・更新ロジックの変更<br>- 金銭計算ロジック | - バリデーションルールの追加<br>- データ移行が必要な変更 | - エラーメッセージの改善<br>- ログ追加 |
| ワークフロー | - 主要ビジネスフローの変更<br>- 承認フローの変更<br>- 決済フローの変更 | - サブフローの追加<br>- 通知タイミングの変更 | - UIフローの微調整 |
| 計算ロジック | - 税金・手数料計算<br>- ポイント・報酬計算<br>- 集計・レポート計算 | - 丸め処理の方針<br>- エッジケースの扱い | - 計算結果の表示形式 |

#### 5. 組織標準遵守関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| コーディング規約 | - 規約に存在しない言語・技術の使用<br>- 規約の根本的な変更提案 | - 規約の例外適用が必要<br>- 規約の解釈に複数の可能性 | - 規約範囲内の実装<br>- 規約改善提案 |
| ドキュメント | - 必須ドキュメントの省略<br>- ドキュメント体系の変更 | - ドキュメントテンプレートの調整<br>- 新規ドキュメント種別の追加 | - ドキュメント内容の充実化 |
| プロセス遵守 | - Phaseのスキップ<br>- 必須ステップの省略 | - Phaseの順序変更（パターンB/C）<br>- ステップの統合 | - ステップ内の作業順序調整 |

#### 6. 工数・スケジュール関連

| 項目 | 即座にエスカレーション | 実装前エスカレーション | 実装後レビュー |
|------|------------------------|------------------------|----------------|
| 工数増加 | - 見積工数の2倍以上の増加<br>- 納期遵守が不可能 | - 見積工数の50-100%増加<br>- 納期に影響する可能性 | - 30%未満の工数増加<br>- 納期内で調整可能 |
| 依存関係 | - ブロッカーとなる外部依存の発見<br>- 他チームの作業待ちが必要 | - 並行作業可能な依存関係<br>- リスク回避策が存在 | - 軽微な依存関係 |

---

## 🔍 提案3: Step 0.2 不明点処理フローの詳細化

### 現状の問題点

現在のフロー:
```
不明点を発見
  ↓
[判断] 開発に影響するか?
  ├─ Yes (重要) → 即座に人間に確認要求
  └─ No (軽微) → 不明点リストに記録
```

**問題**: 「開発に影響するか?」の判断基準が不明確

### 提案する改善版フロー

```
不明点を発見
  ↓
[ステップ1] 影響度レベルを判定
  ├─ Critical: セキュリティ・データ整合性・システム全体に影響
  ├─ High: 複数モジュール・主要機能・アーキテクチャに影響
  ├─ Medium: 単一モジュール・限定的な機能に影響
  └─ Low: UI・ログ・ドキュメント等の非機能部分に影響
  ↓
[ステップ2] 緊急度レベルを判定
  ├─ Immediate: Phase 0完了前に解決必須（設計・アーキテクチャの根本）
  ├─ Before Implementation: Phase 2開始前に解決が望ましい
  ├─ Before Review: Phase 4前に確認
  └─ After Deployment: Phase 6以降で対応可能
  ↓
[ステップ3] マトリクスで対応方針を決定
  ├─ 🔴 即座に停止・エスカレーション
  │   └─ 確認テンプレート作成 → 人間の回答待機
  ├─ 🟠 実装前エスカレーション
  │   └─ 確認リクエスト作成 → Phase 2前に回答期限設定
  ├─ 🟡 実装後レビュー要求
  │   └─ レビュー依頼事項リストに追加 → Phase 4で確認
  └─ 🟢 記録して進行
      └─ 不明点リストに記録 → 標準的な想定を文書化
  ↓
[ステップ4] 判断理由を記録
  - 影響度: [レベル] - [理由]
  - 緊急度: [レベル] - [理由]
  - 対応方針: [アクション] - [根拠]
  - 想定した標準対応: [内容]（🟢の場合）
```

### 判断補助チェックリスト

#### 影響度判定の質問

1. **セキュリティへの影響はあるか?**
   - 個人情報・認証情報を扱うか? → Critical
   - セキュリティ設定に影響するか? → High
   - ログ・監視に関連するか? → Medium/Low

2. **システム範囲への影響は?**
   - 3つ以上のサービス/モジュールに影響? → High
   - 2つのサービス/モジュールに影響? → Medium
   - 単一サービス/モジュール内で完結? → Low

3. **データへの影響は?**
   - データ削除・更新ロジックに影響? → Critical
   - データスキーマ変更が必要? → High
   - データ表示・フォーマットのみ? → Low

4. **既存機能への影響は?**
   - 破壊的変更（後方互換性なし）? → Critical/High
   - 後方互換性のある変更? → Medium
   - 新規機能追加のみ? → Low

#### 緊急度判定の質問

1. **Phase 0で決定が必要か?**
   - アーキテクチャ・技術選定に影響? → Immediate
   - 実装方針に影響? → Before Implementation
   - 実装詳細のみに影響? → Before Review

2. **後戻りコストは?**
   - Phase 1以降の全体設計が変わる? → Immediate
   - Phase 2-3での方針転換が困難? → Before Implementation
   - Phase 4以降で変更容易? → Before Review/After Deployment

3. **標準的な想定で進められるか?**
   - 組織標準・ベストプラクティスが明確? → 緊急度低下（記録して進行）
   - 複数の選択肢がある? → 緊急度上昇（確認必要）

---

## 📝 提案4: エスカレーション基準の自己診断チェックリスト

AIが自律的に判断できるよう、チェックリスト形式で提供:

### エスカレーション要否の自己診断

**設問に答えて、該当する項目をカウント**

#### セクションA: セキュリティ・コンプライアンス（Critical判定）

- [ ] A1. 個人情報（氏名・メールアドレス・電話番号等）を新たに取得・保存・送信するか?
- [ ] A2. 認証方式（ログイン・トークン・セッション管理）を変更・追加するか?
- [ ] A3. 暗号化・TLS設定・セキュリティヘッダーを変更するか?
- [ ] A4. 外部システムとの認証連携（OAuth/SAML等）を追加・変更するか?
- [ ] A5. データ削除・更新ロジックに関わるか?（特に金銭・ポイント・重要データ）

**A項目が1つでも該当 → 🔴 Critical + Immediate = 即座にエスカレーション**

#### セクションB: アーキテクチャ・技術選定（High判定）

- [ ] B1. 3つ以上のマイクロサービス/モジュールに影響するか?
- [ ] B2. データベーススキーマを変更（テーブル追加・カラム追加・型変更）するか?
- [ ] B3. 主要API（他サービスから利用されるAPI）を変更・追加するか?
- [ ] B4. 組織の承認技術リストにない技術・ライブラリを新規に使用するか?
- [ ] B5. 既存のアーキテクチャパターンとは異なるパターンを採用するか?
- [ ] B6. パフォーマンス要件が明示され、50%以上の性能劣化の懸念があるか?

**B項目が2つ以上該当 → 🔴 High + Immediate = 即座にエスカレーション**  
**B項目が1つ該当 → 🟠 High + Before Implementation = 実装前エスカレーション**

#### セクションC: ビジネスロジック・データ整合性（Medium判定）

- [ ] C1. 金銭計算・税金計算・手数料計算に関わるか?
- [ ] C2. ポイント・報酬・インセンティブ計算に関わるか?
- [ ] C3. 承認フロー・ワークフロー・ステータス遷移に関わるか?
- [ ] C4. データのバリデーションルールを追加・変更するか?
- [ ] C5. 2つのサービス/モジュール間の連携を新たに追加するか?
- [ ] C6. トランザクション境界・ロールバック処理に関わるか?

**C項目が2つ以上該当 → 🟠 Medium + Immediate = 実装前エスカレーション**  
**C項目が1つ該当 → 🟡 Medium + Before Review = 実装後レビュー要求**

#### セクションD: 組織標準・プロセス遵守（判定に影響）

- [ ] D1. 組織のコーディング規約に明記されていない実装方法を採用するか?
- [ ] D2. 標準的なPhase順序と異なる進行をするか?
- [ ] D3. 必須ドキュメントの省略・テンプレート変更が必要か?
- [ ] D4. ドキュメント間で矛盾する記載を発見したか?
- [ ] D5. 見積工数が当初の2倍以上に増加する見込みか?

**D項目が1つでも該当 → 判定を1段階引き上げ（緊急度を上げる）**

#### セクションE: UI・ログ・ドキュメント（Low判定）

- [ ] E1. 変更がUI/UXの表示・デザインのみに限定されるか?
- [ ] E2. ログメッセージ・エラーメッセージの改善のみか?
- [ ] E3. ドキュメント・コメントの追加・修正のみか?
- [ ] E4. 既存機能への影響がなく、新規機能の追加のみか?
- [ ] E5. 単一サービス/モジュール内で完結し、他への影響がないか?

**E項目が3つ以上該当 & A/B/C/D項目が0個 → 🟢 Low = 記録して進行**

### 判定フローチャート

```
A項目に該当あり?
├─ Yes → 🔴 即座にエスカレーション（作業停止）
└─ No ↓

B項目が2つ以上該当?
├─ Yes → 🔴 即座にエスカレーション（作業停止）
└─ No ↓

B項目が1つ該当 OR C項目が2つ以上該当?
├─ Yes → 🟠 実装前エスカレーション（確認リクエスト作成）
└─ No ↓

C項目が1つ該当 OR D項目が1つ以上該当?
├─ Yes → 🟡 実装後レビュー要求（レビュー事項リストに追加）
└─ No ↓

E項目が3つ以上該当?
├─ Yes → 🟢 記録して進行（標準的な想定を文書化）
└─ No → 🟡 実装後レビュー要求（念のため確認）
```

---

## 🔄 提案5: ドキュメント間の整合性確保

### 現状の差異

| ドキュメント | 即座にエスカレーション項目数 | 実装後レビュー項目数 |
|--------------|------------------------------|----------------------|
| AI-MASTER-WORKFLOW-GUIDE.md | 6項目 | 4項目 |
| Phase 0完了チェックリスト | 4項目 | 3項目 |

### 統一案

**マスターソース**: AI-MASTER-WORKFLOW-GUIDE.mdを正として定義

**チェックリスト**: GUIDEからの参照形式に変更

```markdown
## 🚨 エスカレーション基準

詳細は [AI-MASTER-WORKFLOW-GUIDE.md#エスカレーション基準](../../00-guides/AI-MASTER-WORKFLOW-GUIDE.md#エスカレーション基準) を参照。

### クイックチェック

以下のいずれかに該当する場合は、即座に作業を停止してエスカレーション:

- [ ] [自己診断チェックリスト](#) でA項目（セキュリティ）に該当
- [ ] [自己診断チェックリスト](#) でB項目（アーキテクチャ）に2つ以上該当
- [ ] 組織標準から大きく逸脱する必要がある
- [ ] 複数ドキュメント間で解決不能な矛盾がある

詳細な判定基準・判定マトリクスは [ESCALATION-CRITERIA-GUIDE.md](#) を参照。
```

### 新規ドキュメントの提案

**ファイル名**: `00-guides/ESCALATION-CRITERIA-GUIDE.md`

**目的**: エスカレーション基準の詳細な解説・判定マトリクス・判定フロー・具体例を集約

**構成**:
1. エスカレーション判断マトリクス（本提案の提案1）
2. カテゴリ別の具体的閾値（本提案の提案2）
3. Step 0.2詳細化フロー（本提案の提案3）
4. 自己診断チェックリスト（本提案の提案4）
5. 判定事例集（30-50の具体例）
6. FAQ（よくある質問と回答）

---

## 📚 提案6: 判定事例集（サンプル）

### 事例1: 多要素認証(MFA)の要否が不明

**状況**: PBIに「ユーザー認証機能」とあるが、MFAの明記がない

**自己診断**:
- A2 (認証方式の追加): ✅ 該当
- A項目1つ以上 → **Critical + Immediate**

**判定**: 🔴 **即座にエスカレーション**

**理由**:
- 影響度: Critical（認証方式の根本に関わる）
- 緊急度: Immediate（Phase 0でアーキテクチャ決定が必要）
- 後戻りコスト: MFA前提の設計とMFAなしの設計では根本的に異なる

**アクション**:
1. 作業を停止
2. 確認テンプレートを作成
3. 人間の判断を待つ
4. 想定される影響（工数・アーキテクチャ）を明記

---

### 事例2: API レスポンス形式の選択（JSON or XML）

**状況**: 既存システムはJSON、新規要件では形式明記なし

**自己診断**:
- B3 (主要API変更): ✅ 該当（新規APIなので実質は該当しない）
- B項目1つ → 要再評価
- E4 (新規機能のみ): ✅ 該当
- E5 (単一サービス内): ✅ 該当

**再評価**: 
- 実際は新規API追加であり、既存への影響なし
- 組織標準に「REST APIはJSON」と明記されているか確認
  - 明記あり → Low判定
  - 明記なし → Medium判定

**判定**: 
- **標準明記あり**: 🟢 **記録して進行**（JSONで実装し、理由を文書化）
- **標準不明**: 🟡 **実装後レビュー要求**（JSONで実装し、Phase 4で確認）

**理由**:
- 影響度: Low（新規API、単一サービス内）
- 緊急度: Before Review（実装方針は明確、形式選定のみ）
- 標準的な想定: REST APIはJSONが一般的

**アクション（標準明記ありの場合）**:
1. 不明点リストに記録
2. JSON形式で実装を進める
3. ADRに「JSON選定理由: 組織標準・RESTベストプラクティス」を記載
4. Phase 6で改善提案があれば報告

---

### 事例3: パフォーマンス要件「高速であること」

**状況**: PBIに「レスポンスは高速であること」とあるが、具体的な数値なし

**自己診断**:
- B6 (パフォーマンス要件): ❓ 数値不明のため判断困難
- C項目: 該当なし
- E項目: 該当なし

**追加調査**:
1. AI-QUICK-REFERENCE.mdで標準パフォーマンス基準を確認
2. 類似PBIの実績を確認
3. 05-technology-stack/performance-standards.md を確認（存在する場合）

**判定**:
- **標準基準が明確（例: API応答200ms以内）**: 🟢 **記録して進行**
- **標準基準不明 & 主要API**: 🟠 **実装前エスカレーション**
- **標準基準不明 & 補助機能**: 🟡 **実装後レビュー要求**

**理由**:
- 影響度: Medium（パフォーマンスは機能要件に直結）
- 緊急度: Before Implementation（設計に影響）
- 組織標準での補完可能性: 高

**アクション（標準基準明確の場合）**:
1. 不明点リストに記録
2. 標準基準（API応答200ms以内）を想定
3. Step 0.4タスク分解で「パフォーマンステスト」タスクを追加
4. Phase 4で基準達成を確認

---

### 事例4: ログレベルの選択

**状況**: エラーハンドリング実装時、ログレベル（ERROR/WARN/INFO）の判断が必要

**自己診断**:
- A項目: 該当なし
- B項目: 該当なし
- C項目: 該当なし
- E2 (ログメッセージのみ): ✅ 該当
- E5 (単一モジュール内): ✅ 該当

**判定**: 🟢 **記録して進行**

**理由**:
- 影響度: Low（ログ出力のみ、機能に影響なし）
- 緊急度: After Deployment（運用後の調整も容易）
- 標準的な想定: 組織のロギング規約に従う

**アクション**:
1. 01-coding-standards/logging-standards.md を確認
2. 標準に従ってログレベルを決定
3. 特殊な判断をした場合は理由をコードコメントに記載
4. エスカレーション不要、そのまま実装

---

### 事例5: データベースにインデックス追加

**状況**: パフォーマンス改善のため、既存テーブルにインデックスを追加したい

**自己診断**:
- B2 (データベーススキーマ変更): ✅ 該当（インデックス追加は軽微だが該当）
- B項目1つ → 要再評価
- 既存データへの影響: 読み取りパフォーマンス向上、書き込み若干低下

**再評価**:
- インデックス追加は非破壊的変更
- ロールバック容易（インデックス削除可能）
- データ整合性への影響なし

**判定**: 🟡 **実装後レビュー要求**

**理由**:
- 影響度: Medium（全体パフォーマンスに影響）
- 緊急度: Before Review（実装は可能、最適性を確認したい）
- 後戻りコスト: 低（インデックス削除容易）

**アクション**:
1. インデックス追加の設計をADRに記載
2. 実装を進める
3. Phase 4で「インデックス設計の妥当性」をレビュー依頼事項に追加
4. パフォーマンステスト結果をレビュー時に報告

---

### 事例6: UI文言の変更（「登録」→「保存」）

**状況**: PBIには「登録」とあるが、既存システムでは「保存」ボタンを使用

**自己診断**:
- E1 (UI表示のみ): ✅ 該当
- E5 (他への影響なし): ✅ 該当
- A-D項目: 該当なし

**判定**: 🟢 **記録して進行**

**理由**:
- 影響度: Low（表示文言のみ、ロジック影響なし）
- 緊急度: Before Review（一貫性の観点で確認は欲しい）
- 統一性: 既存システムとの統一を優先

**アクション**:
1. 不明点リストに「PBIでは『登録』だが、既存に合わせて『保存』を使用」と記録
2. 既存システムの文言「保存」を使用して実装
3. Phase 4レビュー時に「UI文言の統一性」として報告
4. 必要に応じてPBIの文言を修正依頼

---

## 🎯 実装推奨案

### Phase 1: 即座に実装可能（最小構成）

**対象ドキュメント**: AI-MASTER-WORKFLOW-GUIDE.md

**追加内容**:
1. **エスカレーション判断マトリクス**（提案1）を追加
   - 既存の「エスカレーション基準」セクションを拡張
   - 影響度・緊急度の定義表を追加
   - マトリクス表を追加

2. **自己診断チェックリスト**（提案4）を追加
   - 新規セクション「🔍 エスカレーション要否の自己診断」を作成
   - A-E項目のチェックリストを追加
   - 判定フローチャートを追加

**作業量**: 1-2時間（既存ドキュメントへの追記）

---

### Phase 2: 詳細化（推奨構成）

**新規ドキュメント作成**: `00-guides/ESCALATION-CRITERIA-GUIDE.md`

**内容**:
- 本提案の全内容（提案1-6）を統合
- 判定事例集を拡充（30-50事例）
- FAQ追加

**既存ドキュメント修正**:
- AI-MASTER-WORKFLOW-GUIDE.md: 新規ガイドへの参照を追加
- 各Phase完了チェックリスト: 新規ガイドへの参照を追加
- Step 0.2の不明点処理フロー: 詳細版フローに差し替え

**作業量**: 3-5時間（新規ドキュメント作成 + 既存ドキュメント修正）

---

### Phase 3: 継続改善（運用フェーズ）

**判定事例の蓄積**:
- 実際のPBI処理で発生した判定事例を追加
- 誤判定・判断困難だった事例を分析
- 四半期ごとに閾値・基準を見直し

**メトリクス収集**:
- エスカレーション発生率（Phase別、カテゴリ別）
- 過剰エスカレーション率（エスカレーション後に「不要だった」と判定された割合）
- 不足エスカレーション率（エスカレーション漏れが後で発見された割合）

**作業量**: 継続的（月次1時間程度）

---

## 📊 期待効果

### 定量的効果

| 指標 | 現状（想定） | 改善後（目標） |
|------|--------------|----------------|
| エスカレーション判断時間 | 10-30分（悩む時間含む） | 5分以内（チェックリストで機械的判断） |
| エスカレーション判断の一貫性 | 60-70%（主観的） | 90%以上（客観的基準） |
| 過剰エスカレーション率 | 20-30%（推測） | 10%以下（精緻な閾値） |
| 不足エスカレーション率 | 10-15%（推測） | 5%以下（漏れ防止チェックリスト） |

### 定性的効果

1. **AI自律性の向上**: 明確な基準により、AIが自信を持って判断可能
2. **人間の負担軽減**: 過剰エスカレーションの削減により、人間の確認負荷が減少
3. **品質の向上**: 必要なエスカレーションの漏れ防止により、リスク低減
4. **プロセスの透明性**: 判断理由の記録により、後から検証可能
5. **組織学習の促進**: 判定事例の蓄積により、組織全体の判断力向上

---

## 🚀 次のアクション

### ユーザーへの確認事項

1. **提案内容の受け入れ可否**
   - 提案1-6の中で、実装したい内容を選択
   - 優先順位の確認（Phase 1 のみ? Phase 2まで? Phase 3も?)

2. **組織固有の調整事項**
   - 閾値（50%、2倍等）は組織の実態に合っているか?
   - カテゴリ分類は適切か? 追加・削除すべきカテゴリは?
   - 事例集に追加すべき頻出シナリオは?

3. **ドキュメント配置**
   - 新規ガイド作成 vs 既存ドキュメント拡張?
   - ファイル名・配置場所の確認

### 私が次に実施可能な作業

- ✅ Phase 1実装（AI-MASTER-WORKFLOW-GUIDE.mdへの追記）
- ✅ Phase 2実装（新規ESCALATION-CRITERIA-GUIDE.md作成）
- ✅ 既存チェックリストの修正（参照形式への変更）
- ✅ 判定事例集の拡充（50事例程度）
- ✅ 実装後のバックアップ・レポート作成

---

## 📎 補足: チェックリスト間の整合性について

### 現状の14種類のチェックリスト構成

1. pbi-reception-checklist.md
2. phase-0-completion-checklist.md
3. phase-1-completion-checklist.md
4. phase-2.1-completion-checklist.md ← **Phase 2分割対応済み**
5. phase-2.2-completion-checklist.md ← **Phase 2分割対応済み**
6. phase-3-completion-checklist.md
7. phase-4-completion-checklist.md
8. phase-5-completion-checklist.md
9. phase-6-completion-checklist.md
10. phase-pre-work-checklist.md
11. ai-documentation-comment-checklist.md
12. ci-setup-checklist.md（76KB、大規模）
13. pbi-type-test-requirements-checklist.md
14. (README.md - チェックリストインデックス)

### エスカレーション基準の記載状況

- **Phase 0完了チェックリスト**: エスカレーション基準あり（4+3項目）
- **Phase 1-6完了チェックリスト**: 未確認（要調査）

### 推奨アクション

**オプション1（推奨）**: エスカレーション基準の一元管理
- すべてのPhaseチェックリストから新規ESCALATION-CRITERIA-GUIDE.mdへ参照
- 各Phaseチェックリストには「クイックチェック」のみ記載
- 詳細はガイド参照

**オプション2**: 各Phaseに特化したエスカレーション基準
- Phase別に異なる閾値を設定（例: Phase 3実装中はリスク低）
- 各チェックリストに独立したエスカレーション基準を記載
- 複雑化のリスクあり

---

## まとめ

本提案書では、エスカレーション基準の具体化として以下を提案しました:

1. **影響度×緊急度のマトリクス**: 客観的な判断基準
2. **カテゴリ別の具体的閾値**: 6カテゴリ×3段階の詳細基準
3. **Step 0.2フローの詳細化**: 4ステップの判断プロセス
4. **自己診断チェックリスト**: AI自身が判断可能な質問形式
5. **ドキュメント整合性の確保**: 参照構造の整理
6. **判定事例集**: 6つのサンプル事例（拡充可能）

これにより、AIの自律的判断力を向上させ、人間の負担を適切に軽減しながら、必要な確認を漏らさない体制を構築できます。

**次のステップ**: ユーザーのフィードバックを受けて、Phase 1またはPhase 2の実装を開始します。
