---
version: "2.2.0"
last_updated: "2025-11-20"
status: "draft"
owner: "Engineering Team"
category: "design-phase"
change_type: "major - Phase 2をPhase 2A/2-Bに分割"
---

# 改訂版 設計フェーズ成果物マトリクス / Revised Design Phase Deliverables Matrix

## 📊 クイックリファレンス

このドキュメントは、改訂後の設計フェーズ (Phase 2A, Phase 5) で「いつ、何を、誰が作るか」を一目で確認できるマトリクスです。

---

## 🔄 変更概要

### 主要変更点

```yaml
変更前:
  phase_2:
    name: "設計 (Design)"
    timing: "実装前"
    deliverables: "全ての設計ドキュメント"

変更後:
  phase_2a:
    name: "実装前設計 (Pre-Implementation Design)"
    timing: "実装前 (1-2日)"
    deliverables: "最小限の設計 (ADR, API契約, 制約条件)"
  
  phase_5:
    name: "実装後設計 (Post-Implementation Design)"
    timing: "実装後または並行 (2-3日)"
    deliverables: "詳細な設計ドキュメント (設計書, API仕様書, 図)"
```

---

## 成果物マトリクス (Phase 2A vs Phase 5)

### 成果物の分類

| 成果物 | Phase 2A<br>実装前設計 | Phase 5<br>実装後設計 | 目的の違い |
|--------|:--------------------:|:--------------------:|-----------|
| **ADR** | ✓✓ (初版) | ✓ (更新版) | 2-A: 重要な決定<br>2-B: 実装中の追加決定 |
| **API契約書** | ✓✓ | - | 2-A: チーム間の契約合意 |
| **API仕様書** | - | ✓✓ | 2-B: 全エンドポイントの詳細 |
| **制約条件文書** | ✓✓ | - | 2-A: セキュリティ・パフォーマンス要件 |
| **設計書** | - | ✓✓ | 2-B: 実装ベースの実装後設計 |
| **アーキテクチャ図(概要)** | ✓ | - | 2-A: システム構成の概要 |
| **アーキテクチャ図(完全版)** | - | ✓✓ | 2-B: 全図を含む完全版 |
| **データモデル概要** | △ | - | 2-A: 主要エンティティのみ |
| **データモデル文書** | - | ✓✓ | 2-B: ER図、スキーマ定義、マイグレーション |
| **技術提案書** | △ | - | 2-A: 承認が必要な場合 |
| **設計レビュー記録** | - | ✓ | 2-B: レビュー結果の記録 |

**凡例**: 
- ✓✓ = 必須
- ✓ = 推奨
- △ = 条件付き
- \- = 対象外

---

## プロジェクト規模別マトリクス

### 小規模プロジェクト (~1ヶ月)

| 成果物 | Phase 2A | Phase 5 | 作成時間 |
|--------|:--------:|:--------:|---------|
| ADR | ✓ (1-2個) | △ | 1-2時間 |
| API契約書 | △ | - | 1-2時間 |
| 制約条件文書 | ✓ | - | 1時間 |
| 設計書 | - | ✓ (簡易版) | 4-6時間 |
| API仕様書 | - | △ | 2-4時間 |
| アーキテクチャ図 | △ | ✓ | 2-3時間 |
| データモデル文書 | - | △ | 2-3時間 |

**Phase 2A 合計**: 2-5時間 (半日~1日)
**Phase 5 合計**: 8-16時間 (1-2日)

---

### 中規模プロジェクト (1-3ヶ月)

| 成果物 | Phase 2A | Phase 5 | 作成時間 |
|--------|:--------:|:--------:|---------|
| ADR | ✓✓ (3-5個) | ✓ | 2-4時間 |
| API契約書 | ✓✓ | - | 2-4時間 |
| 制約条件文書 | ✓✓ | - | 1-2時間 |
| 技術提案書 | ✓ | - | 2-3時間 |
| アーキテクチャ概要図 | ✓ | - | 1-2時間 |
| 設計書 | - | ✓✓ | 8-12時間 |
| 完全版API仕様書 | - | ✓✓ | 4-6時間 |
| アーキテクチャ図(完全版) | - | ✓✓ | 4-5時間 |
| データモデル文書 | - | ✓✓ | 4-6時間 |
| 設計レビュー記録 | - | ✓ | 1-2時間 |

**Phase 2A 合計**: 8-15時間 (1-2日)
**Phase 5 合計**: 21-31時間 (3-4日、AI活用時 2-3日)

---

### 大規模プロジェクト (3ヶ月~)

| 成果物 | Phase 2A | Phase 5 | 作成時間 |
|--------|:--------:|:--------:|---------|
| ADR | ✓✓ (5-10個) | ✓ | 4-8時間 |
| API契約書 | ✓✓ | - | 4-6時間 |
| 制約条件文書 | ✓✓ | - | 2-3時間 |
| 技術提案書 | ✓✓ | - | 4-6時間 |
| アーキテクチャ概要図 | ✓✓ | - | 2-3時間 |
| 設計書 | - | ✓✓ | 12-16時間 |
| 完全版API仕様書 | - | ✓✓ | 6-10時間 |
| アーキテクチャ図(完全版) | - | ✓✓ | 6-8時間 |
| データモデル文書 | - | ✓✓ | 6-10時間 |
| 設計レビュー記録 | - | ✓✓ | 2-3時間 |
| セキュリティ評価書 | △ | ✓ | 4-6時間 |
| パフォーマンステスト計画 | △ | ✓ | 3-4時間 |

**Phase 2A 合計**: 16-26時間 (2-3日)
**Phase 5 合計**: 36-57時間 (5-7日、AI活用時 3-4日)

---

## プロジェクトタイプ別マトリクス

### 新規マイクロサービス開発

| フェーズ | 成果物 | 優先度 | 目的 |
|---------|--------|:------:|------|
| **Phase 2A** | ADR (技術スタック) | 高 | 技術決定の記録 |
| | API契約書 | 高 | 他サービスとの契約 |
| | 制約条件文書 | 高 | 非機能要件の明確化 |
| | アーキテクチャ概要図 | 中 | システム構成の可視化 |
| **Phase 3** | 実装 | - | コーディング |
| **Phase 5** | 設計書 | 高 | 実装内容の文書化 |
| | 完全版API仕様書 | 高 | 全エンドポイント仕様 |
| | アーキテクチャ図 | 高 | 確定版の図 |
| | データモデル文書 | 高 | ER図、スキーマ |

**推奨パターン**: AI最適化型 (Phase 2A → Phase 3 → Phase 5並行)

---

### 既存システムの大規模改修

| フェーズ | 成果物 | 優先度 | 目的 |
|---------|--------|:------:|------|
| **Phase 2A** | ADR (変更方針) | 高 | 変更の理由と方法 |
| | API契約書 | 中 | 変更されるAPI |
| | 制約条件文書 | 高 | 後方互換性要件 |
| **Phase 3** | 実装 | - | コーディング |
| **Phase 5** | 設計書 | 高 | 変更内容の文書化 |
| | マイグレーション計画書 | 高 | 安全な移行手順 |
| | 更新版ADR | 中 | 実装中の追加決定 |

**推奨パターン**: AI最適化型または従来型 (規模による)

---

### 複数チーム連携プロジェクト

| フェーズ | 成果物 | 優先度 | 目的 |
|---------|--------|:------:|------|
| **Phase 2A** | ADR | 高 | 技術決定の共有 |
| | API契約書 | 高 | チーム間の契約合意 |
| | 制約条件文書 | 高 | 共通理解の確立 |
| | 技術提案書 | 高 | ステークホルダー承認 |
| **Phase 5** | 設計書 (事前作成) | 高 | 実装前の実装後設計 |
| **(実装前)** | 完全版API仕様書 | 高 | 契約の詳細化 |
| **Phase 3** | 実装 | - | 各チームが実装 |
| **Phase 5** | 設計書 (更新) | 中 | 最終版の整備 |
| **(実装後)** | アーキテクチャ図 | 高 | 全体構成の確定 |

**推奨パターン**: 従来型 (Phase 2A → Phase 5詳細 → Phase 3)

---

### 小規模機能追加

| フェーズ | 成果物 | 優先度 | 目的 |
|---------|--------|:------:|------|
| **Phase 2A** | スキップ | - | 既存設計に従う |
| **Phase 3** | 実装 | - | コーディング |
| **Phase 5** | 設計書 (更新) | 低 | 変更点のみ記録 |
| | 更新版ADR | △ | 重要な決定があれば |

**推奨パターン**: リバースエンジニアリング型 (Phase 3 → Phase 5簡易版)

---

## タイミングマトリクス

### パターンA: AI最適化型 (推奨)

```
Week 0: Phase 2A (1-2日)
  └─ ADR, API契約, 制約条件

Week 1-2: Phase 3 実装 + Phase 5 並行開始
  ├─ 実装: メイン作業
  └─ Phase 5: 完成部分から順次文書化 (20-30%の時間)

Week 3: Phase 4 レビュー + Phase 5 完成
  ├─ レビュー: メイン作業
  └─ Phase 5: 残りの文書化完了 (30-40%の時間)

Week 4: Phase 5 デプロイ
```

**リードタイム**: 4週間
**Phase 5作業時間**: Phase 3-4期間に分散


---

# Phase 5並行実施: マイルストーン並行型の詳細タイムライン

> **revised-design-deliverables-matrix.md への追加セクション**
> 
> 挿入位置: "### パターンA: AI最適化型" セクション（Line 199-218）の後

---

## パターンA詳細: マイルストーン並行型（Pattern C）

### 概要

従来の「20-30%時間配分」を具体化した実行可能なパターン。

**キーコンセプト**:
- 機能完成（マイルストーン達成）をトリガーにPhase 5作業ブロックを実施
- 1週間に1回程度の頻度で、4-6時間のドキュメント化作業
- 実装の記憶が鮮明なうちに文書化

---

### 詳細タイムライン: 3週間プロジェクト

```
┌─────────────────────────────────────────────────────────────┐
│ Week 1: 実装集中期間（Phase 3）                              │
├─────────────────────────────────────────────────────────────┤
│ Day 1-5 │ 実装 100% │ Milestone 1: コア機能実装            │
│         │           │ - ユーザー登録・ログイン              │
│         │           │ - JWT認証基盤                        │
│         │           │ - データモデル構築                   │
├─────────────────────────────────────────────────────────────┤
│ Day 5   │ Phase 5   │ ★作業ブロック #1 (4時間)            │
│ 午後    │ 開始      │ - API仕様書（登録・ログイン）         │
│         │           │ - 認証フローシーケンス図              │
│         │           │ - データモデルER図                   │
│         │           │ - ADR（JWT選定理由）                 │
│         │           │ 📊 Phase 5進捗: 25%                  │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Week 2: 実装継続 + 部分的ドキュメント化                      │
├─────────────────────────────────────────────────────────────┤
│ Day 1-5 │ 実装 100% │ Milestone 2: セキュリティ強化        │
│         │           │ - リフレッシュトークン                │
│         │           │ - レート制限ミドルウェア              │
│         │           │ - セキュリティヘッダー                │
├─────────────────────────────────────────────────────────────┤
│ Day 5   │ Phase 5   │ ★作業ブロック #2 (4時間)            │
│ 午後    │ 継続      │ - セキュリティアーキテクチャ文書      │
│         │           │ - JWT/リフレッシュトークン設計        │
│         │           │ - 脅威モデル文書化                   │
│         │           │ 📊 Phase 5進捗: 50%                  │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Week 3: Phase 4（レビュー・QA）+ Phase 5完成                │
├─────────────────────────────────────────────────────────────┤
│ Day 1-3 │ Phase 3   │ Milestone 3: 監視・ロギング          │
│         │ 実装完了  │ - 構造化ログ実装                     │
│         │           │ - メトリクス収集                     │
│         │           │ - ヘルスチェック                     │
├─────────────────────────────────────────────────────────────┤
│ Day 1-3 │ Phase 4   │ レビュー・QA実施                     │
│         │ 開始      │ - 統合テスト実行                     │
│         │           │ - コードレビュー                     │
│         │           │ - バグ修正                          │
├─────────────────────────────────────────────────────────────┤
│ Day 3   │ Phase 5   │ ★作業ブロック #3 (6時間)            │
│ Phase 4 │ 並行      │ - 監視・ロギング設計文書              │
│ と並行  │           │ - 全体アーキテクチャ図完成            │
│         │           │ - デプロイメント図                   │
│         │           │ 📊 Phase 5進捗: 80%                  │
├─────────────────────────────────────────────────────────────┤
│ Day 4-5 │ Phase 5   │ ★作業ブロック #4 最終化 (4時間)     │
│         │ 完成      │ - 設計書全体統合                     │
│         │           │ - as-built記録                       │
│         │           │ - 全ドキュメントレビュー              │
│         │           │ - README・索引整備                   │
│         │           │ 📊 Phase 5進捗: 100%                 │
└─────────────────────────────────────────────────────────────┘
```

---

### 時間配分の実測値

| 週 | Phase 3/4実装・QA | Phase 5ドキュメント | Phase 5割合 |
|----|------------------|-------------------|-----------|
| Week 1 | 36時間 (5日) | 4時間 (金曜午後) | **10%** |
| Week 2 | 36時間 (5日) | 4時間 (金曜午後) | **10%** |
| Week 3 | 24時間 (Phase 4) | 10時間 (並行+最終化) | **29%** |
| **合計** | **96時間** | **18時間** | **15.8%** |

**重要**: 従来の「20-30%」という曖昧な表現から、**実測値15.8%**という実行可能な数値に改善。

---

### プロジェクト規模別の作業ブロック設定

#### 小規模プロジェクト（1-2週間）

```yaml
timeline:
  week_1:
    implementation: "5日（36時間）"
    phase_5_block_1: "2時間（金曜午後前半）"
    progress: "40%"
  
  week_2:
    implementation: "3日（22時間）"
    phase_4: "2日（14時間）"
    phase_5_block_2: "2時間（並行）"
    progress: "70%"
    
    finalization: "1日（4時間）"
    phase_5_block_3: "2時間（最終化）"
    progress: "100%"

total_phase_5_time: "6時間"
percentage: "11.5%"
```

---

#### 中規模プロジェクト（3-6週間）

```yaml
timeline:
  week_1_2:
    implementation: "10日（72時間）"
    phase_5_block_1: "4時間（Week 1 金曜）"
    progress: "20%"
  
  week_3_4:
    implementation: "10日（72時間）"
    phase_5_block_2: "4時間（Week 3 金曜）"
    progress: "40%"
  
  week_5:
    implementation: "3日（22時間）"
    phase_4: "2日（14時間）"
    phase_5_block_3: "6時間（並行）"
    progress: "70%"
  
  week_6:
    finalization: "2日（14時間）"
    phase_5_block_4: "6時間（最終化）"
    progress: "100%"

total_phase_5_time: "20時間"
percentage: "10.3%"
```

---

#### 大規模プロジェクト（2-3ヶ月）

```yaml
timeline:
  milestone_1_2_3_4:
    duration: "8週間（288時間）"
    phase_5_blocks: "4回 × 6時間 = 24時間"
    progress: "70%"
  
  phase_4:
    duration: "1週間（36時間）"
    phase_5_block_parallel: "8時間"
    progress: "90%"
  
  finalization:
    duration: "3日（22時間）"
    phase_5_block_final: "8時間"
    progress: "100%"

total_phase_5_time: "40時間"
percentage: "11.5%"
```

---

### マイルストーンの定義

#### マイルストーン設定の原則

```yaml
principles:
  granularity: "1マイルストーン = 1つの独立した機能単位"
  duration: "3-7日（1週間以内推奨）"
  completion_criteria: "実装完了 + テスト完了 + レビュー完了"
  phase_5_trigger: "完了基準を満たした直後"

milestone_count:
  small: "2-3個（1-2週間プロジェクト）"
  medium: "3-5個（3-6週間プロジェクト）"
  large: "5-8個（2-3ヶ月プロジェクト）"
```

---

#### 標準的なマイルストーン例

| マイルストーン | 期間 | 実装内容 | Phase 5成果物 | ブロック時間 |
|-------------|------|---------|--------------|------------|
| **MS-1: コア機能** | 5日 | 認証API、データモデル | API仕様（30%）、ER図（50%） | 4時間 |
| **MS-2: セキュリティ** | 5日 | JWT実装、レート制限 | セキュリティ設計、ADR | 4時間 |
| **MS-3: 監視** | 3日 | ログ、メトリクス | 監視設計、アーキテクチャ図 | 6時間 |
| **最終化** | 2日 | - | 全体統合、as-built記録 | 4時間 |

---

### Phase 5開始トリガー条件

#### チェックリスト

```yaml
implementation_complete:
  - [ ] 全APIエンドポイントが動作確認済み
  - [ ] ユニットテスト完了（カバレッジ80%+）
  - [ ] 統合テスト完了（主要シナリオ）
  - [ ] エラーハンドリング実装済み

code_quality:
  - [ ] コードレビュー完了
  - [ ] Linter/Formatter クリア
  - [ ] セキュリティスキャンクリア

readiness:
  - [ ] コードコメント記述済み
  - [ ] 実装の記憶が鮮明（1-2日以内）
```

---

### 推奨実施タイミング

#### Option A: 金曜午後（⭐⭐⭐⭐⭐ 最推奨）

```yaml
timing: "金曜日 13:00 - 17:00"

merits:
  - 週末前に区切りがつく
  - 実装の記憶が最も鮮明
  - 週明けは次のマイルストーン実装に集中できる
  - 心理的に自然なタイミング

best_for: "ほとんどのプロジェクト"
```

---

#### Option B: 翌週月曜午前（⭐⭐⭐）

```yaml
timing: "月曜日 09:00 - 13:00"

merits:
  - 週末でリフレッシュした状態
  - 集中力が高い午前中

demerits:
  - 実装の記憶が若干薄れる可能性

best_for: "金曜日に緊急対応があった場合"
```

---

#### Option C: Phase 4と並行（⭐⭐⭐⭐）

```yaml
timing: "Phase 4期間中の待ち時間"

opportunities:
  - テスト実行中
  - CI/CD実行中
  - コードレビュー待ち

merits:
  - 待ち時間の有効活用
  - リードタイム短縮

best_for: "Phase 4が長期化する場合"
```

---

### 成果物の段階的完成イメージ

#### API仕様書の進捗例

| マイルストーン | 完成度 | 内容 | ページ数 |
|-------------|--------|------|---------|
| MS-1 | 30% | コア機能（登録・ログイン） | 5-10p |
| MS-2 | 60% | 認証・トークン更新 | 10-20p |
| MS-3 | 90% | ヘルスチェック、メトリクス | 15-30p |
| 最終化 | 100% | 全体統合、エラーレスポンス統一 | 20-40p |

---

#### アーキテクチャ図の進捗例

| マイルストーン | 完成度 | 図の種類 | 図の数 |
|-------------|--------|---------|--------|
| MS-1 | 20% | シーケンス図（コア機能） | 2-3図 |
| MS-2 | 50% | セキュリティレイヤー図 | 5-7図 |
| MS-3 | 80% | デプロイメント図、監視構成図 | 8-12図 |
| 最終化 | 100% | 全体構成図、コンポーネント図 | 10-15図 |

---

### 作業ブロック実施のベストプラクティス

#### 事前準備

```yaml
before_starting:
  - [ ] 実装コードをすべてコミット・プッシュ
  - [ ] テストがすべてパス
  - [ ] 会議ブロックを確保（邪魔が入らない環境）
  - [ ] 図作成ツールを起動（Mermaid, PlantUML, dbdiagram.io等）
  - [ ] テンプレートファイルを準備
```

---

#### 作業中のルール

```yaml
during_work:
  focus_rule: "ドキュメント作成に集中（実装には戻らない）"
  quality_rule: "80%完成度で良し（完璧を求めない）"
  reference: "実装コード、コミット履歴を参照しながら作業"
  
time_management:
  - 予定時間の80%でいったん終了
  - 残り20%はバッファ（予備時間）
```

---

#### 作業後の処理

```yaml
after_completion:
  - [ ] ドキュメントをコミット・プッシュ
  - [ ] 進捗トラッキングを更新
  - [ ] 次のマイルストーン実装に切り替え
  - [ ] 未完了事項があれば、次のブロックに引き継ぎ記録
```

---

### よくある質問（FAQ）

#### Q1: マイルストーンが予定より早く終わった場合は?

**A**: 2つのオプションから選択：

1. **即座にPhase 5ブロック開始**（推奨）
   - 実装の記憶が最も鮮明
   - バッファ時間確保

2. **予定通り金曜午後に実施**
   - 次のマイルストーン実装を先行
   - 複数マイルストーンをまとめてドキュメント化

---

#### Q2: Phase 5ブロックが予定時間内に終わらない場合は?

**A**: 80%ルールを適用：

- 80%完成度でいったん終了
- 残りは次のPhase 5ブロック時に完成
- 最終化ブロックで全体を統合

**重要**: 完璧を求めすぎない

---

#### Q3: 並行実施とPhase 4完了後の単独実施、どちらが良い?

**A**: プロジェクトによって選択：

| 状況 | 推奨パターン | 理由 |
|------|------------|------|
| Phase 3が順調 | 並行実施 | リードタイム短縮、記憶の鮮度維持 |
| Phase 3が遅延 | Phase 4後に単独実施 | まず実装完了を優先 |
| チームが複数 | 並行実施 | 作業分担可能 |

---

### リソース

#### テンプレート

```yaml
required_templates:
  - milestone-definition-template.md（マイルストーン定義）
  - phase-5-work-block-checklist.md（作業ブロックチェックリスト）
  - as-built-notes-template.md（as-built記録）

location: "/organization-standards/08-templates/phase-5-parallel/"
```

---

#### 詳細ガイド

```yaml
guides:
  - parallel-work-pattern-definition.md（並行作業パターン詳細）
  - phase-5-ai-utilization-guide.md（AI活用による効率化）
  
location: "/organization-standards/00-guides/"
```

---

**このマイルストーン並行型により、Phase 5並行実施が実務で実行可能になります。**

---

### パターンB: 従来型

```
Week 0-1: Phase 2A (1-2日) + Phase 5 (3-5日)
  ├─ Phase 2A: ADR, API契約, 制約条件
  └─ Phase 5: 実装後設計 (実装前)

Week 2-3: Phase 3 実装

Week 4: Phase 4 レビュー + Phase 5 更新 (1日)

Week 5: Phase 5 デプロイ
```

**リードタイム**: 5週間
**Phase 5作業時間**: 実装前に集中 + 実装後に更新

---

### パターンC: リバースエンジニアリング型

```
Week 1-2: Phase 3 実装
  └─ Phase 2A スキップ

Week 3: Phase 4 レビュー

Week 3-4: Phase 5 (2-3日)
  └─ 実装完了後に文書化

Week 4: Phase 5 デプロイ
```

**リードタイム**: 4週間
**Phase 5作業時間**: 実装後に集中

---

## 役割別責任マトリクス (RACI)

### Phase 2A (実装前設計)

| 成果物 | テックリード | アーキテクト | エンジニア | PM | QA |
|--------|:----------:|:-----------:|:---------:|:--:|:--:|
| ADR | A/R | C | C | I | - |
| API契約書 | A | C | R | I | C |
| 制約条件文書 | A | C | R | I | C |
| 技術提案書 | A/R | R | C | I | - |

---

### Phase 5 (実装後設計)

| 成果物 | テックリード | アーキテクト | エンジニア | PM | QA |
|--------|:----------:|:-----------:|:---------:|:--:|:--:|
| 設計書 | A | R | R | I | C |
| 完全版API仕様書 | A | C | R | I | C |
| アーキテクチャ図 | A | R | R | I | - |
| データモデル文書 | A | C | R | I | - |
| 設計レビュー記録 | A | R | C | I | R |

**RACI凡例**:
- **R** (Responsible): 実行責任者
- **A** (Accountable): 説明責任者
- **C** (Consulted): 相談先
- **I** (Informed): 報告先

---

## AI活用による工数削減

### Phase 5 の効率化

| 成果物 | 従来工数 | AI活用工数 | 削減率 |
|--------|---------|-----------|--------|
| 設計書 | 8-16h | 4-8h | 50% |
| 完全版API仕様書 | 4-8h | 1-2h | 75% |
| アーキテクチャ図 | 4-6h | 2-3h | 40% |
| データモデル文書 | 4-8h | 2-4h | 50% |
| **合計** | **20-38h** | **9-17h** | **55%** |

### AI活用手法

```yaml
architecture_diagrams:
  tool: "Mermaid, PlantUML (コードから自動生成)"
  reduction: "40-70%"

api_specification:
  tool: "Swagger Codegen, OpenAPI Generator"
  reduction: "70-80%"

design_document:
  tool: "ChatGPT, Claude (ドラフト生成)"
  reduction: "50%"

data_model:
  tool: "SchemaSpy, dbdocs (スキーマから生成)"
  reduction: "50-60%"
```

---

## 成果物の相互関係

### Phase 2A → Phase 3 → Phase 5 の流れ

```
Phase 2A (実装前設計)
  ├─ ADR (初版)
  ├─ API契約書
  └─ 制約条件文書
      │
      ▼ (実装の方向性を提供)
      │
Phase 3 (実装)
  ├─ 実装コード
  ├─ テストコード
  └─ 実装中の発見事項
      │
      ▼ (実装内容を反映)
      │
Phase 5 (実装後設計)
  ├─ 設計書 ← Phase 2A + 実装内容
  ├─ 完全版API仕様書 ← API契約書を拡張
  ├─ アーキテクチャ図 ← 実装を図示
  ├─ データモデル文書 ← スキーマから生成
  └─ 更新版ADR ← 実装中の追加決定
```

---

## チェックリスト

### Phase 2A 完了チェック

```yaml
必須成果物:
  - [ ] ADRが作成されている (重要な技術決定)
  - [ ] API契約書が作成されている (該当する場合)
  - [ ] 制約条件文書が作成されている

品質:
  - [ ] 実装チームが開始できる状態である
  - [ ] チーム間の契約が合意されている
  - [ ] セキュリティ・パフォーマンス要件が明確である

承認:
  - [ ] テックリードの承認を得ている
  - [ ] ステークホルダーの承認を得ている (必要な場合)
```

---

### Phase 5 完了チェック

```yaml
必須成果物:
  - [ ] 設計書が完成している
  - [ ] 完全版API仕様書が完成している (該当する場合)
  - [ ] アーキテクチャ図が完成している
  - [ ] データモデル文書が完成している (該当する場合)

品質:
  - [ ] 実装内容と一致している
  - [ ] 新メンバーのオンボーディングに使える
  - [ ] 運用チームが必要な情報を得られる
  - [ ] 技術的負債が明記されている

承認:
  - [ ] セルフレビューが完了している
  - [ ] ピアレビューが完了している
  - [ ] テックリードの承認を得ている
```

---

## クイックスタートガイド

### 新規プロジェクトを始める場合

```
ステップ1: プロジェクトタイプの判断
└─ 新規/既存、規模、チーム構成を確認

ステップ2: 実行パターンの選択
├─ AI最適化型 (推奨・デフォルト)
├─ 従来型 (複数チーム連携)
└─ リバースエンジニアリング型 (小規模)

ステップ3: Phase 2A の実施 (1-2日)
├─ ADRテンプレートを使用
├─ API契約書を作成
└─ 制約条件を文書化

ステップ4: Phase 3 実装開始

ステップ5: Phase 5 の実施 (並行 or 実装後)
├─ 設計書を作成
├─ AI活用で効率化
└─ レビュー・承認
```

---

## リソース

### テンプレート一覧

```yaml
phase_2a_templates:
  location: "/devin-organization-standards/08-templates/"
  files:
    - adr-template.md (既存)
    - api-contract-template.md (新規)
    - constraints-template.md (新規)

phase_5_templates:
  location: "/devin-organization-standards/08-templates/"
  files:
    - design-document-template.md (既存)
    - api-specification-template.md (既存)
    - data-model-template.md (既存)
    - design-review-template.md (既存)
```

### 詳細ガイド

```yaml
guides:
  - phase-2a-preliminary-design-guide.md (新規)
  - phase-5-detailed-design-guide.md (新規)
  - revised-development-process-overview.md (新規)
```

---

## よくある質問

### Q1: なぜ Phase 2 を分割するのですか?

**A**: AI開発の特性を活かすためです:
- **Phase 2A**: 最小限の実装前設計で早期実装開始
- **Phase 5**: 実装された内容を正確に文書化
- **効果**: 手戻り削減、並行作業、リードタイム短縮

---

### Q2: すべてのプロジェクトで Phase 2A と Phase 5 の両方が必要ですか?

**A**: いいえ。プロジェクトタイプにより:
- **小規模改修**: Phase 2A スキップ可
- **中小規模**: 両方実施 (推奨)
- **大規模**: 両方必須

---

### Q3: Phase 5 は並行と実装後のどちらが良いですか?

**A**: プロジェクトにより:
- **並行 (推奨)**: リードタイム短縮、知識の鮮度維持
- **実装後**: 確定情報のみ記録、集中作業可能

---

## 改訂履歴

| バージョン | 日付 | 変更内容 |
|----------|------|---------|
| 2.1.0 | 2025-11-20 | Phase番号リナンバリング対応（移行期間: 〜2025-12-20） |
| 2.0.0 | 2025-11-12 | Phase 2を Phase 2A/2-B に分割、全面改訂 |
| 1.0.0 | 2025-11-11 | 初版作成 |

---

**この改訂版マトリクスにより、AI開発に最適化された設計プロセスを実現します。**
