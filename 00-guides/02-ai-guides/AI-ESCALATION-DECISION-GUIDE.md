---
title: "AI Escalation Decision Guide"
version: "1.0.0"
created_date: "2025-11-19"
status: "Active"
owner: "Engineering Leadership Team"
---

# AI エスカレーション判断ガイド

> 自律型AIが人間にエスカレーションすべき状況の明確な基準

## 📋 ドキュメント情報

| 項目 | 内容 |
|------|------|
| **ドキュメント名** | AIエスカレーション判断ガイド |
| **バージョン** | 1.0.0 |
| **最終更新日** | 2025-11-19 |
| **対象読者** | 自律的AIエージェント（Devin、Cursor等） |
| **目的** | AIが人間にエスカレーションすべき状況を明確化し、適切な判断をサポート |

---

## 📖 目次

1. [はじめに](#はじめに)
2. [エスカレーション必須の状況](#エスカレーション必須の状況)
3. [エスカレーション推奨の状況](#エスカレーション推奨の状況)
4. [AIが自律判断可能な状況](#aiが自律判断可能な状況)
5. [エスカレーション判断フローチャート](#エスカレーション判断フローチャート)
6. [エスカレーション記録テンプレート](#エスカレーション記録テンプレート)
7. [AIの振る舞いルール](#aiの振る舞いルール)
8. [エスカレーション頻度の目安](#エスカレーション頻度の目安)

---

## はじめに

### このガイドの目的

自律型AIエージェントが開発を進める中で、**人間の判断を仰ぐべきタイミング**を明確にすることで:

✅ **適切なリスク管理**: セキュリティやビジネスリスクを見逃さない  
✅ **効率的な開発**: 自律判断可能な範囲を明確化  
✅ **一貫性のある判断**: エスカレーション基準の標準化  
✅ **透明性の確保**: 判断理由の明確化と記録

### 基本原則

```yaml
基本原則:
  safety_first: "疑わしいときはエスカレーション"
  transparency: "判断理由を明確に記録"
  efficiency: "自律判断可能な範囲は積極的に判断"
  learning: "エスカレーション記録から継続的に学習"
```

---

## エスカレーション必須の状況 🚨

以下の状況では**即座にエスカレーションが必須**です。AIが独自判断で進めてはいけません。

---

### 1. セキュリティリスク 🔒

**即座にエスカレーション必須**:
- [ ] 個人情報・機密情報の取り扱いに関する判断
- [ ] 認証・認可メカニズムの設計変更
- [ ] セキュリティ脆弱性の発見
- [ ] 本番データへのアクセスが必要
- [ ] セキュリティポリシーの例外が必要
- [ ] パスワード・APIキー等のシークレット管理

**エスカレーション先**: Security Team + Tech Lead

**緊急度**: 🚨 即座

**テンプレート**:
```markdown
🚨 セキュリティエスカレーション

【PBI】: PROJ-XXXX
【フェーズ】: Phase X
【リスクレベル】: High / Medium / Low
【内容】: [具体的なセキュリティ懸念]
【影響範囲】: [ユーザー数、データ量等]
【提案】: [AIの推奨対策]
【判断依頼】: [具体的に承認してほしい事項]
```

**具体例**:
```
✅ エスカレーション必須:
- 「ユーザーのメールアドレスをログに出力する実装」
- 「管理者権限チェックをスキップする実装」
- 「SQLインジェクションの脆弱性を発見」

❌ エスカレーション不要（自律判断OK）:
- 「パスワードハッシュ化にbcryptを使用」（標準に準拠）
- 「HTTPS通信を使用」（標準に準拠）
```

---

### 2. データ損失リスク 💾

**即座にエスカレーション必須**:
- [ ] 本番データベースのスキーマ変更
- [ ] データマイグレーションの実行
- [ ] バックアップからのリストア
- [ ] 大量データの削除（100件以上）
- [ ] ロールバック不可能な操作
- [ ] 本番環境への直接アクセス

**エスカレーション先**: Database Admin + Tech Lead

**緊急度**: 🚨 即座

**具体例**:
```
✅ エスカレーション必須:
- 「usersテーブルのカラムを削除するマイグレーション」
- 「本番DBで直接UPDATE文を実行」
- 「1,000件のユーザーデータを削除」

❌ エスカレーション不要（自律判断OK）:
- 「開発環境でのマイグレーションテスト」
- 「新規テーブルの追加（既存データに影響なし）」
```

---

### 3. ビジネス影響大 💼

**即座にエスカレーション必須**:
- [ ] 課金・決済ロジックの変更
- [ ] SLA/SLOへの影響
- [ ] ユーザー体験の大幅な変更
- [ ] 法規制・コンプライアンスに関わる変更
- [ ] 外部API・サービスとの契約変更
- [ ] 価格設定・割引ロジックの変更

**エスカレーション先**: Product Manager + Tech Lead

**緊急度**: 🚨 即座

**具体例**:
```
✅ エスカレーション必須:
- 「消費税計算ロジックの変更」
- 「ポイント付与率の変更」
- 「無料トライアル期間の変更」

❌ エスカレーション不要（自律判断OK）:
- 「UIの軽微な文言修正」
- 「エラーメッセージの改善」
```

---

### 4. アーキテクチャの根本的変更 🏗️

**エスカレーション必須**:
- [ ] 新しい技術スタックの導入
- [ ] マイクロサービス間の通信方式変更
- [ ] データベース種類の変更（MySQL → PostgreSQL等）
- [ ] デプロイメント戦略の変更
- [ ] 監視・ロギング基盤の変更
- [ ] キャッシュ戦略の根本的変更

**エスカレーション先**: Architect + Tech Lead

**緊急度**: ⚠️ 24時間以内

**具体例**:
```
✅ エスカレーション必須:
- 「REST APIからGraphQLへの移行」
- 「Redis導入によるキャッシュ戦略変更」
- 「モノリスからマイクロサービスへの分割」

❌ エスカレーション不要（自律判断OK）:
- 「承認済みライブラリのバージョンアップ」
- 「既存アーキテクチャ内でのコード整理」
```

---

### 5. 標準・ポリシーの例外 📜

**エスカレーション必須**:
- [ ] コーディング標準の例外適用
- [ ] テストカバレッジ要件の緩和（80%未満）
- [ ] CI/CD品質ゲートのスキップ
- [ ] ドキュメント要件の省略
- [ ] フェーズスキップ（基本フェーズの場合）
- [ ] セキュリティスキャン結果の例外承認

**エスカレーション先**: Tech Lead

**緊急度**: ⚠️ 24時間以内

**具体例**:
```
✅ エスカレーション必須:
- 「レガシーコードのためカバレッジ60%で承認依頼」
- 「Phase 2（設計）をスキップして実装開始」
- 「Linterエラーを無視して進める」

❌ エスカレーション不要（自律判断OK）:
- 「カバレッジ85%達成（80%以上）」
- 「標準に従ったコーディング」
```

---

## エスカレーション推奨の状況 ⚠️

以下の状況では**エスカレーションを推奨**しますが、AIの分析と提案を添えて人間の判断を待ちます。

---

### 6. ドキュメント矛盾 📄

#### **AI自律判断OK: 軽微な矛盾・優先度ルールで解決可能** ✅

以下のレベルのDokument矛盾はAIが自律的に対処可能:

**レベル1: 軽微な矛盾** ✅
```yaml
状況:
  - タイポや表記揺れ
  - 数値の軽微な差異（80% vs 85%等）
  - 例の不整合

AI対応:
  1. 新しいバージョンを採用（更新日・バージョン番号で判断）
  2. 矛盾を記録（ドキュメント名、行番号、内容）
  3. 週次サマリーで報告
  4. 実装を続ける

🚨 重要: 組織標準ドキュメントの直接修正は絶対禁止
  - AIがドキュメントを直接修正してはいけない
  - タイポ・誤字の修正も禁止
  - 必ず課題起票プロセスを経る
  - 詳細: AI-DOCUMENT-MODIFICATION-POLICY.md

記録場所:
  - docs/ai-decisions/document-conflicts-resolved.md
```

**レベル2: 優先度ルールで解決可能** ✅
```yaml
状況:
  - 複数ドキュメント間で指示の違い
  - standards-hierarchy-and-precedence.mdで優先度明確

AI対応:
  1. 10-governance/standards-hierarchy-and-precedence.mdを参照
  2. 優先度ルールに従って判断
  3. 判断理由をADRまたは記録ファイルに記載
  4. 週次サマリーで報告

例:
  - プロジェクト固有ルール vs 組織共通ルール
    → プロジェクト固有ルールが優先（優先度ルールに明記）
```

**レベル3: バージョン差異** ✅
```yaml
状況:
  - 明らかに古いバージョン vs 新バージョン
  - メタデータで判断可能（更新日、versionフィールド）

AI対応:
  1. メタデータを確認（created_date, last_updated, version）
  2. 新バージョンを採用
  3. 判断理由を記録
  4. 週次サマリーで報告
```

---

#### **エスカレーション必須: 実質的な矛盾** 🚨

**レベル4: 実質的な矛盾（エスカレーション必須）** 🚨
```yaml
状況:
  - 同一バージョン内で矛盾
  - 優先度ルールで解決不可
  - セキュリティ・アーキテクチャに関わる矛盾
  - 最新版が不明
  - 判断基準が曖昧（複数解釈可能）

対応:
  1. 即座にエスカレーション
  2. AIの解釈と提案を記載
  3. 矛盾箇所を明示
  4. 人間の判断を待つ

緊急度: ⚠️ 24時間以内
```

**記録と報告**:
```yaml
全ての矛盾対処を記録:
  記録場所: docs/ai-decisions/document-conflicts-resolved.md
  
  報告頑度:
    レベル1-3: 週次サマリーで報告
    レベル4: 即座にエスカレーション
  
  ドキュメント改善提案:
    - 月次で矛盾頻発箇所を分析
    - AI-ISSUE-TRACKING-PROCESS.mdに従って課題起票
    - ドキュメント修正は人間が実施

🚨 絶対禁止事項:
  - 組織標準ドキュメント（/organization-standards/配下）の直接修正
  - タイポ・誤字・リンク切れの修正も禁止
  - 軽微な改善も禁止
  - 全てのドキュメント修正は課題起票→人間が修正
  - 詳細: AI-DOCUMENT-MODIFICATION-POLICY.md
```

**テンプレート**:
```markdown
⚠️ ドキュメント矛盾エスカレーション

【状況】
Phase 2AとPhase 5でのAPI仕様書の粒度が矛盾しています。

【矛盾箇所】
- ドキュメントA: phase-2.1-pre-implementation-design-guide.md (Line 45)
  → "OpenAPI簡易版のみ作成"
- ドキュメントB: api-specification-management-guide.md (Line 120)
  → "全バリデーション含む完全版が必須"

【AI解釈】
Phase 2Aでは簡易版、Phase 5で完全版という理解で進めます。

【提案】
上記の解釈で進めてよいか、確認をお願いします。
矛盾がある場合は、ドキュメント修正も併せて提案します。

【影響】
Phase 2Aでの成果物の粒度が不明確になっています。
```

---

### 7. PBIタイプ判定が困難 🤔

**エスカレーション推奨**:
- [ ] 複数のPBIタイプ要素が混在
- [ ] 境界ケース
- [ ] 判定フローチャートで結論が出ない

**対応**:
1. AIの判定結果と理由を記載
2. 代替案を提示
3. 人間の確認を求める

**緊急度**: ⚠️ PBI着手前（数時間～24時間以内）

**テンプレート**:
```markdown
⚠️ PBIタイプ判定エスカレーション

【PBI】: PROJ-1234

【状況】
決済処理の改修で、以下の複数要素が混在しています:
- バグ修正要素: 決済失敗時のリトライロジック不具合
- 機能追加要素: 新しい決済手段の追加
- 設計変更要素: アーキテクチャの全面見直し

【AI判定】
主タイプ: ARC (Architecture Improvement)
理由: 根本的なアーキテクチャ変更を伴うため

【代替案】
1. ARCとして全フェーズ実施（推奨）
2. NFDとENHに分割して別々に実施

【判断依頼】
上記のARC判定で進めてよいか、または分割すべきか、
ご判断をお願いします。
```

---

### 8. 技術的実現困難 🛠️

#### **AI自律判断OK: 承認済み技術スタック内での技術選定** ✅

以下の条件を**全て満たす場合**、AIが自律的に技術選定可能:

```yaml
自律判断OK条件:
  技術選定:
    - 選択肢全てが承認済み技術リストに存在
    - パフォーマンス要件を満たす
    - 既存アーキテクチャと整合
    - セキュリティ基準準拠
  
  実施事項:
    - 選定理由をADR（Architecture Decision Record）に記録
    - トレードオフ分析を文書化
    - Phase 4で人間レビュー時に確認依頼フラグ設定
```

**自律判断OK例**:
```
✅ AIが自律判断可能（承認済み技術内での選択）:
- キャッシュ選定: Redis vs Memcached（両方承認済み）
- データベース: PostgreSQL vs MySQL（両方承認済み、要件に応じて）
- Node.jsフレームワーク: Express vs Fastify（両方承認済み）
- Python ORM: SQLAlchemy vs Tortoise ORM（両方承認済み）
- メッセージキュー: RabbitMQ vs Apache Kafka（両方承認済み）

判断プロセス:
1. 05-technology-stack/approved-technologies.md で承認確認
2. パフォーマンス・セキュリティ要件との適合性評価
3. ADRに選定理由・トレードオフを記録
4. 実装を進める
5. Phase 4レビュー時に「技術選定レビュー依頼」フラグを設定
```

---

#### **エスカレーション必須: 未承認技術の導入または非標準的使用** 🚨

以下の場合は**即座にエスカレーション必須**:

**エスカレーション必須**:
- [ ] 承認済みリストに存在しない技術の導入
- [ ] 承認済み技術の非標準的な使用方法
- [ ] アーキテクチャの根本的変更を伴う技術選定
- [ ] パフォーマンス要件達成が困難（承認済み技術で実現不可）
- [ ] 外部依存の制約で実現不可
- [ ] 工数が見積もりの2倍超

**対応**:
1. 困難な理由を詳細に説明
2. 代替案を複数提示
3. トレードオフを明示

**緊急度**: ⚠️ Phase 2（設計）で判断を期待

**テンプレート**:
```markdown
⚠️ 技術的実現困難エスカレーション

【PBI】: PROJ-5678
【フェーズ】: Phase 2（設計）

【要件】
リアルタイム通知機能で100ms以内のレスポンス必須

【困難な理由】
現在の承認済み技術スタック（REST API）では、
ポーリングによる通知となり、最速でも1秒のレイテンシ。

【代替案】
1. WebSocket導入（推奨）
   - メリット: 要件達成可能、リアルタイム性
   - デメリット: 新技術導入、学習コスト
   - 工数: +20時間

2. Server-Sent Events (SSE)
   - メリット: 比較的シンプル
   - デメリット: 双方向通信不可
   - 工数: +10時間

3. ポーリング間隔短縮（500ms）
   - メリット: 既存技術
   - デメリット: 要件未達（500ms > 100ms）、サーバー負荷増
   - 工数: +2時間

【推奨】
WebSocket導入を推奨しますが、新技術導入の承認が必要です。

【判断依頼】
WebSocket導入の承認、または要件緩和（500ms許容）の判断を
お願いします。
```

---

## AIが自律判断可能な状況 ✅

以下の状況では、**AIが自律的に判断して進めてOK**です。

---

### 9. 標準に明記された範囲内 📋

**自律判断OK**:
- [x] コーディング標準に従ったコード作成
- [x] テスト作成（カバレッジ80%以上）
- [x] ドキュメント作成（テンプレート使用）
- [x] 標準的なリファクタリング
- [x] 明示的な要件の実装

**条件**: ドキュメントに明確な指示がある

**具体例**:
```
✅ 自律判断で進めてOK:
- 「Pythonコーディング標準に従った関数作成」
- 「テストカバレッジ85%達成」
- 「ADRテンプレートに従った設計記録」

⚠️ エスカレーション必要:
- 「コーディング標準に例外が必要」
- 「カバレッジ60%で進めたい」
```

---

### 10. 技術的な実装詳細 🔧

**自律判断OK**:
- [x] 変数名・関数名の命名
- [x] ファイル分割の粒度
- [x] 実装アルゴリズムの選択（パフォーマンス要件内）
- [x] ログメッセージの文言
- [x] エラーメッセージの文言
- [x] コメントの追加

**条件**: コーディング標準に準拠

**具体例**:
```
✅ 自律判断で進めてOK:
- 「getUserInfo() vs fetchUserData() の命名選択」
- 「リストのソートアルゴリズム選択（要件内）」
- 「エラーメッセージの文言作成」

⚠️ エスカレーション必要:
- 「パフォーマンス要件を満たせない場合」
- 「標準外のライブラリ導入が必要」
```

---

### 11. 軽微なドキュメント改善 📝

**自律判断OK**:
- [x] タイポ修正
- [x] フォーマット調整
- [x] コメント追加
- [x] 例の追加
- [x] リンク切れ修正

**条件**: 内容の意味を変えない範囲

**具体例**:
```
✅ 自律判断で進めてOK:
- 「READMEのタイポ修正」
- 「コードコメントの追加」
- 「リンク切れの修正」

⚠️ エスカレーション必要:
- 「ドキュメントの内容変更」
- 「手順の削除・追加」
```

---

## エスカレーション判断フローチャート

```
問題・判断事項が発生
  ↓
[Q1] セキュリティリスクがあるか?
  Yes → 🚨 即座にエスカレーション
  No  → Q2へ
  ↓
[Q2] データ損失リスクがあるか?
  Yes → 🚨 即座にエスカレーション
  No  → Q3へ
  ↓
[Q3] ビジネスへの影響が大きいか?
  Yes → 🚨 即座にエスカレーション
  No  → Q4へ
  ↓
[Q4] アーキテクチャの根本的変更か?
  Yes → 🚨 エスカレーション必須
  No  → Q5へ
  ↓
[Q5] 標準・ポリシーの例外が必要か?
  Yes → 🚨 エスカレーション必須
  No  → Q6へ
  ↓
[Q6] ドキュメントに明確な指示があるか?
  Yes → ✅ 自律判断可能
  No  → Q7へ
  ↓
[Q7] 技術的実装詳細の判断か?
  Yes → ✅ 自律判断可能（標準内なら）
  No  → ⚠️ エスカレーション推奨
  ↓
[Q8] ドキュメント矛盾や不明点か?
  Yes → ⚠️ エスカレーション推奨
  No  → ✅ 自律判断可能
```

---

## エスカレーション記録テンプレート

```markdown
## エスカレーション記録: [タイトル]

### 基本情報
- **日時**: YYYY-MM-DD HH:MM
- **PBI**: PROJ-XXXX
- **Phase**: Phase X
- **AI Agent**: [Agent ID]
- **緊急度**: 🚨即座 / ⚠️24時間以内 / 💡1週間以内

### エスカレーション理由
- [ ] セキュリティリスク
- [ ] データ損失リスク
- [ ] ビジネス影響大
- [ ] アーキテクチャ変更
- [ ] 標準例外
- [ ] ドキュメント矛盾
- [ ] PBIタイプ判定困難
- [ ] 技術的実現困難
- [ ] その他: [説明]

### 状況説明
[何が起きているか、なぜ人間の判断が必要か]

### AI分析
[AIが実施した分析内容]

### AI提案
[AIの推奨案と理由]

### 判断依頼事項
[具体的に承認・判断してほしい内容]

### 影響範囲
- **ユーザー影響**: [有/無、範囲]
- **システム影響**: [範囲]
- **工数影響**: [追加工数見積もり]

### エスカレーション先
- [ ] Tech Lead
- [ ] Architect
- [ ] Security Team
- [ ] Product Manager
- [ ] Database Admin
- [ ] その他: [担当者]

### 人間の判断結果（記入欄）
- **判断**: [承認/却下/条件付き承認]
- **判断者**: [氏名]
- **判断日時**: YYYY-MM-DD HH:MM
- **指示内容**: [具体的な指示]
- **追加条件**: [あれば]
```

---

## AIの振る舞いルール

### DO ✅

- **疑わしいときはエスカレーション**: "推測で判断"より"確認"
- **理由を明記**: エスカレーション理由を具体的に説明
- **代替案を提示**: 複数の選択肢を用意
- **影響範囲を分析**: エスカレーション事項の影響を評価
- **記録を残す**: 全エスカレーションを記録

### DON'T ❌

- **セキュリティリスクを無視**: "たぶん大丈夫"で進めない
- **勝手に標準を緩和**: テストカバレッジ等を勝手に下げない
- **ドキュメント矛盾を放置**: 矛盾を見つけたら必ず報告
- **ビジネス判断を代行**: AIがROI・優先順位を決定しない
- **本番環境で実験**: 本番データで試行錯誤しない

---

## エスカレーション後の対応

### 承認された場合
1. ✅ 判断結果を記録
2. ✅ 承認条件に従って実装
3. ✅ 例外適用の場合は技術的負債に記録
4. ✅ 完了後に報告

### 却下された場合
1. ✅ 却下理由を記録
2. ✅ 代替案を検討
3. ✅ 必要に応じて再提案

### 条件付き承認の場合
1. ✅ 条件を明確に理解
2. ✅ 条件を満たすよう実装
3. ✅ 条件達成を報告
4. ✅ 必要に応じて再確認を求める

---

## エスカレーション頻度の目安

### 健全な範囲

| Phase | 推奨頻度 | 理由 |
|-------|---------|------|
| Phase 0 | 1-2回 | 要件明確化、スコープ確認 |
| Phase 1 | 0-1回 | 新規プロジェクトの場合のみ |
| Phase 2 | 2-3回 | 設計判断、技術選定 |
| Phase 3 | 0-1回 | 実装は基本的に自律的に |
| Phase 4 | 1回 | レビュー結果の確認 |
| Phase 5 | 1-2回 | デプロイ承認、変更申請 |

**合計**: PBIあたり5-10回程度が健全

### 過度なエスカレーション（避けるべき） ⚠️

**Phase 3で5回以上**: 実装の細部まで確認を求めている
- 問題: AIの自律性が不足
- 対策: 標準ドキュメントの確認、実装詳細は自律判断

### 過少なエスカレーション（危険） ⚠️

**全フェーズで0回**: 重要な判断を見逃している可能性
- 問題: セキュリティ・リスク面の確認不足
- 対策: このガイドの再確認、判断フローチャートの活用

---

## 学習と改善

### エスカレーション記録の活用

- **月次レビュー**: エスカレーション内容を分析
- **頻出パターンの文書化**: 判断基準をガイドに反映
- **ドキュメント改善**: エスカレーション頻発箇所を特定し改善

### ドキュメント改善提案

エスカレーションが頻発する箇所は、ドキュメント不備の可能性:

1. ✅ エスカレーション理由を分析
2. ✅ ドキュメント改善案を作成
3. ✅ Tech Leadに改善提案を提出
4. ✅ 次回PBIで改善実施

---

## 関連ドキュメント

- **AI-MASTER-WORKFLOW-GUIDE.md**: 開発ワークフロー全体
- **PBI-TYPE-JUDGMENT-GUIDE.md**: PBIタイプ判定基準
- **AI-PRE-WORK-CHECKLIST.md**: Phase開始前チェックリスト
- **DOCUMENT-USAGE-MANUAL.md**: ドキュメント使用方法

---

## バージョン履歴

| バージョン | 日付 | 変更内容 |
|-----------|------|---------|
| 1.0.0 | 2025-11-19 | 初版作成 |

---

**ドキュメント終了**
