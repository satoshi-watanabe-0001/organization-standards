# PBIテンプレートカタログ (PBI Template Catalog)

## 📋 ドキュメント情報

| 項目 | 内容 |
|------|------|
| **ドキュメント名** | PBIテンプレートカタログ |
| **バージョン** | 1.0.0 |
| **最終更新日** | 2025-11-17 |
| **対象読者** | 自律的AIエージェント、開発チーム、プロジェクトマネージャー、プロダクトオーナー |
| **目的** | 8つのPBIタイプ別のテンプレートを提供し、効率的なPBI作成を支援 |

---

## 📖 目次

1. [はじめに](#はじめに)
2. [テンプレートの使い方](#テンプレートの使い方)
3. [テンプレート一覧](#テンプレート一覧)
4. [JIRAフィールドマッピング](#jiraフィールドマッピング)
5. [テンプレートカスタマイズ](#テンプレートカスタマイズ)
6. [AIエージェント向けガイダンス](#aiエージェント向けガイダンス)
7. [関連ドキュメント](#関連ドキュメント)

---

## はじめに

### このカタログの目的

PBIテンプレートカタログは、**8つのPBIタイプ**それぞれに最適化されたテンプレートを提供します。

#### 提供する価値
- ⏱️ **作成時間短縮**: テンプレートから始めることで、作成時間を50%削減
- ✅ **品質向上**: 必須項目の抜け漏れ防止
- 🎯 **標準化**: チーム全体で一貫したPBI作成
- 🤖 **AI支援**: 自律的AIエージェントが自動的にテンプレート選択

### テンプレート設計思想

#### 1. タイプ別最適化
各PBIタイプの特性に合わせて、必須項目とフォーマットを最適化。

#### 2. 段階的詳細化
基本情報 → 詳細情報の順で、段階的に記入できる構造。

#### 3. 実例ベース
実際の優れたPBIから抽出したベストプラクティスを反映。

#### 4. INVEST原則準拠
全テンプレートがINVEST原則（Independent, Negotiable, Valuable, Estimable, Small, Testable）を満たすよう設計。

---

## テンプレートの使い方

### 基本的な使用フロー

```
Step 1: PBIタイプを判定
    ↓
[PBI-TYPE-JUDGMENT-GUIDE.md]を参照
    ↓
Step 2: 該当テンプレートを選択
    ↓
本カタログから適切なテンプレートを取得
    ↓
Step 3: テンプレートに記入
    ↓
必須項目を中心に情報を記入
    ↓
Step 4: レビュー・提出
    ↓
[PBI-CREATION-BEST-PRACTICES.md]のチェックリストで確認
```

### テンプレートファイルの場所

全てのテンプレートは以下のディレクトリに格納されています：

```
/devin-organization-standards/08-templates/pbi-templates/
├── README.md
├── pbi-template-npi.md  (新規プロジェクト立ち上げ)
├── pbi-template-nfd.md  (新規機能開発)
├── pbi-template-enh.md  (既存機能追加・改修)
├── pbi-template-bug.md  (バグ修正)
├── pbi-template-ref.md  (リファクタリング)
├── pbi-template-arc.md  (設計変更・アーキテクチャ改善)
├── pbi-template-hot.md  (緊急修正)
└── pbi-template-poc.md  (実験的機能)
```

### テンプレート記入のコツ

#### ✅ Do's（推奨）
- **具体的に記載**: 曖昧な表現を避け、具体的な数値・基準を記載
- **測定可能に**: 受け入れ基準は客観的に検証可能に
- **ユーザー視点**: 技術ではなく、ユーザーの価値を重視
- **適切なサイズ**: 8ポイント以下を目指す

#### ❌ Don'ts（避ける）
- **空欄のまま提出**: 必須項目は全て記入
- **コピペのみ**: 自分のPBIに合わせてカスタマイズ
- **技術詳細の過剰記載**: 実装方法を固定しすぎない
- **見積もり省略**: 必ず見積もりを記載

---

## テンプレート一覧

### タイプ1: NPI - 新規プロジェクト立ち上げ

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | ゼロから新しいプロジェクト・システムを立ち上げる |
| **Phase経路** | 0→1→2→3→4→5→6（全Phase実施） |
| **期間目安** | 2-4週間 |
| **テンプレートファイル** | [pbi-template-npi.md](../../08-templates/pbi-templates/pbi-template-npi.md) |

#### 必須セクション
- ✅ ビジネス背景・目的
- ✅ スコープ（含まれるもの/含まれないもの）
- ✅ 技術要件（技術スタック選定）
- ✅ 受け入れ基準
- ✅ 制約条件（期限・予算・技術制約）
- ✅ 依存関係
- ✅ 見積もり

#### 使用シーン
- 新規ECサイトの立ち上げ
- 新規マイクロサービスの構築
- 新規モバイルアプリの開発

---

### タイプ2: NFD - 新規機能開発

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | 既存プロジェクトに新しいビジネス機能・ユースケースを追加 |
| **Phase経路** | 0→2→3→4→5（Phase 1スキップ） |
| **期間目安** | 1-2週間 |
| **テンプレートファイル** | [pbi-template-nfd.md](../../08-templates/pbi-templates/pbi-template-nfd.md) |

#### 必須セクション
- ✅ ユーザーストーリー（として・〜したい・なぜなら）
- ✅ ビジネス価値
- ✅ 受け入れ基準（機能要件・非機能要件・テスト要件）
- ✅ 技術的考慮事項
- ✅ UI/UXモックアップ
- ✅ 見積もり

#### 使用シーン
- お気に入り機能の追加
- レコメンド機能の追加
- ソーシャルログインの追加

---

### タイプ3: ENH - 既存機能追加・改修

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | 既存機能の拡張・改善（新ユースケースは追加しない） |
| **Phase経路** | 0→2→3→4→5（Phase 1スキップ） |
| **期間目安** | 3-7日 |
| **テンプレートファイル** | [pbi-template-enh.md](../../08-templates/pbi-templates/pbi-template-enh.md) |

#### 必須セクション
- ✅ 改善対象（既存機能・現状の問題・改善内容）
- ✅ ビジネス価値
- ✅ 受け入れ基準
- ✅ 影響範囲（変更対象・影響を受ける機能・後方互換性）
- ✅ 見積もり

#### 使用シーン
- 検索パフォーマンス改善
- UIの改善
- APIレスポンス項目の追加

---

### タイプ4: BUG - バグ修正

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | 既存機能の不具合修正 |
| **Phase経路** | 0（簡易）→3→4（Phase 2, 5スキップ） |
| **期間目安** | 1-3日 |
| **テンプレートファイル** | [pbi-template-bug.md](../../08-templates/pbi-templates/pbi-template-bug.md) |

#### 必須セクション
- ✅ 重大度（Critical/High/Medium/Low）
- ✅ バグ説明
- ✅ 再現手順
- ✅ 期待される動作
- ✅ 実際の動作
- ✅ 影響範囲
- ✅ 原因（判明している場合）
- ✅ 修正方針
- ✅ 受け入れ基準

#### 使用シーン
- ログインエラーの修正
- データ表示不具合の修正
- APIエラーの修正

---

### タイプ5: REF - リファクタリング

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | コード品質改善（機能変更なし） |
| **Phase経路** | 0→3→4（Phase 2, 5スキップ） |
| **期間目安** | 1-5日 |
| **テンプレートファイル** | [pbi-template-ref.md](../../08-templates/pbi-templates/pbi-template-ref.md) |

#### 必須セクション
- ✅ リファクタリング対象
- ✅ 現在の問題
- ✅ 改善内容
- ✅ 受け入れ基準（既存テストが全て通る・コード品質メトリクス改善）
- ✅ リスク管理
- ✅ 見積もり

#### 使用シーン
- 巨大なクラス/関数の分割
- 重複コードの共通化
- テストカバレッジの向上

---

### タイプ6: ARC - 設計変更・アーキテクチャ改善

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | システムの根本的な設計・アーキテクチャを見直す |
| **Phase経路** | 0→2→3→4→5（Phase 1スキップ） |
| **期間目安** | 1-3週間 |
| **テンプレートファイル** | [pbi-template-arc.md](../../08-templates/pbi-templates/pbi-template-arc.md) |

#### 必須セクション
- ✅ ビジネス背景
- ✅ 現在のアーキテクチャ（概要・問題点）
- ✅ 新しいアーキテクチャ（概要・利点）
- ✅ 移行計画（段階的移行）
- ✅ ROI分析
- ✅ 受け入れ基準
- ✅ リスク管理
- ✅ 見積もり

#### 使用シーン
- モノリスからマイクロサービス化
- データベース移行（MySQL → PostgreSQL）
- フロントエンド刷新（jQuery → React）

---

### タイプ7: HOT - 緊急修正

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | 24時間以内に対応が必要な緊急修正 |
| **Phase経路** | 0（簡易）→3→4（簡易）→5 |
| **期間目安** | 数時間～24時間 |
| **テンプレートファイル** | [pbi-template-hot.md](../../08-templates/pbi-templates/pbi-template-hot.md) |

#### 必須セクション
- ✅ 緊急度（Critical）
- ✅ 問題の概要
- ✅ ビジネスインパクト（損失・対応期限）
- ✅ 再現手順
- ✅ 原因
- ✅ 暫定対応（実施済み）
- ✅ 恒久対応（このPBIで実施）
- ✅ 受け入れ基準
- ✅ 対応タイムライン

#### 使用シーン
- 決済機能の停止
- データベース障害
- セキュリティ脆弱性の緊急対応

---

### タイプ8: POC - 実験的機能

#### 概要
| 項目 | 内容 |
|------|------|
| **用途** | 技術検証・概念実証（Proof of Concept） |
| **Phase経路** | 0（簡易）→3（Phase 4以降省略可） |
| **期間目安** | 1-5日（タイムボックス） |
| **テンプレートファイル** | [pbi-template-poc.md](../../08-templates/pbi-templates/pbi-template-poc.md) |

#### 必須セクション
- ✅ 検証目的
- ✅ ビジネス背景
- ✅ 検証項目
- ✅ 成功基準
- ✅ タイムボックス
- ✅ 成果物
- ✅ 次のアクション
- ✅ 見積もり

#### 使用シーン
- 新技術の評価（GraphQL、WebSocket等）
- パフォーマンス検証
- AIモデルの精度検証

---

## JIRAフィールドマッピング

### 標準フィールドマッピング

以下は、テンプレートの各セクションがJIRAのどのフィールドに対応するかを示します。

| テンプレートセクション | JIRAフィールド | 必須 | 備考 |
|---------------------|--------------|------|------|
| **タイトル** | Summary | ✅ | 50-100文字推奨 |
| **タイプ** | Issue Type | ✅ | カスタムフィールド: PBI Type |
| **ユーザーストーリー** | Description（冒頭） | ⚠️ | NFD/ENHで必須 |
| **ビジネス価値** | Custom Field: Business Value | ⚠️ | NFD/ENH/ARCで必須 |
| **受け入れ基準** | Description（中段） | ✅ | 全タイプ必須 |
| **技術的考慮事項** | Description（下段） | ⚠️ | 技術的な補足 |
| **見積もり** | Story Points | ✅ | フィボナッチ数列 |
| **優先度** | Priority | ✅ | High/Medium/Low |
| **担当者** | Assignee | ⚠️ | スプリント開始時に設定 |
| **スプリント** | Sprint | ⚠️ | 計画時に設定 |
| **Epic** | Epic Link | ⚠️ | 大規模PBIの場合 |

### カスタムフィールド推奨設定

#### 1. PBI Type（必須）
```
フィールドタイプ: Select List (single choice)
選択肢:
  - NPI - 新規プロジェクト立ち上げ
  - NFD - 新規機能開発
  - ENH - 既存機能追加・改修
  - BUG - バグ修正
  - REF - リファクタリング
  - ARC - 設計変更・アーキテクチャ改善
  - HOT - 緊急修正
  - POC - 実験的機能
```

#### 2. Business Value（推奨）
```
フィールドタイプ: Text Field (multi-line)
説明: ビジネス価値を定量的に記載
例: "売上10%向上、カスタマーサポート月50件削減"
```

#### 3. Technical Complexity（推奨）
```
フィールドタイプ: Select List (single choice)
選択肢:
  - Low（既存パターン踏襲）
  - Medium（一部新技術）
  - High（未経験技術・複雑なロジック）
```

#### 4. Phase Path（推奨）
```
フィールドタイプ: Text Field (read-only)
説明: PBIタイプに応じた推奨Phase経路を自動表示
例: "0→2→3→4→5"
```

### JIRAテンプレート設定方法

#### Step 1: Issue Template作成
```
JIRA設定 → Issues → Issue Templates → Create Template

テンプレート名: [PBI Type] PBI Template
例: "NFD - 新規機能開発テンプレート"

Description欄にテンプレート内容を設定
```

#### Step 2: テンプレートの構造
```markdown
## ユーザーストーリー
**として**: [ユーザータイプ]
**〜したい**: [やりたいこと]
**なぜなら**: [理由]

## ビジネス価値
- **定量的目標**: 
- **対象ユーザー**: 

## 受け入れ基準
### 機能要件
- [ ] 要件1
- [ ] 要件2

### 非機能要件
- [ ] パフォーマンス: 
- [ ] セキュリティ: 

### テスト要件
- [ ] 単体テスト: 
- [ ] 統合テスト: 
- [ ] E2Eテスト: 

## 技術的考慮事項
- **使用技術**: 
- **既存システム連携**: 
- **API設計**: 

## 見積もり
- **ストーリーポイント**: 
- **期間**: 
- **担当**: 
```

#### Step 3: 自動化（推奨）
JIRAオートメーションで、PBI Type選択時に自動的に該当テンプレートを適用。

```
Trigger: Issue Created
Condition: PBI Type = "NFD"
Action: Set Description = [NFDテンプレート]
```

---

## テンプレートカスタマイズ

### カスタマイズガイドライン

テンプレートは、プロジェクトの特性に合わせてカスタマイズ可能です。

#### カスタマイズ可能な項目
- ✅ セクションの追加・削除
- ✅ 受け入れ基準の詳細レベル
- ✅ 技術情報の追加フィールド
- ✅ プロジェクト固有の要件

#### カスタマイズ禁止事項
- ❌ PBIタイプの定義変更（8タイプは固定）
- ❌ INVEST原則に反する変更
- ❌ 必須セクションの削除

### プロジェクト別カスタマイズ例

#### モバイルアプリプロジェクト
```markdown
## 追加セクション

### モバイル対応
- **対象OS**: iOS 15+, Android 12+
- **画面サイズ**: iPhone SE～iPad Pro
- **オフライン対応**: 必要/不要

### アプリストア要件
- **スクリーンショット**: 
- **説明文**: 
- **審査対応**: 
```

#### SaaSプロダクト
```markdown
## 追加セクション

### マルチテナント対応
- **テナント分離レベル**: DB/Schema/Row
- **データ移行**: 必要/不要

### 料金プラン影響
- **Free**: 
- **Pro**: 
- **Enterprise**: 
```

#### B2Bシステム
```markdown
## 追加セクション

### コンプライアンス
- **個人情報取扱い**: あり/なし
- **GDPR対応**: 必要/不要
- **監査ログ**: 必要/不要

### SLA要件
- **稼働率**: 99.9%
- **レスポンスタイム**: 3秒以内
- **サポート対応**: 24時間/営業時間内
```

---

## AIエージェント向けガイダンス

### テンプレート自動選択フロー

AIエージェントは、以下のフローでテンプレートを自動選択してください：

```
Step 1: ユーザーからの入力を解析
    ↓
Step 2: PBIタイプ判定
    ↓
[PBI-TYPE-JUDGMENT-GUIDE.md]の判定基準を適用
    ↓
Step 3: 該当テンプレートファイルを読み込み
    ↓
/08-templates/pbi-templates/pbi-template-{type}.md
    ↓
Step 4: テンプレートに情報を埋め込み
    ↓
ユーザー入力 + コンテキスト情報を活用
    ↓
Step 5: 品質チェック
    ↓
[PBI-CREATION-BEST-PRACTICES.md]のチェックリストで検証
    ↓
Step 6: 出力
```

### AI向けテンプレート活用プロンプト

```
# AIエージェント向けPBI作成プロンプト

## 入力
- ユーザー要求: {user_request}
- プロジェクトコンテキスト: {project_context}

## タスク
1. PBIタイプを判定（NPI/NFD/ENH/BUG/REF/ARC/HOT/POC）
2. 該当テンプレートを選択
3. テンプレートの各セクションを埋める

## テンプレート選択ロジック
```python
def select_template(user_request, context):
    # PBIタイプ判定
    pbi_type = judge_pbi_type(user_request, context)
    
    # テンプレートファイルパス
    template_path = f"/08-templates/pbi-templates/pbi-template-{pbi_type}.md"
    
    # テンプレート読み込み
    template = read_template(template_path)
    
    return template

def fill_template(template, user_request, context):
    # 各セクションに情報を埋め込み
    filled = template
    
    # ユーザーストーリー生成
    if "ユーザーストーリー" in template:
        story = generate_user_story(user_request)
        filled = filled.replace("[ユーザータイプ]", story.user_type)
        filled = filled.replace("[やりたいこと]", story.goal)
        filled = filled.replace("[理由]", story.reason)
    
    # 受け入れ基準生成
    criteria = generate_acceptance_criteria(user_request, context)
    filled = filled.replace("- [ ] 要件1", criteria)
    
    # 見積もり
    estimate = estimate_story_points(user_request, context)
    filled = filled.replace("[見積もり]", str(estimate))
    
    return filled
```

## 出力形式
Markdown形式でPBIを出力
```

### AI品質チェックポイント

AIエージェントは、テンプレート埋め込み後に以下をチェック：

```yaml
品質チェック:
  必須セクション:
    - [ ] 全ての必須セクションが埋められている
    - [ ] [プレースホルダー]が残っていない
  
  具体性:
    - [ ] 曖昧な表現がない（"使いやすい"等）
    - [ ] 数値基準が含まれている
    - [ ] 測定可能な受け入れ基準
  
  INVEST原則:
    - [ ] 独立性: 他PBIから独立
    - [ ] 交渉可能性: 実装方法が固定されていない
    - [ ] 価値: ビジネス価値が明確
    - [ ] 見積もり可能: 情報が十分
    - [ ] 小さい: 8ポイント以下
    - [ ] テスト可能: 検証方法が明確
  
  プロジェクト整合性:
    - [ ] 既存アーキテクチャとの整合性
    - [ ] 使用技術の妥当性
    - [ ] セキュリティ要件の考慮
```

---

## 関連ドキュメント

### 必読ドキュメント

| ドキュメント名 | 目的 | パス |
|-------------|------|------|
| **PBI-TYPE-JUDGMENT-GUIDE.md** | PBIタイプ判定 | /00-guides/ |
| **PBI-CREATION-BEST-PRACTICES.md** | PBI作成ガイド | /00-guides/ |
| **AI-MASTER-WORKFLOW-GUIDE.md** | 開発ワークフロー | /00-guides/ |

### テンプレートファイル

| テンプレート名 | PBIタイプ | パス |
|-------------|---------|------|
| **pbi-template-npi.md** | NPI | /08-templates/pbi-templates/ |
| **pbi-template-nfd.md** | NFD | /08-templates/pbi-templates/ |
| **pbi-template-enh.md** | ENH | /08-templates/pbi-templates/ |
| **pbi-template-bug.md** | BUG | /08-templates/pbi-templates/ |
| **pbi-template-ref.md** | REF | /08-templates/pbi-templates/ |
| **pbi-template-arc.md** | ARC | /08-templates/pbi-templates/ |
| **pbi-template-hot.md** | HOT | /08-templates/pbi-templates/ |
| **pbi-template-poc.md** | POC | /08-templates/pbi-templates/ |

---

## まとめ

### テンプレート活用のメリット

1. ⏱️ **効率化**: 作成時間50%削減
2. ✅ **品質向上**: 抜け漏れ防止
3. 🎯 **標準化**: チーム全体で統一
4. 🤖 **自動化**: AI支援による自動作成

### 次のステップ

1. **テンプレート取得**: 該当するテンプレートファイルを取得
2. **カスタマイズ**: プロジェクトに合わせて調整
3. **チーム共有**: テンプレートの使い方をチームに周知
4. **継続的改善**: フィードバックを元にテンプレート改善

---

**Document Version**: 1.0.0  
**Last Updated**: 2025-11-17  
**Maintained By**: Engineering Leadership Team
