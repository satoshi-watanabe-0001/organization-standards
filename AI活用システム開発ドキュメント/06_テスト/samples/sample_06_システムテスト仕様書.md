# ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ - ECã‚µã‚¤ãƒˆå…¨ä½“æ©Ÿèƒ½

## ğŸ“‹ 1. åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆID** | ST-ECOM-001 |
| **å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ ** | ECã‚µã‚¤ãƒˆï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€å•†å“ç®¡ç†ã€æ³¨æ–‡ãƒ»æ±ºæ¸ˆï¼‰ |
| **ãƒ†ã‚¹ãƒˆå¯¾è±¡ç¯„å›²** | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReactï¼‰ â†” ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆSpring Bootï¼‰ â†” DB |
| **ä½œæˆæ—¥** | 2024-04-01 |
| **ä½œæˆè€…** | QAãƒãƒ¼ãƒ  |
| **ãƒãƒ¼ã‚¸ãƒ§ãƒ³** | 1.0 |
| **ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚º** | ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆï¼ˆE2Eãƒ†ã‚¹ãƒˆï¼‰ |

### ãƒ†ã‚¹ãƒˆå¯¾è±¡æ©Ÿèƒ½
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**: ä¼šå“¡ç™»éŒ²ã€ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†
- **å•†å“ç®¡ç†**: å•†å“ä¸€è¦§ã€æ¤œç´¢ã€è©³ç´°è¡¨ç¤ºã€åœ¨åº«ç¢ºèª
- **æ³¨æ–‡ãƒ»æ±ºæ¸ˆ**: ã‚«ãƒ¼ãƒˆè¿½åŠ ã€æ³¨æ–‡ç¢ºå®šã€Stripeæ±ºæ¸ˆã€æ³¨æ–‡å±¥æ­´

---

## â° 2. ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°

### ä½œæˆãƒ•ã‚§ãƒ¼ã‚º
**çµåˆãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ â†’ ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå®Ÿæ–½å‰**

```mermaid
flowchart LR
    A[çµåˆãƒ†ã‚¹ãƒˆåˆæ ¼] --> B[ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ä½œæˆ]
    B --> C[ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªãƒ¬ãƒ“ãƒ¥ãƒ¼]
    C --> D[ãƒ†ã‚¹ãƒˆç’°å¢ƒæº–å‚™]
    D --> E[ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå®Ÿæ–½]
    E --> F{å…¨ã‚·ãƒŠãƒªã‚ªåˆæ ¼?}
    F -->|No| G[ãƒã‚°ä¿®æ­£]
    G --> E
    F -->|Yes| H[ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸ä½œæˆ]
    H --> I[å—å…¥ãƒ†ã‚¹ãƒˆã¸]
```

### å®Ÿæ–½æ¡ä»¶
- âœ… çµåˆãƒ†ã‚¹ãƒˆãŒå…¨ã¦åˆæ ¼
- âœ… ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãŒæœ¬ç•ªç›¸å½“ã«æ§‹ç¯‰æ¸ˆã¿
- âœ… Selenium/Playwrightã®è‡ªå‹•ãƒ†ã‚¹ãƒˆç’°å¢ƒãŒæ•´å‚™æ¸ˆã¿
- âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒæº–å‚™æ¸ˆã¿

---

## ğŸ“‚ 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

### å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³

```
1. åŸºæœ¬æƒ…å ±
   â”œâ”€ ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“åƒ
   â””â”€ ãƒ†ã‚¹ãƒˆç¯„å›²ï¼ˆæ©Ÿèƒ½ãƒ»éæ©Ÿèƒ½ï¼‰

2. ãƒ†ã‚¹ãƒˆç’°å¢ƒ
   â”œâ”€ ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒï¼‰
   â”œâ”€ ä½¿ç”¨ãƒ„ãƒ¼ãƒ«ï¼ˆSeleniumã€Playwrightï¼‰
   â””â”€ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ»ãƒ‡ãƒã‚¤ã‚¹ç¨®é¡

3. ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª
   â”œâ”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ™ãƒ¼ã‚¹ã®E2Eã‚·ãƒŠãƒªã‚ª
   â”œâ”€ æ¥­å‹™ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ãƒ†ã‚¹ãƒˆ
   â””â”€ ç•°å¸¸ç³»ãƒ»ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹

4. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§
   â”œâ”€ ã‚·ãƒŠãƒªã‚ªIDã€æ“ä½œæ‰‹é †ã€æœŸå¾…çµæœ
   â””â”€ å„ªå…ˆåº¦ï¼ˆCritical/High/Medium/Lowï¼‰

5. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
   â”œâ”€ ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿
   â””â”€ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿

6. éæ©Ÿèƒ½è¦ä»¶ãƒ†ã‚¹ãƒˆ
   â”œâ”€ æ€§èƒ½ãƒ†ã‚¹ãƒˆï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ï¼‰
   â”œâ”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
   â””â”€ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
```

---

## ğŸ“ 4. è¨˜è¼‰ãƒ«ãƒ¼ãƒ«

### 4.1 ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã®è¦³ç‚¹

#### âœ… DOï¼ˆæ¨å¥¨ï¼‰
```markdown
âœ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰æ¤œè¨¼
âœ“ æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã‚’é€šã—ãŸã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆ
âœ“ å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œã«ã‚ˆã‚‹æ¤œè¨¼
âœ“ è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ãƒ†ã‚¹ãƒˆ
âœ“ UI/UXã®è¦–è¦šçš„ãªç¢ºèª
âœ“ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤ºç¢ºèª
âœ“ éæ©Ÿèƒ½è¦ä»¶ï¼ˆæ€§èƒ½ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼‰ã®æ¤œè¨¼
```

#### âŒ DON'Tï¼ˆéæ¨å¥¨ï¼‰
```markdown
âœ— APIå˜ä½“ã®ç´°ã‹ã„ãƒ†ã‚¹ãƒˆï¼ˆçµåˆãƒ†ã‚¹ãƒˆã§å®Ÿæ–½æ¸ˆã¿ï¼‰
âœ— å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å˜ä½“æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
âœ— ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆã‚³ãƒ¼ãƒ‰å†…éƒ¨ã®æ¤œè¨¼ï¼‰
âœ— é–‹ç™ºç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã‚’ä½¿ç”¨ï¼‰
```

### 4.2 ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªè¨˜è¼‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```markdown
### ST-XXX: ã‚·ãƒŠãƒªã‚ªå

**å„ªå…ˆåº¦**: [Critical / High / Medium / Low]

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®è¦–ç‚¹

**å‰ææ¡ä»¶**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çŠ¶æ…‹ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã€ã‚«ãƒ¼ãƒˆå†…å•†å“ã‚ã‚Šç­‰ï¼‰
- ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã®çŠ¶æ…‹

**æ“ä½œæ‰‹é †**:
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒšãƒ¼ã‚¸é·ç§»
2. ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ»å…¥åŠ›æ“ä½œ
3. ç”»é¢è¡¨ç¤ºç¢ºèª
4. ãƒ‡ãƒ¼ã‚¿é€ä¿¡
5. çµæœç¢ºèª

**æœŸå¾…çµæœ**:
- ç”»é¢è¡¨ç¤ºå†…å®¹
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç™»éŒ²å†…å®¹
- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºçµæœ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆç•°å¸¸ç³»ã®å ´åˆï¼‰

**ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: ã‚ã‚Š/ãªã—

**æ‰€è¦æ™‚é–“**: XXåˆ†
```

### 4.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å›³ã®è¨˜è¼‰

```mermaid
flowchart TD
    A[ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹] --> B{ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹?}
    B -->|æœªãƒ­ã‚°ã‚¤ãƒ³| C[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢]
    C --> D[ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›]
    D --> E{èªè¨¼æˆåŠŸ?}
    E -->|Yes| F[å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸]
    E -->|No| C
    B -->|ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿| F
    F --> G[å•†å“æ¤œç´¢ãƒ»çµã‚Šè¾¼ã¿]
    G --> H[å•†å“è©³ç´°ãƒšãƒ¼ã‚¸]
    H --> I[ã‚«ãƒ¼ãƒˆã«è¿½åŠ ]
    I --> J[ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸]
    J --> K[æ³¨æ–‡ç¢ºå®š]
    K --> L[Stripeæ±ºæ¸ˆ]
    L --> M{æ±ºæ¸ˆæˆåŠŸ?}
    M -->|Yes| N[æ³¨æ–‡å®Œäº†ç”»é¢]
    M -->|No| O[ã‚¨ãƒ©ãƒ¼ç”»é¢]
    N --> P[æ³¨æ–‡ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡]
```

---

## ğŸ¯ 5. å“è³ªåŸºæº–

### 5.1 åˆæ ¼åŸºæº–

| åŸºæº–é …ç›® | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|---------|--------|---------|
| **ã‚·ãƒŠãƒªã‚ªåˆæ ¼ç‡** | 100% | å…¨ã‚·ãƒŠãƒªã‚ªæˆåŠŸ |
| **ç”»é¢è¡¨ç¤ºæ™‚é–“** | 90%ãŒ2ç§’ä»¥å†… | ãƒ–ãƒ©ã‚¦ã‚¶DevToolsã§æ¸¬å®š |
| **ãƒšãƒ¼ã‚¸é·ç§»æ™‚é–“** | å¹³å‡1ç§’ä»¥å†… | Navigation Timing API |
| **ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§** | Chrome/Safari/Firefoxæ­£å¸¸å‹•ä½œ | æ‰‹å‹•ç¢ºèª |
| **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ** | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³æ­£å¸¸è¡¨ç¤º | å®Ÿæ©Ÿãƒ»ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ç¢ºèª |
| **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£** | WCAG 2.1 AAåŸºæº– | Lighthouseã‚¹ã‚³ã‚¢80ä»¥ä¸Š |

### 5.2 å®Ÿæ–½ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

```markdown
âœ… æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
  - ä¸»è¦æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸ã«å®Œäº†ã™ã‚‹
  - ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - ãƒ‡ãƒ¼ã‚¿ãŒDB/Redisã«æ­£ã—ãä¿å­˜ã•ã‚Œã‚‹

âœ… éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
  - ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ãŒ2ç§’ä»¥å†…
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãŒãƒ¢ãƒã‚¤ãƒ«ã§æ­£å¸¸
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹

âœ… ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶
  - Chromeæœ€æ–°ç‰ˆã§å‹•ä½œ
  - Safariæœ€æ–°ç‰ˆã§å‹•ä½œ
  - Firefoxæœ€æ–°ç‰ˆã§å‹•ä½œ

âœ… UX/UI
  - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒåˆ†ã‹ã‚Šã‚„ã™ã„
  - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒé©åˆ‡
  - å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå³åº§
```

---

## ğŸ¤– 6. AIç”Ÿæˆæ™‚ã®æŒ‡ç¤ºãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

### åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ã€ŒECã‚µã‚¤ãƒˆã®ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€å¿…é ˆæ¡ä»¶ã€‘
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã®E2Eã‚·ãƒŠãƒªã‚ª
- ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆæ‰‹é †
- Selenium/Playwrightã§ã®è‡ªå‹•åŒ–æƒ³å®š
- Chrome/Safari/Firefoxã§ã®ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ
- ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª

ã€ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã€‘
1. æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã€œãƒ­ã‚°ã‚¤ãƒ³
2. å•†å“æ¤œç´¢ã€œã‚«ãƒ¼ãƒˆè¿½åŠ 
3. æ³¨æ–‡ç¢ºå®šã€œStripeæ±ºæ¸ˆ
4. æ³¨æ–‡å±¥æ­´ç¢ºèª

ã€å‡ºåŠ›å½¢å¼ã€‘
- ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªä¸€è¦§ï¼ˆå„ªå…ˆåº¦ä»˜ãï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å›³ï¼ˆMermaid flowchartï¼‰
- Seleniumè‡ªå‹•åŒ–ã‚³ãƒ¼ãƒ‰ä¾‹
- ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£å–å¾—è¨­å®š
ã€
```

---

## ğŸ”— 7. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å‚ç…§ã™ã‚‹è¨­è¨ˆãƒ»ãƒ†ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [è¦ä»¶å®šç¾©æ›¸](02_è¦ä»¶å®šç¾©/æ©Ÿèƒ½è¦ä»¶å®šç¾©æ›¸.md) - æ©Ÿèƒ½è¦ä»¶
- [çµåˆãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸](sample_06_çµåˆãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸.md) - å‰ãƒ•ã‚§ãƒ¼ã‚ºçµæœ
- [UIè¨­è¨ˆæ›¸](03_åŸºæœ¬è¨­è¨ˆ/UIè¨­è¨ˆæ›¸.md) - ç”»é¢ä»•æ§˜

### å¾Œç¶šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸](sample_06_ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå ±å‘Šæ›¸.md) - ãƒ†ã‚¹ãƒˆçµæœè¨˜éŒ²
- [å—å…¥ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸](sample_06_å—å…¥ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸.md) - UATè¨ˆç”»

---

## ğŸ“Š 8. ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

### ã‚·ãƒŠãƒªã‚ª1: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã¾ã§ï¼ˆCriticalï¼‰

```mermaid
sequenceDiagram
    participant U as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant B as ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆReactï¼‰
    participant API as ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
    participant DB as PostgreSQL
    participant M as ãƒ¡ãƒ¼ãƒ«ï¼ˆSendGridï¼‰

    U->>B: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
    B-->>U: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸è¡¨ç¤º
    U->>B: ã€Œæ–°è¦ç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    B-->>U: ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
    U->>B: ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ»åå‰å…¥åŠ›
    U->>B: ã€Œç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    B->>API: POST /api/users
    API->>DB: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
    DB-->>API: æˆåŠŸï¼ˆuserId=1ï¼‰
    API->>M: ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒ¼ãƒ«é€ä¿¡
    M-->>API: é€ä¿¡å®Œäº†
    API-->>B: 201 Created
    B-->>U: ã€Œç™»éŒ²å®Œäº†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    B-->>U: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    U->>B: ãƒ¡ãƒ¼ãƒ«ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
    U->>B: ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    B->>API: POST /api/auth/login
    API-->>B: JWTãƒˆãƒ¼ã‚¯ãƒ³è¿”å´
    B-->>U: å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸é·ç§»
```

---

### ã‚·ãƒŠãƒªã‚ª2: å•†å“æ¤œç´¢ã‹ã‚‰ã‚«ãƒ¼ãƒˆè¿½åŠ ã¾ã§ï¼ˆCriticalï¼‰

```mermaid
flowchart TD
    A[å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸] --> B[æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›:<br/>ã€Œãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³ã€]
    B --> C[æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]
    C --> D{æ¤œç´¢çµæœè¡¨ç¤º}
    D -->|è©²å½“å•†å“ã‚ã‚Š| E[å•†å“ã‚«ãƒ¼ãƒ‰ä¸€è¦§è¡¨ç¤º]
    D -->|è©²å½“å•†å“ãªã—| F[ã€Œè©²å½“å•†å“ãªã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]
    E --> G[å•†å“ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯]
    G --> H[å•†å“è©³ç´°ãƒšãƒ¼ã‚¸è¡¨ç¤º]
    H --> I[æ•°é‡é¸æŠ: 2å€‹]
    I --> J[ã€Œã‚«ãƒ¼ãƒˆã«è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]
    J --> K{åœ¨åº«ç¢ºèª}
    K -->|åœ¨åº«ã‚ã‚Š| L[ã‚«ãƒ¼ãƒˆè¿½åŠ æˆåŠŸ<br/>é€šçŸ¥è¡¨ç¤º]
    K -->|åœ¨åº«ä¸è¶³| M[ã€Œåœ¨åº«ä¸è¶³ã€ã‚¨ãƒ©ãƒ¼]
    L --> N[ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã®ãƒãƒƒã‚¸æ›´æ–°:<br/>ã€Œ2ã€è¡¨ç¤º]
```

---

## ğŸ“‹ 9. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### 9.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½

#### ST-001: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã€œãƒ­ã‚°ã‚¤ãƒ³ï¼ˆE2Eã‚·ãƒŠãƒªã‚ªï¼‰

**å„ªå…ˆåº¦**: Critical

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã¾ã§ã®ä¸€é€£ã®æµã‚Œ

**å‰ææ¡ä»¶**:
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒãŒèµ·å‹•ã—ã¦ã„ã‚‹
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ `test-$(timestamp)@example.com` ãŒæœªç™»éŒ²
- SendGridãƒ¢ãƒƒã‚¯ãŒå‹•ä½œä¸­

**æ“ä½œæ‰‹é †**:
1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `https://staging.example.com` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ã€Œæ–°è¦ç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã«ä»¥ä¸‹ã‚’å…¥åŠ›:
   - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: `test-20240401@example.com`
   - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `SecurePass123!`
   - åå‰: `ãƒ†ã‚¹ãƒˆå¤ªéƒ`
   - é›»è©±ç•ªå·: `090-1234-5678`
4. ã€Œç™»éŒ²ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ã€Œç™»éŒ²å®Œäº†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
6. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸è‡ªå‹•é·ç§»ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
7. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
8. ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…çµæœ**:
- âœ… ç™»éŒ²å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã€Œç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚ã€
- âœ… ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒ¼ãƒ«é€ä¿¡: SendGridãƒ­ã‚°ã«é€ä¿¡å±¥æ­´
- âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- âœ… ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã€Œãƒ†ã‚¹ãƒˆå¤ªéƒã•ã‚“ã€ã¨è¡¨ç¤º
- âœ… LocalStorageã«JWTãƒˆãƒ¼ã‚¯ãƒ³ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- âœ… DBç¢ºèª: `SELECT * FROM users WHERE email = 'test-20240401@example.com'` ã§1è¡Œ

**ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**:
- ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢
- ç™»éŒ²å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®å•†å“ä¸€è¦§ç”»é¢

**æ‰€è¦æ™‚é–“**: 5åˆ†

---

#### ST-002: ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¸ä¸€è‡´ï¼‰

**å„ªå…ˆåº¦**: High

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: èª¤ã£ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦ã¿ãŸéš›ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**å‰ææ¡ä»¶**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ `existing@example.com` ãŒç™»éŒ²æ¸ˆã¿ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `CorrectPass123!`ï¼‰

**æ“ä½œæ‰‹é †**:
1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: `existing@example.com` ã‚’å…¥åŠ›
3. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `WrongPassword` ã‚’å…¥åŠ›
4. ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…çµæœ**:
- âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º: ã€Œãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€
- âœ… ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ç•™ã¾ã‚‹ï¼ˆé·ç§»ã—ãªã„ï¼‰
- âœ… å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚¯ãƒªã‚¢ã•ã‚Œãªã„ï¼ˆå†å…¥åŠ›ã—ã‚„ã™ã„ï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒèµ¤è‰²ã§ç›®ç«‹ã¤

**æ‰€è¦æ™‚é–“**: 2åˆ†

---

### 9.2 å•†å“ç®¡ç†æ©Ÿèƒ½

#### ST-003: å•†å“æ¤œç´¢ã€œå•†å“è©³ç´°è¡¨ç¤º

**å„ªå…ˆåº¦**: Critical

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: å•†å“æ¤œç´¢æ©Ÿèƒ½ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

**å‰ææ¡ä»¶**:
- å•†å“ãƒã‚¹ã‚¿ã«50ä»¶ã®å•†å“ãŒç™»éŒ²æ¸ˆã¿
- ã‚«ãƒ†ã‚´ãƒªã€Œã‚¤ãƒ¤ãƒ›ãƒ³ã€ã«10ä»¶ã®å•†å“

**æ“ä½œæ‰‹é †**:
1. å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«ã€Œãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã€ã¨å…¥åŠ›
3. Enterã‚­ãƒ¼ã‚’æŠ¼ä¸‹ï¼ˆã¾ãŸã¯æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ï¼‰
4. æ¤œç´¢çµæœä¸€è¦§ã‚’ç¢ºèª
5. ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ã§ã€Œã‚¤ãƒ¤ãƒ›ãƒ³ã€ã‚’é¸æŠ
6. ä¾¡æ ¼é †ã‚½ãƒ¼ãƒˆï¼ˆå®‰ã„é †ï¼‰ã‚’é¸æŠ
7. 1ä»¶ç›®ã®å•†å“ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…çµæœ**:
- âœ… æ¤œç´¢çµæœ: ã€Œãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã€ã‚’å«ã‚€å•†å“ã®ã¿è¡¨ç¤º
- âœ… æ¤œç´¢ãƒ’ãƒƒãƒˆæ•°: ã€Œæ¤œç´¢çµæœ: 8ä»¶ã€ã¨è¡¨ç¤º
- âœ… ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨: ã‚¤ãƒ¤ãƒ›ãƒ³ã‚«ãƒ†ã‚´ãƒªã®ã¿è¡¨ç¤º
- âœ… ã‚½ãƒ¼ãƒˆ: ä¾¡æ ¼ãŒæ˜‡é †ã«ä¸¦ã‚“ã§ã„ã‚‹
- âœ… å•†å“è©³ç´°ãƒšãƒ¼ã‚¸: å•†å“åã€ä¾¡æ ¼ã€èª¬æ˜ã€åœ¨åº«æ•°ã€ç”»åƒãŒè¡¨ç¤º
- âœ… URLãŒ `/products/{productId}` ã«å¤‰æ›´

**æ‰€è¦æ™‚é–“**: 3åˆ†

---

#### ST-004: ã‚«ãƒ¼ãƒˆè¿½åŠ ã€œã‚«ãƒ¼ãƒˆå†…å®¹ç¢ºèª

**å„ªå…ˆåº¦**: Critical

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: ã‚«ãƒ¼ãƒˆæ©Ÿèƒ½ã¨Redisã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

**å‰ææ¡ä»¶**:
- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼ˆuserId=1ï¼‰
- ã‚«ãƒ¼ãƒˆãŒç©º

**æ“ä½œæ‰‹é †**:
1. å•†å“è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆå•†å“ID=10ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ•°é‡ã‚’ã€Œ2ã€ã«å¤‰æ›´
3. ã€Œã‚«ãƒ¼ãƒˆã«è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã€Œã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸã€é€šçŸ¥ã‚’ç¢ºèª
5. ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã®ãƒãƒƒã‚¸ã‚’ç¢ºèª
6. ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
7. ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã§å•†å“æƒ…å ±ã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- âœ… é€šçŸ¥è¡¨ç¤º: ã€Œã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸã€ï¼ˆ3ç§’é–“è¡¨ç¤ºï¼‰
- âœ… ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸: ã€Œ2ã€ã¨è¡¨ç¤ºï¼ˆæ•°é‡åˆè¨ˆï¼‰
- âœ… ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸: å•†å“åã€å˜ä¾¡ã€æ•°é‡ã€å°è¨ˆãŒè¡¨ç¤º
- âœ… åˆè¨ˆé‡‘é¡: å˜ä¾¡Ã—æ•°é‡ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã¦ã„ã‚‹
- âœ… Redisç¢ºèª: `GET cart:user:1` ã§ã‚«ãƒ¼ãƒˆæƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹

**æ‰€è¦æ™‚é–“**: 4åˆ†

---

### 9.3 æ³¨æ–‡ãƒ»æ±ºæ¸ˆæ©Ÿèƒ½

#### ST-005: æ³¨æ–‡ç¢ºå®šã€œStripeæ±ºæ¸ˆæˆåŠŸï¼ˆE2Eã‚·ãƒŠãƒªã‚ªï¼‰

**å„ªå…ˆåº¦**: Critical

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: æ³¨æ–‡ã‹ã‚‰æ±ºæ¸ˆã¾ã§ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼

**å‰ææ¡ä»¶**:
- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼ˆuserId=1ï¼‰
- ã‚«ãƒ¼ãƒˆã«å•†å“2ç‚¹ï¼ˆåˆè¨ˆÂ¥15,000ï¼‰

**æ“ä½œæ‰‹é †**:
1. ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã§ã€Œæ³¨æ–‡ã«é€²ã‚€ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. é…é€å…ˆä½æ‰€å…¥åŠ›ãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã‚’å…¥åŠ›:
   - éƒµä¾¿ç•ªå·: `150-0001`
   - ä½æ‰€: `æ±äº¬éƒ½æ¸‹è°·åŒºç¥å®®å‰1-2-3`
   - é›»è©±ç•ªå·: `090-1234-5678`
3. ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. æ³¨æ–‡ç¢ºèªãƒšãƒ¼ã‚¸ã§å•†å“ãƒ»é‡‘é¡ã‚’ç¢ºèª
5. ã€Œæ±ºæ¸ˆã¸é€²ã‚€ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
6. Stripeæ±ºæ¸ˆç”»é¢ã§ãƒ†ã‚¹ãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’å…¥åŠ›:
   - ã‚«ãƒ¼ãƒ‰ç•ªå·: `4242 4242 4242 4242`
   - æœ‰åŠ¹æœŸé™: `12/34`
   - CVC: `123`
7. ã€Œæ”¯æ‰•ã†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
8. æ±ºæ¸ˆå‡¦ç†ã‚’å¾…æ©Ÿï¼ˆãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºç¢ºèªï¼‰

**æœŸå¾…çµæœ**:
- âœ… æ³¨æ–‡ç¢ºèªãƒšãƒ¼ã‚¸: å•†å“ä¸€è¦§ã€å°è¨ˆã€é€æ–™ã€æ¶ˆè²»ç¨ã€åˆè¨ˆãŒè¡¨ç¤º
- âœ… Stripeæ±ºæ¸ˆç”»é¢: ã‚»ã‚­ãƒ¥ã‚¢ãªiframeã§è¡¨ç¤º
- âœ… æ±ºæ¸ˆæˆåŠŸ: ã€Œæ³¨æ–‡ãŒå®Œäº†ã—ã¾ã—ãŸã€ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- âœ… æ³¨æ–‡ç•ªå·è¡¨ç¤º: ã€Œæ³¨æ–‡ç•ªå·: ORD-20240401-00001ã€
- âœ… æ³¨æ–‡ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡: SendGridãƒ­ã‚°ã«é€ä¿¡å±¥æ­´
- âœ… DBç¢ºèª:
  ```sql
  SELECT * FROM orders WHERE user_id = 1 ORDER BY created_at DESC LIMIT 1;
  -- status = 'COMPLETED', total_amount = 15000
  ```
- âœ… ã‚«ãƒ¼ãƒˆã‚¯ãƒªã‚¢: ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã®ãƒãƒƒã‚¸ãŒã€Œ0ã€

**ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**:
- é…é€å…ˆå…¥åŠ›ç”»é¢
- æ³¨æ–‡ç¢ºèªç”»é¢
- Stripeæ±ºæ¸ˆç”»é¢
- æ³¨æ–‡å®Œäº†ç”»é¢

**æ‰€è¦æ™‚é–“**: 8åˆ†

---

#### ST-006: æ±ºæ¸ˆå¤±æ•—ï¼ˆã‚«ãƒ¼ãƒ‰ä¸æ­£ï¼‰

**å„ªå…ˆåº¦**: High

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: Stripeæ±ºæ¸ˆå¤±æ•—æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**å‰ææ¡ä»¶**:
- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿
- ã‚«ãƒ¼ãƒˆã«å•†å“ã‚ã‚Š

**æ“ä½œæ‰‹é †**:
1. æ³¨æ–‡ç¢ºèªãƒšãƒ¼ã‚¸ã‹ã‚‰ã€Œæ±ºæ¸ˆã¸é€²ã‚€ã€
2. Stripeæ±ºæ¸ˆç”»é¢ã§ä¸æ­£ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’å…¥åŠ›:
   - ã‚«ãƒ¼ãƒ‰ç•ªå·: `4000 0000 0000 0002`ï¼ˆStripeãƒ†ã‚¹ãƒˆç”¨ - ã‚«ãƒ¼ãƒ‰æ‹’å¦ï¼‰
3. ã€Œæ”¯æ‰•ã†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…çµæœ**:
- âœ… ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ã€ŒãŠæ”¯æ‰•ã„ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€‚ã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã€
- âœ… æ³¨æ–‡æœªç¢ºå®š: DBã®ordersãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œæˆã•ã‚Œã¦ã„ãªã„
- âœ… ã‚«ãƒ¼ãƒˆä¿æŒ: ã‚«ãƒ¼ãƒˆå†…å®¹ãŒå‰Šé™¤ã•ã‚Œã¦ã„ãªã„
- âœ… å†è©¦è¡Œå¯èƒ½: æ±ºæ¸ˆç”»é¢ã«ç•™ã¾ã‚Šã€åˆ¥ã®ã‚«ãƒ¼ãƒ‰ã§å†è©¦è¡Œã§ãã‚‹

**æ‰€è¦æ™‚é–“**: 3åˆ†

---

#### ST-007: æ³¨æ–‡å±¥æ­´ç¢ºèª

**å„ªå…ˆåº¦**: Medium

**ãƒ†ã‚¹ãƒˆè¦³ç‚¹**: ãƒã‚¤ãƒšãƒ¼ã‚¸ã§ã®æ³¨æ–‡å±¥æ­´è¡¨ç¤º

**å‰ææ¡ä»¶**:
- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼ˆuserId=1ï¼‰
- éå»ã«3ä»¶ã®æ³¨æ–‡å±¥æ­´ã‚ã‚Š

**æ“ä½œæ‰‹é †**:
1. ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã€Œãƒã‚¤ãƒšãƒ¼ã‚¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã€Œæ³¨æ–‡å±¥æ­´ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. æ³¨æ–‡ä¸€è¦§ã‚’ç¢ºèª
4. æœ€æ–°ã®æ³¨æ–‡ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°è¡¨ç¤º

**æœŸå¾…çµæœ**:
- âœ… æ³¨æ–‡ä¸€è¦§: 3ä»¶ã®æ³¨æ–‡ãŒæ–°ã—ã„é †ã«è¡¨ç¤º
- âœ… è¡¨ç¤ºé …ç›®: æ³¨æ–‡ç•ªå·ã€æ³¨æ–‡æ—¥ã€åˆè¨ˆé‡‘é¡ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- âœ… æ³¨æ–‡è©³ç´°: å•†å“ä¸€è¦§ã€é…é€å…ˆä½æ‰€ã€æ±ºæ¸ˆæƒ…å ±ãŒè¡¨ç¤º
- âœ… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º: ã€Œé…é€æº–å‚™ä¸­ã€ã€Œé…é€ä¸­ã€ã€Œé…é€å®Œäº†ã€ã®ã„ãšã‚Œã‹

**æ‰€è¦æ™‚é–“**: 3åˆ†

---

## ğŸ’» 10. è‡ªå‹•åŒ–ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆSeleniumï¼‰

### 10.1 ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```python
# pytest + selenium
import pytest
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

@pytest.fixture
def driver():
    options = webdriver.ChromeOptions()
    options.add_argument('--headless')
    options.add_argument('--no-sandbox')
    driver = webdriver.Chrome(options=options)
    driver.implicitly_wait(10)
    yield driver
    driver.quit()

BASE_URL = "https://staging.example.com"
```

### 10.2 ST-001: æ–°è¦ç™»éŒ²ã€œãƒ­ã‚°ã‚¤ãƒ³

```python
def test_ST_001_ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³(driver):
    """ST-001: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã€œãƒ­ã‚°ã‚¤ãƒ³ï¼ˆE2Eã‚·ãƒŠãƒªã‚ªï¼‰"""
    
    # Given
    timestamp = int(time.time())
    email = f"test-{timestamp}@example.com"
    password = "SecurePass123!"
    name = "ãƒ†ã‚¹ãƒˆå¤ªéƒ"
    
    # When - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
    driver.get(f"{BASE_URL}/signup")
    
    driver.find_element(By.ID, "email").send_keys(email)
    driver.find_element(By.ID, "password").send_keys(password)
    driver.find_element(By.ID, "name").send_keys(name)
    driver.find_element(By.ID, "phoneNumber").send_keys("090-1234-5678")
    
    driver.find_element(By.CSS_SELECTOR, "button[type='submit']").click()
    
    # Then - ç™»éŒ²å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèª
    success_message = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.CLASS_NAME, "success-message"))
    )
    assert "ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ" in success_message.text
    
    # Then - ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸é·ç§»ç¢ºèª
    WebDriverWait(driver, 5).until(
        EC.url_contains("/login")
    )
    
    # When - ãƒ­ã‚°ã‚¤ãƒ³
    driver.find_element(By.ID, "email").send_keys(email)
    driver.find_element(By.ID, "password").send_keys(password)
    driver.find_element(By.CSS_SELECTOR, "button[type='submit']").click()
    
    # Then - å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ã¸é·ç§»
    WebDriverWait(driver, 5).until(
        EC.url_contains("/products")
    )
    
    # Then - ãƒ¦ãƒ¼ã‚¶ãƒ¼åè¡¨ç¤ºç¢ºèª
    user_name_element = driver.find_element(By.CLASS_NAME, "user-name")
    assert "ãƒ†ã‚¹ãƒˆå¤ªéƒã•ã‚“" in user_name_element.text
    
    # Then - JWTãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜ç¢ºèª
    jwt_token = driver.execute_script("return localStorage.getItem('authToken');")
    assert jwt_token is not None
    assert len(jwt_token) > 50  # JWTã¯é•·ã„æ–‡å­—åˆ—
    
    # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
    driver.save_screenshot("ST-001_ç™»éŒ²å¾Œãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ.png")
```

### 10.3 ST-005: æ³¨æ–‡ç¢ºå®šã€œæ±ºæ¸ˆ

```python
def test_ST_005_æ³¨æ–‡ç¢ºå®šã‹ã‚‰æ±ºæ¸ˆæˆåŠŸ(driver):
    """ST-005: æ³¨æ–‡ç¢ºå®šã€œStripeæ±ºæ¸ˆæˆåŠŸï¼ˆE2Eã‚·ãƒŠãƒªã‚ªï¼‰"""
    
    # Given - ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿çŠ¶æ…‹
    login(driver, "test@example.com", "SecurePass123!")
    
    # Given - ã‚«ãƒ¼ãƒˆã«å•†å“è¿½åŠ 
    add_to_cart(driver, product_id=10, quantity=2)
    
    # When - ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã¸
    driver.get(f"{BASE_URL}/cart")
    
    # Then - ã‚«ãƒ¼ãƒˆå†…å®¹ç¢ºèª
    cart_items = driver.find_elements(By.CLASS_NAME, "cart-item")
    assert len(cart_items) > 0
    
    # When - æ³¨æ–‡ã«é€²ã‚€
    driver.find_element(By.ID, "checkout-button").click()
    
    # When - é…é€å…ˆå…¥åŠ›
    WebDriverWait(driver, 5).until(
        EC.presence_of_element_located((By.ID, "postalCode"))
    )
    driver.find_element(By.ID, "postalCode").send_keys("150-0001")
    driver.find_element(By.ID, "address").send_keys("æ±äº¬éƒ½æ¸‹è°·åŒºç¥å®®å‰1-2-3")
    driver.find_element(By.ID, "phoneNumber").send_keys("090-1234-5678")
    driver.find_element(By.ID, "next-button").click()
    
    # Then - æ³¨æ–‡ç¢ºèªãƒšãƒ¼ã‚¸
    WebDriverWait(driver, 5).until(
        EC.presence_of_element_located((By.CLASS_NAME, "order-summary"))
    )
    
    total_amount = driver.find_element(By.CLASS_NAME, "total-amount").text
    assert "Â¥15,000" in total_amount
    
    # When - æ±ºæ¸ˆã¸é€²ã‚€
    driver.find_element(By.ID, "proceed-to-payment").click()
    
    # When - Stripeæ±ºæ¸ˆï¼ˆiframeå†…ï¼‰
    WebDriverWait(driver, 10).until(
        EC.frame_to_be_available_and_switch_to_it((By.CSS_SELECTOR, "iframe[name^='__privateStripeFrame']"))
    )
    
    driver.find_element(By.NAME, "cardnumber").send_keys("4242424242424242")
    driver.find_element(By.NAME, "exp-date").send_keys("1234")
    driver.find_element(By.NAME, "cvc").send_keys("123")
    
    driver.switch_to.default_content()  # iframeã‹ã‚‰æˆ»ã‚‹
    driver.find_element(By.ID, "submit-payment").click()
    
    # Then - æ³¨æ–‡å®Œäº†ãƒšãƒ¼ã‚¸
    WebDriverWait(driver, 15).until(
        EC.presence_of_element_located((By.CLASS_NAME, "order-complete"))
    )
    
    order_number = driver.find_element(By.CLASS_NAME, "order-number").text
    assert "ORD-" in order_number
    
    # Then - ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸ã‚¯ãƒªã‚¢ç¢ºèª
    cart_badge = driver.find_element(By.CLASS_NAME, "cart-badge")
    assert cart_badge.text == "0"
    
    # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
    driver.save_screenshot("ST-005_æ³¨æ–‡å®Œäº†.png")

def login(driver, email, password):
    """ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°: ãƒ­ã‚°ã‚¤ãƒ³"""
    driver.get(f"{BASE_URL}/login")
    driver.find_element(By.ID, "email").send_keys(email)
    driver.find_element(By.ID, "password").send_keys(password)
    driver.find_element(By.CSS_SELECTOR, "button[type='submit']").click()
    WebDriverWait(driver, 5).until(EC.url_contains("/products"))

def add_to_cart(driver, product_id, quantity):
    """ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°: ã‚«ãƒ¼ãƒˆã«è¿½åŠ """
    driver.get(f"{BASE_URL}/products/{product_id}")
    quantity_input = driver.find_element(By.ID, "quantity")
    quantity_input.clear()
    quantity_input.send_keys(str(quantity))
    driver.find_element(By.ID, "add-to-cart").click()
    WebDriverWait(driver, 3).until(
        EC.presence_of_element_located((By.CLASS_NAME, "notification"))
    )
```

---

## ğŸ“Š 11. ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆè¨ˆç”»

### 11.1 å¯¾è±¡ãƒ–ãƒ©ã‚¦ã‚¶ãƒ»ãƒ‡ãƒã‚¤ã‚¹

| ãƒ–ãƒ©ã‚¦ã‚¶/ãƒ‡ãƒã‚¤ã‚¹ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å„ªå…ˆåº¦ | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ |
|----------------|-----------|--------|------------|
| **Chromeï¼ˆWindowsï¼‰** | æœ€æ–°ç‰ˆ | Critical | å…¨ã‚·ãƒŠãƒªã‚ªï¼ˆST-001ã€œST-007ï¼‰ |
| **Safariï¼ˆmacOSï¼‰** | æœ€æ–°ç‰ˆ | High | ST-001, ST-003, ST-005 |
| **Firefoxï¼ˆWindowsï¼‰** | æœ€æ–°ç‰ˆ | Medium | ST-001, ST-005 |
| **Chromeï¼ˆAndroidï¼‰** | æœ€æ–°ç‰ˆ | High | ST-001, ST-003, ST-005 |
| **Safariï¼ˆiOSï¼‰** | æœ€æ–°ç‰ˆ | High | ST-001, ST-005 |

### 11.2 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ

| ãƒ‡ãƒã‚¤ã‚¹ | è§£åƒåº¦ | ãƒ†ã‚¹ãƒˆå†…å®¹ |
|---------|--------|-----------|
| **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—** | 1920x1080 | å…¨æ©Ÿèƒ½æ­£å¸¸è¡¨ç¤º |
| **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ** | 768x1024 | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼æŠ˜ã‚ŠãŸãŸã¿ |
| **ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³** | 375x667 | ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã‚¿ãƒƒãƒæ“ä½œ |

---

## âŒ 12. ã‚ˆãã‚ã‚‹å¤±æ•—ä¾‹

### å¤±æ•—ä¾‹1: Seleniumã®waitä¸è¶³ã§è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```python
# âŒ æ‚ªã„ä¾‹
driver.find_element(By.ID, "submit").click()
driver.find_element(By.CLASS_NAME, "success-message")  # è¦ç´ ãŒã¾ã å­˜åœ¨ã—ãªã„
```

```python
# âœ… è‰¯ã„ä¾‹
driver.find_element(By.ID, "submit").click()
success_message = WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.CLASS_NAME, "success-message"))
)
```

### å¤±æ•—ä¾‹2: ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã®å·®ç•°ã‚’è€ƒæ…®ã—ã¦ã„ãªã„

```markdown
âŒ ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆã—ã¦ã€Œåˆæ ¼ã€
âœ… ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã®å®Ÿãƒ‡ãƒ¼ã‚¿ã§æ¤œè¨¼
```

---

## ğŸ“ ã¾ã¨ã‚

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š

âœ… **7å€‹ã®E2Eã‚·ãƒŠãƒªã‚ª**ï¼ˆCritical 4ä»¶ã€High 2ä»¶ã€Medium 1ä»¶ï¼‰  
âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å›³**ï¼ˆMermaid flowchart/sequenceDiagramï¼‰  
âœ… **Seleniumè‡ªå‹•åŒ–ã‚³ãƒ¼ãƒ‰**ï¼ˆPython + pytestï¼‰  
âœ… **ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆè¨ˆç”»**ï¼ˆChrome/Safari/Firefoxï¼‰  
âœ… **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³æ¤œè¨¼**  
âœ… **ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£å–å¾—è¨­å®š**

ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰æ¤œè¨¼ã«ã‚ˆã‚Šã€**å®Ÿéš›ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨**ã‚’ç¢ºèªã—ã¾ã™ã€‚
