# ã‚¯ãƒ©ã‚¹å›³ä½œæˆãƒ«ãƒ¼ãƒ«

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ†é¡:** è©³ç´°è¨­è¨ˆæ›¸  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0  
**æœ€çµ‚æ›´æ–°æ—¥:** 2025-10-30

---

## ğŸ“‹ 1. åŸºæœ¬æƒ…å ±

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå
ã‚¯ãƒ©ã‚¹å›³ (Class Diagram)

### ç›®çš„
- ã‚·ã‚¹ãƒ†ãƒ ã®é™çš„ãªæ§‹é€ ã‚’ã‚¯ãƒ©ã‚¹ãƒ¬ãƒ™ãƒ«ã§å¯è¦–åŒ–ã™ã‚‹
- ã‚¯ãƒ©ã‚¹é–“ã®é–¢ä¿‚æ€§ï¼ˆç¶™æ‰¿ã€é–¢é€£ã€ä¾å­˜ï¼‰ã‚’æ˜ç¢ºã«ã™ã‚‹
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆã®å…¨ä½“åƒã‚’æŠŠæ¡ã™ã‚‹
- å®Ÿè£…ã®é’å†™çœŸã‚’æä¾›ã™ã‚‹

### å¯¾è±¡èª­è€…
- **ä¸»è¦èª­è€…**: é–‹ç™ºãƒªãƒ¼ãƒ€ãƒ¼ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼
- **å‰¯æ¬¡èª­è€…**: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼

### é–¢é€£æˆæœç‰©
- **å…¥åŠ›**: åŸºæœ¬è¨­è¨ˆæ›¸ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸
- **å‡ºåŠ›**: è©³ç´°è¨­è¨ˆæ›¸ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

---

## â° 2. ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨å‰ææ¡ä»¶

### ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **é–‹å§‹**: è©³ç´°è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºåºç›¤
- **å®Œäº†**: è©³ç´°è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼å‰
- **æ›´æ–°**: ã‚¯ãƒ©ã‚¹æ§‹é€ å¤‰æ›´æ™‚ã«éšæ™‚æ›´æ–°

### å‰ææ¡ä»¶
- [ ] åŸºæœ¬è¨­è¨ˆå®Œæˆ
- [ ] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²å®Œäº†
- [ ] è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®é¸å®šå®Œäº†

### ä½œæˆã«ã‹ã‹ã‚‹æ¨™æº–æœŸé–“
- **å°è¦æ¨¡ï¼ˆã€œ30ã‚¯ãƒ©ã‚¹ï¼‰**: 2-3æ—¥
- **ä¸­è¦æ¨¡ï¼ˆ30-100ã‚¯ãƒ©ã‚¹ï¼‰**: 1-2é€±é–“
- **å¤§è¦æ¨¡ï¼ˆ100ã‚¯ãƒ©ã‚¹ã€œï¼‰**: 2-3é€±é–“

---

## ğŸ“ 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

### å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³

#### 3.1 å…¨ä½“ã‚¯ãƒ©ã‚¹å›³
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¯ãƒ©ã‚¹æ§‹é€ ï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ï¼‰

```mermaid
classDiagram
    %% ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
    class UserController {
        -UserService userService
        +createUser(request) UserResponse
        +getUser(userId) UserResponse
        +updateUser(userId, request) UserResponse
        +deleteUser(userId) void
    }
    
    %% ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
    class UserService {
        -UserRepository userRepository
        -UserValidator userValidator
        -PasswordEncoder passwordEncoder
        +createUser(request) User
        +getUserById(userId) User
        +updateUser(userId, request) User
        +deleteUser(userId) void
        -validateUser(request) void
    }
    
    class UserValidator {
        +validateEmail(email) boolean
        +validatePassword(password) boolean
        +validatePhone(phone) boolean
    }
    
    %% ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
    class User {
        -Long userId
        -String email
        -String passwordHash
        -String name
        -String phone
        -UserStatus status
        -LocalDateTime createdAt
        +changePassword(newPassword) void
        +updateProfile(name, phone) void
    }
    
    class UserStatus {
        <<enumeration>>
        ACTIVE
        INACTIVE
        DELETED
    }
    
    %% ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
    class UserRepository {
        <<interface>>
        +save(user) User
        +findById(userId) Optional~User~
        +findByEmail(email) Optional~User~
        +existsByEmail(email) boolean
        +deleteById(userId) void
    }
    
    class UserRepositoryImpl {
        -JdbcTemplate jdbcTemplate
        +save(user) User
        +findById(userId) Optional~User~
        +findByEmail(email) Optional~User~
    }
    
    %% é–¢ä¿‚æ€§
    UserController --> UserService : uses
    UserService --> UserRepository : uses
    UserService --> UserValidator : uses
    UserService --> User : creates/manages
    User --> UserStatus : has
    UserRepositoryImpl ..|> UserRepository : implements
```

#### 3.2 ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã‚¯ãƒ©ã‚¹å›³

##### 3.2.1 ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
```mermaid
classDiagram
    class UserController {
        -UserService userService
        +createUser(UserCreateRequest) ResponseEntity~UserResponse~
        +getUser(Long) ResponseEntity~UserResponse~
        +listUsers(Pageable) ResponseEntity~Page~UserResponse~~
        +updateUser(Long, UserUpdateRequest) ResponseEntity~UserResponse~
        +deleteUser(Long) ResponseEntity~Void~
    }
    
    class UserCreateRequest {
        +String email
        +String password
        +String name
        +String phone
    }
    
    class UserUpdateRequest {
        +String name
        +String phone
    }
    
    class UserResponse {
        +Long userId
        +String email
        +String name
        +String phone
        +String status
        +LocalDateTime createdAt
    }
    
    UserController --> UserCreateRequest : receives
    UserController --> UserUpdateRequest : receives
    UserController --> UserResponse : returns
```

##### 3.2.2 ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
```mermaid
classDiagram
    class UserService {
        -UserRepository userRepository
        -UserValidator userValidator
        -PasswordEncoder passwordEncoder
        -EmailService emailService
        +createUser(UserCreateRequest) User
        +getUserById(Long) User
        +searchUsers(UserSearchCriteria) List~User~
        +updateUser(Long, UserUpdateRequest) User
        +deleteUser(Long) void
        +changePassword(Long, String, String) void
        -validateUserCreation(UserCreateRequest) void
        -encodePassword(String) String
        -sendWelcomeEmail(User) void
    }
    
    class UserValidator {
        +validateEmail(String) ValidationResult
        +validatePassword(String) ValidationResult
        +validatePhone(String) ValidationResult
        +validateUserCreateRequest(UserCreateRequest) ValidationResult
    }
    
    class PasswordEncoder {
        <<interface>>
        +encode(rawPassword) String
        +matches(rawPassword, encodedPassword) boolean
    }
    
    class BcryptPasswordEncoder {
        -int strength
        +encode(rawPassword) String
        +matches(rawPassword, encodedPassword) boolean
    }
    
    UserService --> UserValidator : uses
    UserService --> PasswordEncoder : uses
    BcryptPasswordEncoder ..|> PasswordEncoder : implements
```

##### 3.2.3 ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
```mermaid
classDiagram
    class User {
        -Long userId
        -String email
        -String passwordHash
        -String name
        -String phone
        -UserStatus status
        -LocalDateTime createdAt
        -LocalDateTime updatedAt
        -Integer version
        +User(email, passwordHash, name)
        +changePassword(newPasswordHash) void
        +updateProfile(name, phone) void
        +activate() void
        +deactivate() void
        +delete() void
        +isActive() boolean
    }
    
    class UserStatus {
        <<enumeration>>
        ACTIVE
        INACTIVE
        DELETED
    }
    
    class ValidationResult {
        -boolean valid
        -List~String~ errors
        +isValid() boolean
        +getErrors() List~String~
        +addError(error) void
    }
    
    User --> UserStatus : has
```

#### 3.3 ã‚¯ãƒ©ã‚¹è©³ç´°å®šç¾©

å„ã‚¯ãƒ©ã‚¹ã«ã¤ã„ã¦ä»¥ä¸‹ã‚’è¨˜è¼‰:

##### ã‚¯ãƒ©ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
| é …ç›® | å†…å®¹ |
|-----|------|
| **ã‚¯ãƒ©ã‚¹å** | UserService |
| **ã‚¹ãƒ†ãƒ¬ã‚ªã‚¿ã‚¤ãƒ—** | <<Service>> |
| **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸** | com.example.service |
| **è²¬å‹™** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| **è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³** | Service Layer Pattern |

##### å±æ€§ï¼ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰å®šç¾©
| åå‰ | å‹ | å¯è¦–æ€§ | åˆæœŸå€¤ | èª¬æ˜ |
|-----|---|--------|--------|------|
| userRepository | UserRepository | private | DI | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªãƒã‚¸ãƒˆãƒª |
| userValidator | UserValidator | private | DI | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ |
| passwordEncoder | PasswordEncoder | private | DI | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ |

##### æ“ä½œï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰å®šç¾©
| åå‰ | æˆ»ã‚Šå€¤ | å¼•æ•° | å¯è¦–æ€§ | èª¬æ˜ |
|-----|--------|------|--------|------|
| createUser | User | UserCreateRequest | public | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ |
| getUserById | User | Long userId | public | ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾— |
| validateUserCreation | void | UserCreateRequest | private | ä½œæˆæ™‚æ¤œè¨¼ |

#### 3.4 é–¢ä¿‚æ€§ã®å®šç¾©

##### 3.4.1 é–¢é€£ï¼ˆAssociationï¼‰
```mermaid
classDiagram
    class Order {
        -Long orderId
        -Customer customer
    }
    class Customer {
        -Long customerId
    }
    Order --> Customer : has
```

**å¤šé‡åº¦ã®è¡¨è¨˜**
- `1` : 1ã¤
- `0..1` : 0ã¾ãŸã¯1ã¤
- `*` : 0ä»¥ä¸Š
- `1..*` : 1ä»¥ä¸Š
- `n..m` : nä»¥ä¸Šmä»¥ä¸‹

##### 3.4.2 é›†ç´„ï¼ˆAggregationï¼‰
```mermaid
classDiagram
    class ShoppingCart {
        -List~CartItem~ items
    }
    class CartItem {
        -Product product
        -int quantity
    }
    ShoppingCart o-- CartItem : contains
```

##### 3.4.3 ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ï¼ˆCompositionï¼‰
```mermaid
classDiagram
    class Order {
        -List~OrderItem~ items
    }
    class OrderItem {
        -Product product
        -int quantity
    }
    Order *-- OrderItem : owns
```

##### 3.4.4 ç¶™æ‰¿ï¼ˆInheritanceï¼‰
```mermaid
classDiagram
    class User {
        <<abstract>>
        #Long userId
        #String email
        +login() void
    }
    class AdminUser {
        -List~Permission~ permissions
        +manageUsers() void
    }
    class RegularUser {
        -int loyaltyPoints
        +earnPoints(amount) void
    }
    AdminUser --|> User : extends
    RegularUser --|> User : extends
```

##### 3.4.5 å®Ÿè£…ï¼ˆRealizationï¼‰
```mermaid
classDiagram
    class UserRepository {
        <<interface>>
        +save(user) User
        +findById(id) Optional~User~
    }
    class UserRepositoryImpl {
        -JdbcTemplate jdbcTemplate
        +save(user) User
        +findById(id) Optional~User~
    }
    UserRepositoryImpl ..|> UserRepository : implements
```

##### 3.4.6 ä¾å­˜ï¼ˆDependencyï¼‰
```mermaid
classDiagram
    class UserController {
        +createUser(request) UserResponse
    }
    class UserCreateRequest {
        +String email
    }
    UserController ..> UserCreateRequest : uses
```

---

## âœï¸ 4. è¨˜è¼‰ãƒ«ãƒ¼ãƒ«

### 4.1 UMLè¨˜æ³•ã®æ¨™æº–

#### å¯è¦–æ€§ã®è¡¨è¨˜
- `+` : public
- `-` : private
- `#` : protected
- `~` : package private

#### é™çš„ãƒ¡ãƒ³ãƒãƒ¼ã®è¡¨è¨˜
- <u>underline</u> : static

#### æŠ½è±¡ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®è¡¨è¨˜
- *italic* ã¾ãŸã¯ <<abstract>>

### 4.2 å‘½åè¦å‰‡

#### ã‚¯ãƒ©ã‚¹å
- PascalCase
- åè©ã¾ãŸã¯åè©å¥
- å…·ä½“çš„ã§æ„å‘³ãŒæ˜ç¢º

#### ãƒ¡ã‚½ãƒƒãƒ‰å
- camelCase
- å‹•è©ã§é–‹å§‹
- æ„å›³ãŒæ˜ç¢º

#### å±æ€§å
- camelCase
- åè©
- å‹ãŒæ¨æ¸¬å¯èƒ½

### 4.3 Mermaidè¨˜æ³•

#### åŸºæœ¬æ§‹æ–‡
```
classDiagram
    class ClassName {
        -privateField type
        #protectedField type
        +publicField type
        -privateMethod() returnType
        +publicMethod(param) returnType
    }
```

#### é–¢ä¿‚æ€§ã®è¨˜æ³•
| é–¢ä¿‚ | è¨˜æ³• | æ„å‘³ |
|-----|------|------|
| ç¶™æ‰¿ | `<\|--` | extends |
| å®Ÿè£… | `..\|>` | implements |
| é–¢é€£ | `-->` | has-a |
| é›†ç´„ | `o--` | aggregation |
| ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ | `*--` | composition |
| ä¾å­˜ | `..>` | uses |

---

## âœ… 5. å“è³ªåŸºæº–

### 5.1 å®Œæˆåº¦ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### ç¶²ç¾…æ€§
- [ ] ã™ã¹ã¦ã®ä¸»è¦ã‚¯ãƒ©ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [ ] ã‚¯ãƒ©ã‚¹é–“ã®é–¢ä¿‚æ€§ãŒæ˜ç¢º
- [ ] å±æ€§ã¨æ“ä½œãŒé©åˆ‡ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹

#### ä¸€è²«æ€§
- [ ] å‘½åè¦å‰‡ãŒçµ±ä¸€ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†ã‘ãŒæ˜ç¢º
- [ ] è²¬å‹™ã®åˆ†æ‹…ãŒé©åˆ‡

#### å“è³ª
- [ ] SOLIDåŸå‰‡ã«æº–æ‹ 
- [ ] å¾ªç’°ä¾å­˜ãŒãªã„
- [ ] ç–çµåˆãƒ»é«˜å‡é›†

### 5.2 ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

- [ ] ã‚¯ãƒ©ã‚¹ã®è²¬å‹™ã¯å˜ä¸€ã‹ï¼ˆSRPï¼‰
- [ ] æ‹¡å¼µã«é–‹ã„ã¦ä¿®æ­£ã«é–‰ã˜ã¦ã„ã‚‹ã‹ï¼ˆOCPï¼‰
- [ ] æŠ½è±¡ã«ä¾å­˜ã—ã¦ã„ã‚‹ã‹ï¼ˆDIPï¼‰
- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢ã¯é©åˆ‡ã‹ï¼ˆISPï¼‰

---

## ğŸ¤– 6. AIä½œæˆæ™‚ã®å…·ä½“çš„æŒ‡ç¤º

### 6.1 å¿…é ˆè¨˜è¼‰é …ç›®

1. **å®Œå…¨ãªã‚¯ãƒ©ã‚¹å®šç¾©**
   - ã™ã¹ã¦ã®å±æ€§ï¼ˆå‹ã€å¯è¦–æ€§ï¼‰
   - ã™ã¹ã¦ã®æ“ä½œï¼ˆå¼•æ•°ã€æˆ»ã‚Šå€¤ã€å¯è¦–æ€§ï¼‰
   - ã‚¹ãƒ†ãƒ¬ã‚ªã‚¿ã‚¤ãƒ—ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

2. **æ˜ç¢ºãªé–¢ä¿‚æ€§**
   - ç¶™æ‰¿ãƒ»å®Ÿè£…
   - é–¢é€£ãƒ»é›†ç´„ãƒ»ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³
   - å¤šé‡åº¦

3. **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†ã‘**
   - ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
   - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤

### 6.2 é¿ã‘ã‚‹ã¹ãè¡¨ç¾

âŒ **NGä¾‹**:
- ã‚¯ãƒ©ã‚¹ã« "å‡¦ç†" ã‚„ "ç®¡ç†" ã®ã¿ã®åå‰
- å±æ€§ã®å‹ãŒä¸æ˜ç¢º
- ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ãŒçœç•¥

âœ… **OKä¾‹**:
- å…·ä½“çš„ãªã‚¯ãƒ©ã‚¹åï¼ˆUserService, OrderRepositoryï¼‰
- å‹ã‚’æ˜è¨˜ï¼ˆ-userRepository: UserRepositoryï¼‰
- å®Œå…¨ãªã‚·ã‚°ãƒãƒãƒ£ï¼ˆ+createUser(request: UserCreateRequest): Userï¼‰

---

## ğŸ“š 7. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è©³ç´°è¨­è¨ˆæ›¸](./è©³ç´°è¨­è¨ˆæ›¸ä½œæˆãƒ«ãƒ¼ãƒ«.md)
- [ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³](./ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ä½œæˆãƒ«ãƒ¼ãƒ«.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸](../../03_åŸºæœ¬è¨­è¨ˆ/ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸ä½œæˆãƒ«ãƒ¼ãƒ«.md)

---

## âš ï¸ 8. ã‚ˆãã‚ã‚‹å¤±æ•—ä¾‹ã¨å¯¾ç­–

| å¤±æ•—ä¾‹ | åŸå›  | å¯¾ç­– |
|--------|------|------|
| **God Class** | è²¬å‹™ã®é›†ä¸­ | SRPã«åŸºã¥ãåˆ†å‰² |
| **å¾ªç’°ä¾å­˜** | è¨­è¨ˆã®ä¸å‚™ | ä¾å­˜é–¢ä¿‚ã‚’æ•´ç†ã€æŠ½è±¡åŒ– |
| **éåº¦ãªç¶™æ‰¿** | èª¤ã£ãŸæ±ç”¨åŒ– | ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨ |
| **è²§è¡€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«** | ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†æ•£ | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ãƒ­ã‚¸ãƒƒã‚¯ã‚’é…ç½® |

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´**
- v1.0 (2025-10-30): åˆç‰ˆä½œæˆ
