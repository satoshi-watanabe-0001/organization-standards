# è©³ç´°è¨­è¨ˆæ›¸ä½œæˆãƒ«ãƒ¼ãƒ«

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ†é¡:** è©³ç´°è¨­è¨ˆæ›¸  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0  
**æœ€çµ‚æ›´æ–°æ—¥:** 2025-10-30

---

## ğŸ“‹ 1. åŸºæœ¬æƒ…å ±

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå
è©³ç´°è¨­è¨ˆæ›¸ (Detailed Design Document / DDD)

### ç›®çš„
- ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒç›´æ¥ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã¾ã§è¨­è¨ˆã‚’è©³ç´°åŒ–ã™ã‚‹
- ã‚¯ãƒ©ã‚¹ã€ãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å…·ä½“çš„ã«å®šç¾©ã™ã‚‹
- å®Ÿè£…ä¸Šã®åˆ¤æ–­åŸºæº–ã¨æŠ€è¡“çš„ãªè©³ç´°ã‚’æ˜ç¢ºã«ã™ã‚‹
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®åŸºæº–ã¨ãªã‚‹è¨­è¨ˆæ„å›³ã‚’è¨˜éŒ²ã™ã‚‹

### å¯¾è±¡èª­è€…
- **ä¸»è¦èª­è€…**: ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã€é–‹ç™ºãƒªãƒ¼ãƒ€ãƒ¼
- **å‰¯æ¬¡èª­è€…**: ãƒ†ã‚¹ã‚¿ãƒ¼ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã€ä¿å®ˆæ‹…å½“è€…

### é–¢é€£æˆæœç‰©
- **å…¥åŠ›**: åŸºæœ¬è¨­è¨ˆæ›¸ï¼ˆã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³ã€DBè¨­è¨ˆæ›¸ã€ç”»é¢è¨­è¨ˆæ›¸ï¼‰
- **å‡ºåŠ›**: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€å˜ä½“ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜éŒ²

---

## â° 2. ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨å‰ææ¡ä»¶

### ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **é–‹å§‹**: è©³ç´°è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºé–‹å§‹ï¼ˆåŸºæœ¬è¨­è¨ˆå®Œäº†å¾Œï¼‰
- **å®Œäº†**: è©³ç´°è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†ã€å®Ÿè£…é–‹å§‹å‰
- **æ›´æ–°**: å®Ÿè£…ä¸­ã®è¨­è¨ˆå¤‰æ›´æ™‚ã«éšæ™‚æ›´æ–°

### å‰ææ¡ä»¶
- [ ] åŸºæœ¬è¨­è¨ˆæ›¸å®Œæˆï¼ˆã™ã¹ã¦ï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸å®Œæˆ
- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆæ›¸å®Œæˆ
- [ ] é–‹ç™ºç’°å¢ƒæ§‹ç¯‰å®Œäº†

### ä½œæˆã«ã‹ã‹ã‚‹æ¨™æº–æœŸé–“
- **å°è¦æ¨¡ï¼ˆã€œ50ã‚¯ãƒ©ã‚¹ï¼‰**: 2-3é€±é–“
- **ä¸­è¦æ¨¡ï¼ˆ50-150ã‚¯ãƒ©ã‚¹ï¼‰**: 4-6é€±é–“
- **å¤§è¦æ¨¡ï¼ˆ150ã‚¯ãƒ©ã‚¹ã€œï¼‰**: 6-10é€±é–“

---

## ğŸ“ 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆ

### å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³

#### 3.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæƒ…å ±
- ã‚¿ã‚¤ãƒˆãƒ«
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- ä½œæˆæ—¥ãƒ»æ›´æ–°æ—¥
- ä½œæˆè€…ãƒ»ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼

#### 3.2 è¨­è¨ˆæ¦‚è¦
- æ‹…å½“æ©Ÿèƒ½ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ¦‚è¦
- åŸºæœ¬è¨­è¨ˆã¨ã®å¯¾å¿œé–¢ä¿‚
- è¨­è¨ˆæ–¹é‡ã¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

#### 3.3 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ
```mermaid
graph TB
    subgraph "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤"
        Controller[UserController]
        DTO[UserDTO]
    end
    
    subgraph "ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤"
        Service[UserService]
        Domain[User Entity]
        Validator[UserValidator]
    end
    
    subgraph "ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤"
        Repository[UserRepository]
        Mapper[UserMapper]
    end
    
    Controller --> DTO
    Controller --> Service
    Service --> Domain
    Service --> Validator
    Service --> Repository
    Repository --> Mapper
```

#### 3.4 ã‚¯ãƒ©ã‚¹è©³ç´°è¨­è¨ˆ

å„ã‚¯ãƒ©ã‚¹ã”ã¨ã«ä»¥ä¸‹ã‚’è¨˜è¼‰:

##### 3.4.1 ã‚¯ãƒ©ã‚¹åŸºæœ¬æƒ…å ±
| é …ç›® | å†…å®¹ |
|-----|------|
| **ã‚¯ãƒ©ã‚¹å** | UserService |
| **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸** | com.example.service |
| **è²¬å‹™** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| **ä¾å­˜ã‚¯ãƒ©ã‚¹** | UserRepository, UserValidator, EmailService |
| **è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³** | Service Layer Pattern |

##### 3.4.2 ã‚¯ãƒ©ã‚¹æ§‹é€ 
```java
@Service
public class UserService {
    // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    private final UserRepository userRepository;
    private final UserValidator userValidator;
    private final EmailService emailService;
    private final PasswordEncoder passwordEncoder;
    
    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼ˆDIï¼‰
    @Autowired
    public UserService(
        UserRepository userRepository,
        UserValidator userValidator,
        EmailService emailService,
        PasswordEncoder passwordEncoder
    ) {
        this.userRepository = userRepository;
        this.userValidator = userValidator;
        this.emailService = emailService;
        this.passwordEncoder = passwordEncoder;
    }
    
    // ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰
    public User createUser(UserCreateRequest request);
    public User getUserById(Long userId);
    public List<User> searchUsers(UserSearchCriteria criteria);
    public User updateUser(Long userId, UserUpdateRequest request);
    public void deleteUser(Long userId);
    
    // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰
    private void validateUserCreation(UserCreateRequest request);
    private String encodePassword(String rawPassword);
    private void sendWelcomeEmail(User user);
}
```

##### 3.4.3 ãƒ¡ã‚½ãƒƒãƒ‰è©³ç´°è¨­è¨ˆ

**ãƒ¡ã‚½ãƒƒãƒ‰: createUser**

| é …ç›® | å†…å®¹ |
|-----|------|
| **ãƒ¡ã‚½ãƒƒãƒ‰å** | createUser |
| **å¯è¦–æ€§** | public |
| **æˆ»ã‚Šå€¤** | Userï¼ˆä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰ |
| **å¼•æ•°** | UserCreateRequest requestï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ |
| **ä¾‹å¤–** | ValidationException, DuplicateEmailException |
| **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³** | @Transactional |

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**
```java
/**
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ–°è¦ä½œæˆã™ã‚‹
 * 
 * @param request ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ
 * @return ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼
 * @throws ValidationException å…¥åŠ›å€¤ãŒä¸æ­£ãªå ´åˆ
 * @throws DuplicateEmailException ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒé‡è¤‡ã—ã¦ã„ã‚‹å ´åˆ
 */
@Transactional
public User createUser(UserCreateRequest request) {
    // 1. å…¥åŠ›å€¤æ¤œè¨¼
    validateUserCreation(request);
    
    // 2. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯
    if (userRepository.existsByEmail(request.getEmail())) {
        throw new DuplicateEmailException("ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™");
    }
    
    // 3. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–
    String encodedPassword = encodePassword(request.getPassword());
    
    // 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ç”Ÿæˆ
    User user = User.builder()
        .email(request.getEmail())
        .passwordHash(encodedPassword)
        .name(request.getName())
        .phone(request.getPhone())
        .status(UserStatus.ACTIVE)
        .createdAt(LocalDateTime.now())
        .build();
    
    // 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜
    User savedUser = userRepository.save(user);
    
    // 6. ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆéåŒæœŸï¼‰
    sendWelcomeEmail(savedUser);
    
    // 7. ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿”å´
    return savedUser;
}
```

**ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°**
```
1. å…¥åŠ›å€¤æ¤œè¨¼
   - å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯ï¼ˆemail, password, nameï¼‰
   - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼ï¼ˆemail: RFC 5322, phone: 10-11æ¡æ•°å­—ï¼‰
   - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯ï¼ˆ8æ–‡å­—ä»¥ä¸Šã€è‹±æ•°è¨˜å·å«ã‚€ï¼‰

2. é‡è¤‡ãƒã‚§ãƒƒã‚¯
   - SELECT COUNT(*) FROM users WHERE email = ?
   - çµæœãŒ0ã‚ˆã‚Šå¤§ãã„å ´åˆã€DuplicateEmailExceptionã‚’ã‚¹ãƒ­ãƒ¼

3. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
   - bcryptã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆcost factor: 12ï¼‰
   - ã‚½ãƒ«ãƒˆã¯è‡ªå‹•ç”Ÿæˆ

4. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç”Ÿæˆ
   - Builderãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç”Ÿæˆ
   - status: ACTIVEï¼ˆåˆæœŸå€¤ï¼‰
   - createdAt: ç¾åœ¨æ™‚åˆ»

5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜
   - userRepository.save()å‘¼ã³å‡ºã—
   - è‡ªå‹•æ¡ç•ªã•ã‚ŒãŸIDã‚’å–å¾—

6. ãƒ¡ãƒ¼ãƒ«é€ä¿¡
   - éåŒæœŸå®Ÿè¡Œï¼ˆ@Asyncï¼‰
   - é€ä¿¡å¤±æ•—ã—ã¦ã‚‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ãªã„

7. æˆ»ã‚Šå€¤
   - ä¿å­˜ã•ã‚ŒãŸUserã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆIDã‚’å«ã‚€ï¼‰
```

**ä¾‹å¤–å‡¦ç†**
| ä¾‹å¤– | ç™ºç”Ÿæ¡ä»¶ | å‡¦ç† |
|-----|---------|------|
| ValidationException | å…¥åŠ›å€¤ä¸æ­£ | 400 Bad Requestã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿”å´ |
| DuplicateEmailException | ãƒ¡ãƒ¼ãƒ«é‡è¤‡ | 409 Conflictã€é‡è¤‡ã‚¨ãƒ©ãƒ¼è¿”å´ |
| DataAccessException | DBæ¥ç¶šã‚¨ãƒ©ãƒ¼ | 500 Internal Server Errorã€ãƒ­ã‚°è¨˜éŒ² |

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®**
- ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã¯éåŒæœŸå®Ÿè¡Œï¼ˆå‡¦ç†æ™‚é–“: æ•°ç§’ï¼‰
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã¯1å›ã®ã¿ï¼ˆN+1å•é¡Œãªã—ï¼‰
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“: å¹³å‡50msä»¥å†…

#### 3.5 ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ

##### 3.5.1 ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹
```java
@Entity
@Table(name = "users")
@Getter
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long userId;
    
    @Column(nullable = false, unique = true, length = 255)
    private String email;
    
    @Column(nullable = false, length = 255)
    private String passwordHash;
    
    @Column(nullable = false, length = 100)
    private String name;
    
    @Column(length = 20)
    private String phone;
    
    @Enumerated(EnumType.STRING)
    @Column(nullable = false, length = 20)
    private UserStatus status;
    
    @Column(nullable = false, updatable = false)
    private LocalDateTime createdAt;
    
    @Column(nullable = false)
    private LocalDateTime updatedAt;
    
    @Version
    private Integer version;  // æ¥½è¦³çš„ãƒ­ãƒƒã‚¯
}
```

##### 3.5.2 DTOã‚¯ãƒ©ã‚¹
```java
@Data
public class UserCreateRequest {
    @NotBlank(message = "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™")
    @Email(message = "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“")
    private String email;
    
    @NotBlank(message = "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å¿…é ˆã§ã™")
    @Pattern(regexp = "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$",
             message = "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§ã€è‹±å­—ã€æ•°å­—ã€è¨˜å·ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™")
    private String password;
    
    @NotBlank(message = "æ°åã¯å¿…é ˆã§ã™")
    @Size(max = 100, message = "æ°åã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„")
    private String name;
    
    @Pattern(regexp = "^[0-9]{10,11}$", message = "é›»è©±ç•ªå·ã¯10-11æ¡ã®æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„")
    private String phone;
}
```

#### 3.6 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

##### 3.6.1 ä¾‹å¤–éšå±¤
```mermaid
graph TB
    RuntimeException --> BusinessException
    BusinessException --> ValidationException
    BusinessException --> ResourceNotFoundException
    BusinessException --> DuplicateResourceException
    BusinessException --> UnauthorizedException
```

##### 3.6.2 ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```java
@ControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(ValidationException.class)
    public ResponseEntity<ErrorResponse> handleValidation(ValidationException ex) {
        ErrorResponse error = ErrorResponse.builder()
            .status("error")
            .code("VALIDATION_ERROR")
            .message(ex.getMessage())
            .details(ex.getFieldErrors())
            .timestamp(LocalDateTime.now())
            .build();
        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(error);
    }
    
    @ExceptionHandler(DuplicateEmailException.class)
    public ResponseEntity<ErrorResponse> handleDuplicate(DuplicateEmailException ex) {
        ErrorResponse error = ErrorResponse.builder()
            .status("error")
            .code("DUPLICATE_EMAIL")
            .message(ex.getMessage())
            .timestamp(LocalDateTime.now())
            .build();
        return ResponseEntity.status(HttpStatus.CONFLICT).body(error);
    }
}
```

#### 3.7 ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ–¹é‡

##### 3.7.1 å˜ä½“ãƒ†ã‚¹ãƒˆå¯¾è±¡
- ã™ã¹ã¦ã®publicãƒ¡ã‚½ãƒƒãƒ‰
- å¢ƒç•Œå€¤ã®ãƒ†ã‚¹ãƒˆ
- ä¾‹å¤–ãƒ‘ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

##### 3.7.2 ãƒ¢ãƒƒã‚¯å¯¾è±¡
- å¤–éƒ¨ä¾å­˜ï¼ˆRepository, EmailServiceï¼‰
- æ™‚åˆ»ä¾å­˜ï¼ˆLocalDateTime.now()ï¼‰

---

## âœï¸ 4. è¨˜è¼‰ãƒ«ãƒ¼ãƒ«

### 4.1 å‘½åè¦å‰‡

#### ã‚¯ãƒ©ã‚¹å‘½å
- **Entity**: åè©å˜æ•°å½¢ï¼ˆUser, Productï¼‰
- **Service**: {Entity}Serviceï¼ˆUserServiceï¼‰
- **Repository**: {Entity}Repositoryï¼ˆUserRepositoryï¼‰
- **Controller**: {Entity}Controllerï¼ˆUserControllerï¼‰
- **DTO**: {Entity}{ç›®çš„}ï¼ˆUserCreateRequest, UserResponseï¼‰

#### ãƒ¡ã‚½ãƒƒãƒ‰å‘½å
- **å–å¾—**: get{Entity}ï¼ˆgetUser, getUserListï¼‰
- **ä½œæˆ**: create{Entity}ï¼ˆcreateUserï¼‰
- **æ›´æ–°**: update{Entity}ï¼ˆupdateUserï¼‰
- **å‰Šé™¤**: delete{Entity}ï¼ˆdeleteUserï¼‰
- **æ¤œè¨¼**: validate{å¯¾è±¡}ï¼ˆvalidateEmailï¼‰
- **å¤‰æ›**: to{å¤‰æ›å…ˆ}ï¼ˆtoEntity, toDtoï¼‰

#### å¤‰æ•°å‘½å
- **ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°**: camelCaseï¼ˆuserId, userNameï¼‰
- **å®šæ•°**: UPPER_SNAKE_CASEï¼ˆMAX_RETRY_COUNTï¼‰
- **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³**: è¤‡æ•°å½¢ï¼ˆusers, productsï¼‰

### 4.2 ã‚³ãƒ¡ãƒ³ãƒˆè¦å‰‡

#### ã‚¯ãƒ©ã‚¹ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…é ˆï¼‰
```java
/**
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æä¾›ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹
 * 
 * <p>ã“ã®ã‚¯ãƒ©ã‚¹ã¯ä»¥ä¸‹ã®è²¬å‹™ã‚’æŒã¤ï¼š
 * <ul>
 *   <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆã€æ›´æ–°ã€å‰Šé™¤</li>
 *   <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®æ¤œè¨¼</li>
 *   <li>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–</li>
 * </ul>
 * 
 * @author ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒãƒ¼ãƒ 
 * @version 1.0
 * @since 2025-10-30
 */
```

#### ãƒ¡ã‚½ãƒƒãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆpublic/protectedã¯å¿…é ˆï¼‰
```java
/**
 * æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹
 * 
 * <p>å…¥åŠ›å€¤ã®æ¤œè¨¼ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–ã‚’è¡Œã„ã€
 * ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã™ã‚‹ã€‚ä¿å­˜å¾Œã€ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒ¼ãƒ«ã‚’éåŒæœŸã§é€ä¿¡ã™ã‚‹ã€‚
 * 
 * @param request ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆå¿…é ˆé …ç›®: email, password, nameï¼‰
 * @return ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆè‡ªå‹•æ¡ç•ªã•ã‚ŒãŸIDã‚’å«ã‚€ï¼‰
 * @throws ValidationException å…¥åŠ›å€¤ãŒä¸æ­£ãªå ´åˆ
 * @throws DuplicateEmailException ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å ´åˆ
 */
```

### 4.3 è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®é©ç”¨

è¨˜è¼‰ã™ã¹ãè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³:
- **ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ‘ã‚¿ãƒ¼ãƒ³å
- **é©ç”¨ç†ç”±**: ãªãœã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠã—ãŸã‹
- **å®Ÿè£…ã‚¯ãƒ©ã‚¹**: ã©ã®ã‚¯ãƒ©ã‚¹ãŒã©ã®å½¹å‰²ã‚’æ‹…ã†ã‹

---

## âœ… 5. å“è³ªåŸºæº–

### 5.1 å®Œæˆåº¦ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### ç¶²ç¾…æ€§
- [ ] ã™ã¹ã¦ã®ã‚¯ãƒ©ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [ ] ã™ã¹ã¦ã®publicãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆEntity, DTOï¼‰ãŒæ˜ç¢º
- [ ] ä¾‹å¤–å‡¦ç†ãŒç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹

#### è©³ç´°åº¦
- [ ] ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒè¿·ã‚ãªã„ãƒ¬ãƒ™ãƒ«ã®è©³ç´°ã•
- [ ] ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒç–‘ä¼¼ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§è¨˜è¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿å‹ã€å¼•æ•°ã€æˆ»ã‚Šå€¤ãŒæ˜è¨˜
- [ ] å¢ƒç•Œæ¡ä»¶ã€ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ãŒæ˜è¨˜

#### å“è³ª
- [ ] SOLIDåŸå‰‡ã«æº–æ‹ 
- [ ] DRYåŸå‰‡ï¼ˆé‡è¤‡ãªã—ï¼‰
- [ ] YAGNIåŸå‰‡ï¼ˆéå‰°è¨­è¨ˆãªã—ï¼‰
- [ ] ç–çµåˆãƒ»é«˜å‡é›†

### 5.2 ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

#### è¨­è¨ˆå“è³ª
- [ ] è²¬å‹™ãŒæ˜ç¢ºã§å˜ä¸€ã‹ï¼ˆSRPï¼‰
- [ ] ä¾å­˜é–¢ä¿‚ãŒé©åˆ‡ã‹ï¼ˆDIPï¼‰
- [ ] ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ã‹

#### å®Ÿè£…å¯èƒ½æ€§
- [ ] ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒç†è§£ã§ãã‚‹è©³ç´°åº¦ã‹
- [ ] æ›–æ˜§ã•ãŒãªã„ã‹
- [ ] å®Ÿè£…ä¸Šã®åˆ¤æ–­åŸºæº–ãŒæ˜ç¢ºã‹

---

## ğŸ¤– 6. AIä½œæˆæ™‚ã®å…·ä½“çš„æŒ‡ç¤º

### 6.1 å¿…é ˆè¨˜è¼‰é …ç›®

1. **å®Œå…¨ãªã‚¯ãƒ©ã‚¹å®šç¾©**
   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆå‹ã€ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­ï¼‰
   - ãƒ¡ã‚½ãƒƒãƒ‰ã‚·ã‚°ãƒãƒãƒ£ï¼ˆå¼•æ•°ã€æˆ»ã‚Šå€¤ã€ä¾‹å¤–ï¼‰
   - ä¾å­˜é–¢ä¿‚

2. **è©³ç´°ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼**
   - ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
   - æ¡ä»¶åˆ†å²ã®åˆ¤æ–­åŸºæº–
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

3. **å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹**
   - ç–‘ä¼¼ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯å®Ÿè£…ä¾‹
   - é‡è¦ãªãƒ­ã‚¸ãƒƒã‚¯ã¯å®Ÿã‚³ãƒ¼ãƒ‰

### 6.2 é¿ã‘ã‚‹ã¹ãè¡¨ç¾

âŒ **NGä¾‹**:
- "é©åˆ‡ã«å‡¦ç†ã™ã‚‹" â†’ âœ… "bcryptï¼ˆcost 12ï¼‰ã§ãƒãƒƒã‚·ãƒ¥åŒ–"
- "ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹" â†’ âœ… "userRepository.findById(userId).orElseThrow(() -> new NotFoundException())"
- "ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯" â†’ âœ… "email: RFC 5322æº–æ‹ ã€password: 8æ–‡å­—ä»¥ä¸Šè‹±æ•°è¨˜å·å«ã‚€"

---

## ğŸ“š 7. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [åŸºæœ¬è¨­è¨ˆæ›¸](../../03_åŸºæœ¬è¨­è¨ˆ/README.md)
- [ã‚¯ãƒ©ã‚¹å›³](./ã‚¯ãƒ©ã‚¹å›³ä½œæˆãƒ«ãƒ¼ãƒ«.md)
- [ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³](./ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ä½œæˆãƒ«ãƒ¼ãƒ«.md)
- [å˜ä½“ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸](./å˜ä½“ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ä½œæˆãƒ«ãƒ¼ãƒ«.md)

---

## âš ï¸ 8. ã‚ˆãã‚ã‚‹å¤±æ•—ä¾‹ã¨å¯¾ç­–

| å¤±æ•—ä¾‹ | åŸå›  | å¯¾ç­– |
|--------|------|------|
| **è©³ç´°åº¦ãŒä¸è¶³** | åŸºæœ¬è¨­è¨ˆã¨ã®åŒºåˆ¥ä¸æ˜ç¢º | ãƒ¡ã‚½ãƒƒãƒ‰ãƒ¬ãƒ™ãƒ«ã¾ã§è©³ç´°åŒ– |
| **éåº¦ãªè¨­è¨ˆ** | å°†æ¥ã®æ‹¡å¼µã‚’è€ƒãˆã™ã | YAGNIåŸå‰‡ã€ç¾åœ¨å¿…è¦ãªã‚‚ã®ã ã‘ |
| **å®Ÿè£…ã¨ã®ä¹–é›¢** | è¨­è¨ˆæ›¸ã®æ›´æ–°æ¼ã‚Œ | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ã«è¨­è¨ˆæ›¸ã‚‚ç¢ºèª |
| **ä¾‹å¤–å‡¦ç†ã®ä¸å‚™** | ãƒãƒƒãƒ”ãƒ¼ãƒ‘ã‚¹ã®ã¿è€ƒæ…® | ã™ã¹ã¦ã®ä¾‹å¤–ãƒ‘ã‚¹ã‚’æ˜è¨˜ |

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´**
- v1.0 (2025-10-30): åˆç‰ˆä½œæˆ
